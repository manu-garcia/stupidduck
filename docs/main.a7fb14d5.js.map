{"version":3,"sources":["node_modules/xgl/node_modules/gl-matrix/esm/common.js","node_modules/xgl/node_modules/gl-matrix/esm/mat2.js","node_modules/xgl/node_modules/gl-matrix/esm/mat2d.js","node_modules/xgl/node_modules/gl-matrix/esm/mat3.js","node_modules/xgl/node_modules/gl-matrix/esm/mat4.js","node_modules/xgl/node_modules/gl-matrix/esm/vec3.js","node_modules/xgl/node_modules/gl-matrix/esm/vec4.js","node_modules/xgl/node_modules/gl-matrix/esm/quat.js","node_modules/xgl/node_modules/gl-matrix/esm/quat2.js","node_modules/xgl/node_modules/gl-matrix/esm/vec2.js","node_modules/xgl/node_modules/gl-matrix/esm/index.js","../../src/gl/gl.ts","../../src/gl/shader.ts","../../../src/gl/shaders/basicShader.ts","../../src/gl/glBuffer.ts","../../src/graphics/materialManager.ts","../../src/math/vector2.ts","../../src/math/vector3.ts","../../src/graphics/vertex.ts","../../src/graphics/sprite.ts","../../src/components/baseComponent.ts","../../src/components/spriteComponent.ts","../../src/message/messageSubscriptionNode.ts","../../src/message/messageBus.ts","../../src/message/message.ts","../../src/assets/imageAssetLoader.ts","../../src/assets/jsonAssetLoader.ts","../../src/assets/TextAssetLoader.ts","../../src/assets/assetManager.ts","../../src/graphics/animatedSprite.ts","../../src/components/animatedSpriteComponent.ts","../../src/math/matrix4x4.ts","../../src/math/transform.ts","../../src/world/simObject.ts","../../src/world/scene.ts","../../src/components/componentManager.ts","../../src/behaviors/behaviorManager.ts","../../src/world/zone.ts","../../src/world/zoneManager.ts","../../src/behaviors/baseBehavior.ts","../../src/behaviors/rotationBehavior.ts","../../src/input/inputManager.ts","../../src/behaviors/keyboardMovementBehavior.ts","../../src/audio/audioManager.ts","../../../src/graphics/shapes2D/circle2D.ts","../../../src/graphics/shapes2D/rectangle2D.ts","../../src/collision/CollisionManager.ts","../../src/components/collisionComponent.ts","../../src/behaviors/ScrollBehavior.ts","../../src/graphics/BitmapFont.ts","../../src/graphics/BitmapFontManager.ts","../../src/graphics/texture.ts","../../src/graphics/textureManager.ts","../../src/graphics/material.ts","../../src/graphics/color.ts","../../src/graphics/BitmapText.ts","../../src/components/BitmapTextComponent.ts","../../src/behaviors/MouseClickBehavior.ts","../../src/behaviors/VisibilityOnMessageBehavior.ts","../src/xgl.ts","../../src/math/mathExtensions.ts","src/behaviors/PlayerBehavior.ts","src/main.ts"],"names":["EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","setMatrixArrayType","type","degree","PI","toRadian","a","equals","b","abs","max","hypot","i","y","arguments","length","sqrt","create","out","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","set","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","s","sin","c","cos","scale","v","v0","v1","fromRotation","fromScaling","str","frob","LDU","L","D","U","add","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","d","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","t","len","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","r","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","p","angle","tempA","tempB","cosine","acos","zero","div","dist","sqrDist","sqrLen","forEach","vec","stride","offset","count","fn","arg","l","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fTrace","fRoot","j","k","fromEuler","halfToRad","cx","cy","cz","vec4","rotationTo","tmpvec3","vec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","mat3","view","dq","w1","fromRotationTranslationValues","outer","quat","mat4","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","len1","len2"],"mappings":"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","file":"main.a7fb14d5.js","sourceRoot":"..","sourcesContent":["/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b, c,\r\n *  d, tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {quat} a     Origin unit quaternion \r\n * @param  {quat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n * \r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q a normalized quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","\nexport let gl: WebGLRenderingContext;\n\nexport class GLUtilities {\n\n    public static init(elId?: string): HTMLCanvasElement {\n        let canvas: HTMLCanvasElement;\n\n        if (elId !== undefined) {\n            canvas = document.getElementById(elId) as HTMLCanvasElement;\n            if (canvas === undefined) {\n                throw new Error(`Unable to find DOM element with ID: ${elId}`);\n            }\n        } else {\n            canvas = document.createElement('canvas') as HTMLCanvasElement;\n            document.body.appendChild(canvas);\n        }\n\n        gl = canvas.getContext('webgl') as WebGLRenderingContext;\n        if (gl === undefined || gl === null) {\n            gl = canvas.getContext('experimental-webgl') as WebGLRenderingContext;\n            if (gl === undefined || gl === null) {\n                throw new Error('Unable to get the rendering context.')\n            }\n        }\n\n        // TODO: This should not be here. As it is a game configuration.\n        gl.clearColor(146 / 255, 206 / 255, 247 / 255, 1);\n\n        // Allows transparency in sprites\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n        return canvas;\n    }\n\n    public static clearFrame(): void {\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n}","import { gl } from './gl';\n\n/**\n * Shaders are the programs that run in the GPU (Written in Open GL ES Shader language, ES SL)\n */\nexport abstract class Shader {\n    private _name: string;\n    private _program: WebGLProgram;\n    private _attributes: { [name: string]: number } = {};\n    private _uniforms: { [name: string]: WebGLUniformLocation } = {};\n\n    public constructor(name: string) {\n        this._name = name;\n    }\n\n    /**\n     * Use the shaders\n     */\n    public use(): void {\n        gl.useProgram(this._program);\n    }\n\n    /**\n     * Gets the location of an attribute\n     * \n     * @param name The name of the attribute to get the location for\n     */\n    public getAttributeLocation(name: string): number {\n        if (this._attributes[name] === undefined) {\n            throw new Error(`Unable to find attribute ${name} in shader ${this._name}`);\n        }\n\n        return this._attributes[name];\n    }\n\n    /**\n     * Gets the location of a uniform\n     * \n     * @param name The name of the uniform to get the location for\n     */\n    public getUniformLocation(name: string): WebGLUniformLocation {\n        if (this._uniforms[name] === undefined) {\n            throw new Error(`Unable to find uniform ${name} in shader ${this._name}`);\n        }\n\n        return this._uniforms[name];\n    }\n\n    /**\n     * \n     * @param vertexSource \n     * @param fragmentSource \n     */\n    protected load(vertexSource: string, fragmentSource: string): void {\n\n        const vertexShader = this.loadShader(vertexSource, gl.VERTEX_SHADER);\n        const fragmentShader = this.loadShader(fragmentSource, gl.FRAGMENT_SHADER);\n\n        this.createProgram(vertexShader, fragmentShader);\n        this.detectAttributes();\n        this.detectUniforms();\n\n    }\n\n    private loadShader(source: string, shaderType: number): WebGLShader {\n        const shader = gl.createShader(shaderType) as WebGLShader;\n\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        const error = gl.getShaderInfoLog(shader)?.trim();\n        if (error !== '') {\n            throw new Error(`Error compiling shader: ${this._name} with error: ${error}`);\n        }\n\n        return shader;\n    }\n\n    private createProgram(vertexShader: WebGLShader, fragmentShader: WebGLShader): void {\n        this._program = gl.createProgram() as WebGLProgram;\n\n        gl.attachShader(this._program, vertexShader);\n        gl.attachShader(this._program, fragmentShader);\n\n        gl.linkProgram(this._program);\n\n        const error = gl.getProgramInfoLog(this._program)?.trim();\n        if (error !== '') {\n            throw new Error(`Error creating the WebGL program: ${this._program} with error: ${error}`);\n        }\n\n    }\n\n    /**\n     * Extract attributes from shader source so that we can reference them.\n     */\n    private detectAttributes(): void {\n        const attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n\n        for (let i = 0; i < attributeCount; i++) {\n            const info: WebGLActiveInfo = gl.getActiveAttrib(this._program, i) as WebGLActiveInfo;\n\n            if (!info) {\n                break;\n            }\n\n            this._attributes[info.name] = gl.getAttribLocation(this._program, info.name);\n        }\n    }\n\n    /**\n     * Extract uniforms from shader source so that we can reference them.\n     */\n    private detectUniforms(): void {\n        const uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n\n        for (let i = 0; i < uniformCount; i++) {\n            const info: WebGLActiveInfo = gl.getActiveUniform(this._program, i) as WebGLActiveInfo;\n\n            if (!info) {\n                break;\n            }\n\n            this._uniforms[info.name] = gl.getUniformLocation(this._program, info.name) as WebGLUniformLocation;\n        }\n    }\n\n}","import { Shader } from '../shader';\n\nexport class BasicShader extends Shader {\n\n    public constructor() {\n        super('basic');\n        this.load(this.getVertexSource(), this.getFragmentSource());\n    }\n\n    private getVertexSource(): string {\n\n        // Fragment shader does not have access to attributes, thats why we use v_textCoord to\n        // copy a_texCoord over the Fragment Shader from the Vertex Shader\n        return `\n            attribute vec3 a_position;\n            attribute vec2 a_texCoord;\n            \n            uniform mat4 u_projection;\n            uniform mat4 u_model;\n\n            varying vec2 v_textCoord;\n\n            void main() {\n                gl_Position = u_projection * u_model * vec4(a_position, 1.0);\n                v_textCoord = a_texCoord;\n            }\n        `;\n    }\n\n    private getFragmentSource(): string {\n        // sampler to retrieve color out of the texture\n        return `\n            precision mediump float;\n\n            uniform vec4 u_tint;\n            uniform sampler2D u_diffuse;\n\n            varying vec2 v_textCoord;\n\n            void main () {\n                gl_FragColor = u_tint * texture2D(u_diffuse, v_textCoord);\n            }\n        `;\n    }\n}","import { gl } from './gl';\n\n/**\n * Struct of data needed for GLBuffer attribute\n */\nexport class AttributeInfo {\n\n    /**\n     * Location of the attribute\n     */\n    public location: number;\n\n    /**\n     * Size of the attribute (number of elements). i.e Vector3 = 3\n     */\n    public size: number;\n\n    /**\n     * Number of elements from the beginning of the buffer\n     */\n    public offset: number;\n}\n\n/**\n * A WebGLBuffer wrap\n */\nexport class GLBuffer {\n\n    private _hasAttributeLocation: boolean = false;\n\n    // An element would be a set of three coordinates x,y and z\n    private _elementSize: number;\n\n    private _stride: number;\n    private _buffer: WebGLBuffer;\n    private _targetBufferType: number;\n    private _dataType: number;\n    private _mode: number;\n    private _typeSize: number;\n\n    private _data: number[] = [];\n    private _attributes: AttributeInfo[] = [];\n\n    /**\n     * Creates a new GL buffer\n     * \n     * @param dataType : Data type of this buffer. Defaults to gl.FLOAT\n     * @param targetBufferType : The buffer taget type. Defaults to gl.ARRAY_BUFFER\n     * @param mode : The drawing mode of this buffer. Defaults to gl.TRIANGLES\n     */\n    public constructor(dataType: number = gl.FLOAT, targetBufferType: number = gl.ARRAY_BUFFER, mode: number = gl.TRIANGLES) {\n\n        this._elementSize = 0;\n        this._dataType = dataType;\n        this._targetBufferType = targetBufferType;\n        this._mode = mode;\n\n        switch (this._dataType) {\n            case gl.FLOAT:\n            case gl.INT:\n            case gl.UNSIGNED_INT:\n                this._typeSize = 4;\n                break;\n\n            case gl.SHORT:\n            case gl.UNSIGNED_SHORT:\n                this._typeSize = 2;\n                break;\n\n            case gl.BYTE:\n            case gl.UNSIGNED_BYTE:\n                this._typeSize = 1;\n                break;\n\n            default:\n                throw new Error(`Unrecognised datatype ${this._dataType.toString()}`);\n        }\n\n        this._buffer = gl.createBuffer() as WebGLBuffer;\n    }\n\n    /**\n     * Delete the buffer from memory\n     */\n    public destroy(): void {\n        gl.deleteBuffer(this._buffer);\n    }\n\n    /**\n     * Binds this buffer\n     * \n     * @param normalised : Indicates whther the data should be normalised\n     */\n    public bind(normalised: boolean = false): void {\n        gl.bindBuffer(this._targetBufferType, this._buffer);\n\n        if (this._hasAttributeLocation) {\n            for (let attr of this._attributes) {\n                gl.vertexAttribPointer(attr.location, attr.size, this._dataType, normalised, this._stride, attr.offset * this._typeSize);\n                gl.enableVertexAttribArray(attr.location);\n            }\n        }\n    }\n\n    /**\n     * Unbinds this buffer\n     */\n    public unbind(): void {\n        for (let attr of this._attributes) {\n            gl.disableVertexAttribArray(attr.location);\n        }\n\n        gl.bindBuffer(this._targetBufferType, undefined!);\n    }\n\n    /**\n     * Adds an attribute with the provided information to this buffer\n     * @param info The information to be added\n     */\n    public addAttributeLocation(info: AttributeInfo): void {\n        this._hasAttributeLocation = true;\n\n        info.offset = this._elementSize;\n        this._attributes.push(info);\n        this._elementSize += info.size;\n\n        this._stride = this._elementSize * this._typeSize;\n    }\n\n    /**\n     * Replaces the current data in this budder with the provided data\n     * \n     * @param data : the data to be set to this buffer\n     */\n    public setData(data: number[]): void {\n        this.clearData();\n        this.pushBackData(data);\n    }\n\n    /**\n     * Adds data to this buffer\n     * @param data \n     */\n    public pushBackData(data: number[]): void {\n        for (let d of data) {\n            this._data.push(d);\n        }\n    }\n\n    /**\n     * Clears out all data in this buffer\n     */\n    public clearData(): void {\n        this._data.length = 0;\n    }\n\n    public upload(): void {\n\n        gl.bindBuffer(this._targetBufferType, this._buffer);\n\n        let bufferData: ArrayBuffer;\n\n        switch (this._dataType) {\n            case gl.FLOAT:\n                bufferData = new Float32Array(this._data);\n                break;\n\n            case gl.INT:\n                bufferData = new Int32Array(this._data);\n                break;\n\n            case gl.UNSIGNED_INT:\n                bufferData = new Uint32Array(this._data);\n                break;\n\n            case gl.SHORT:\n                bufferData = new Int16Array(this._data);\n                break;\n\n            case gl.UNSIGNED_SHORT:\n                bufferData = new Uint16Array(this._data);\n                break;\n\n            case gl.BYTE:\n                bufferData = new Int8Array(this._data);\n                break;\n\n            case gl.UNSIGNED_BYTE:\n                bufferData = new Uint8Array(this._data);\n                break;\n\n            default:\n                throw new Error(`Unrecognised datatype ${this._dataType.toString()} when uploading`);\n        }\n\n        gl.bufferData(this._targetBufferType, bufferData, gl.STATIC_DRAW);\n\n    }\n\n    /**\n     * Draws this buffer\n     */\n    public draw(): void {\n        if (this._targetBufferType === gl.ARRAY_BUFFER) {\n            gl.drawArrays(this._mode, 0, this._data.length / this._elementSize);\n        } else if (this._targetBufferType === gl.ELEMENT_ARRAY_BUFFER) {\n            gl.drawElements(this._mode, this._data.length, this._dataType, 0);\n        }\n    }\n\n}","import { Material } from \"./material\";\n\nclass MaterialReferenceNode {\n    public material: Material;\n    public referenceCount: number = 1;\n\n    public constructor(material: Material) {\n        this.material = material;\n    }\n\n}\nexport class MaterialManager {\n\n    private static _materials: { [name: string]: MaterialReferenceNode } = {};\n    private constructor() {\n\n    }\n\n    public static registerMaterial(material: Material): void {\n        if (MaterialManager._materials[material.name] === undefined) {\n            MaterialManager._materials[material.name] = new MaterialReferenceNode(material);\n        }\n    }\n\n    public static getMaterial(materialName: string): Material {\n        if (MaterialManager._materials[materialName] === undefined) {\n            return undefined!;\n        }\n\n        MaterialManager._materials[materialName].referenceCount++;\n        return MaterialManager._materials[materialName].material;\n    }\n\n    public static releaseMaterial(materialName: string): void {\n        if (MaterialManager._materials[materialName] === undefined) {\n            console.warn(`Cannot release material: ${materialName} which has not been registered.`);\n            return;\n        }\n\n        MaterialManager._materials[materialName].referenceCount--;\n        if (MaterialManager._materials[materialName].referenceCount < 1) {\n            MaterialManager._materials[materialName].material.destroy();\n            MaterialManager._materials[materialName].material = undefined!;\n            delete MaterialManager._materials[materialName];\n\n        }\n    }\n}","import { Vector3 } from \"./vector3\";\n\nexport class Vector2 {\n    private _x: number;\n    private _y: number;\n\n    public constructor(x: number = 0, y: number = 0) {\n        this._x = x;\n        this._y = y;\n    }\n\n    public get x(): number {\n        return this._x;\n    }\n\n    public set x(value: number) {\n        this._x = value;\n    }\n\n    public get y(): number {\n        return this._y;\n    }\n\n    public set y(value: number) {\n        this._y = value;\n    }\n\n    /** Returns a vector2 with all components set to 0. */\n    public static get zero(): Vector2 {\n        return new Vector2();\n    }\n\n    /** Returns a vector2 with all components set to 1. */\n    public static get one(): Vector2 {\n        return new Vector2(1, 1);\n    }\n\n    public static distance(a: Vector2, b: Vector2): number {\n        let diff = a.clone().subtract(b);\n\n        return Math.sqrt(diff.x * diff.x + diff.y * diff.y);\n    }\n\n    public set(x?: number, y?: number) {\n        if (x !== undefined) {\n            this._x = x;\n        }\n\n        if (y !== undefined) {\n            this._y = y;\n        }\n    }\n\n    public copyFrom(v: Vector2): void {\n        this._x = v._x;\n        this._y = v._y;\n    }\n\n    public toArray(): number[] {\n        return [this._x, this._y];\n    }\n\n    public toFlat32Array(): Float32Array {\n        return new Float32Array(this.toArray());\n    }\n\n    public toVector3(): Vector3 {\n        return new Vector3(this._x, this._y, 0);\n    }\n\n    public setFromJson(json: any): void {\n        if (json.x !== undefined) {\n            this._x = Number(json.x);\n        }\n\n        if (json.y !== undefined) {\n            this._y = Number(json.y);\n        }\n    }\n\n    public add(v: Vector2): Vector2 {\n        this._x += v._x;\n        this._y += v._y;\n\n        return this;\n    }\n\n\n    public subtract(v: Vector2): Vector2 {\n        this._x -= v._x;\n        this._y -= v._y;\n\n        return this;\n    }\n\n\n    public multiply(v: Vector2): Vector2 {\n        this._x *= v._x;\n        this._y *= v._y;\n\n        return this;\n    }\n\n\n    public divide(v: Vector2): Vector2 {\n        this._x /= v._x;\n        this._y /= v._y;\n\n        return this;\n    }\n\n    public scale(scale: number): Vector2 {\n        this._x *= scale;\n        this._y *= scale;\n\n        return this\n    }\n    public clone(): Vector2 {\n        return new Vector2(this._x, this._y);\n    }\n}","import { Vector2 } from \"./vector2\";\n\nexport class Vector3 {\n    private _x: number;\n    private _y: number;\n    private _z: number;\n\n    public constructor(x: number = 0, y: number = 0, z: number = 0) {\n        this._x = x;\n        this._y = y;\n        this._z = z;\n    }\n\n    public get x(): number {\n        return this._x;\n    }\n\n    public set x(value: number) {\n        this._x = value;\n    }\n\n    public get y(): number {\n        return this._y;\n    }\n\n    public set y(value: number) {\n        this._y = value;\n    }\n\n    public get z(): number {\n        return this._z;\n    }\n\n    public set z(value: number) {\n        this._z = value;\n    }\n\n    /** Returns a vector3 with all components set to 0. */\n    public static get zero(): Vector3 {\n        return new Vector3();\n    }\n\n    /** Returns a vector3 with all components set to 1. */\n    public static get one(): Vector3 {\n        return new Vector3(1, 1, 1);\n    }\n\n    public static distance(a: Vector3, b: Vector3): number {\n        let diff = a.clone().subtract(b);\n\n        return Math.sqrt(diff.x * diff.x + diff.y * diff.y + diff.z * diff.z);\n    }\n\n    public set(x?: number, y?: number, z?: number) {\n        if (x !== undefined) {\n            this._x = x;\n        }\n\n        if (y !== undefined) {\n            this._y = y;\n        }\n\n        if (z !== undefined) {\n            this._z = z;\n        }\n    }\n\n    public equals(v: Vector3): boolean {\n        return this.x === v.x && this.y === v.y && this.z === v.z;\n    }\n\n    /**\n     * Copies the contents of the provided vector to this vector.\n     * @param vector The vector to be copied.\n     */\n    public copyFrom(vector: Vector3): void {\n        this._x = vector._x;\n        this._y = vector._y;\n        this._z = vector._z;\n    }\n\n    public toArray(): number[] {\n        return [this._x, this._y, this._z];\n    }\n\n    public toFlat32Array(): Float32Array {\n        return new Float32Array(this.toArray());\n    }\n\n    public setFromJson(json: any): void {\n        if (json.x !== undefined) {\n            this._x = Number(json.x);\n        }\n\n        if (json.y !== undefined) {\n            this._y = Number(json.y);\n        }\n\n        if (json.z !== undefined) {\n            this._z = Number(json.z);\n        }\n    }\n\n    public add(v: Vector3): Vector3 {\n        this._x += v._x;\n        this._y += v._y;\n        this._z += v._z;\n\n        return this;\n    }\n\n\n    public subtract(v: Vector3): Vector3 {\n        this._x -= v._x;\n        this._y -= v._y;\n        this._z -= v._z;\n\n        return this;\n    }\n\n\n    public multiply(v: Vector3): Vector3 {\n        this._x *= v._x;\n        this._y *= v._y;\n        this._z *= v._z;\n\n        return this;\n    }\n\n\n    public divide(v: Vector3): Vector3 {\n        this._x /= v._x;\n        this._y /= v._y;\n        this._z /= v._z;\n\n        return this;\n    }\n\n    public clone(): Vector3 {\n        return new Vector3(this._x, this._y, this._z);\n    }\n\n    public toVector2(): Vector2 {\n        return new Vector2(this._x, this._y);\n    }\n}","import { Vector3 } from \"../math/vector3\";\nimport { Vector2 } from \"../math/vector2\";\n\n/**\n * Represents the data for a single vertex\n */\nexport class Vertex {\n    public position: Vector3 = Vector3.zero;\n    public textCoords: Vector2 = Vector2.zero;\n\n    public constructor(x: number = 0, y: number = 0, z: number = 0, tu: number = 0, tv: number = 0) {\n        this.position.x = x;\n        this.position.y = y;\n        this.position.z = z;\n\n        this.textCoords.x = tu;\n        this.textCoords.y = tv;\n    }\n\n    public toArray(): number[] {\n        let array: number[] = [];\n\n        array = array.concat(this.position.toArray());\n        array = array.concat(this.textCoords.toArray());\n\n        return array;\n    }\n\n    public toFloat32Array(): Float32Array {\n        return new Float32Array(this.toArray());\n    }\n}","import { gl } from '../gl/gl';\nimport { AttributeInfo, GLBuffer } from '../gl/glBuffer';\nimport { Shader } from '../gl/shader';\nimport { MaterialManager } from './materialManager';\nimport { Matrix4x4 } from '../math/matrix4x4';\nimport { Material } from './material';\nimport { Vertex } from './vertex';\nimport { Vector3 } from '../math/vector3';\n\nexport class Sprite {\n\n    protected _name: string;\n    protected _width: number;\n    protected _height: number;\n    protected _buffer: GLBuffer;\n    protected _materialName: string;\n    protected _material: Material;\n    protected _origin: Vector3 = Vector3.zero;\n\n    protected _vertices: Vertex[] = [];\n\n    public constructor(name: string, materialName: string, width: number = 100, height: number = 100) {\n        this._name = name;\n        this._width = width;\n        this._height = height;\n        this._materialName = materialName;\n\n        this._material = MaterialManager.getMaterial(this._materialName);\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get origin(): Vector3 {\n        return this._origin;\n    }\n\n    public set origin(value: Vector3) {\n        this._origin = value;\n\n        // TODO: This should be better dynamically calculated at the shader\n        this.recalculateVertices()\n    }\n\n    public get width(): number {\n        return this._width;\n    }\n\n    public get height(): number {\n        return this._height;\n    }\n\n    public destroy(): void {\n        this._buffer.destroy();\n        MaterialManager.releaseMaterial(this._materialName);\n        this._material = undefined!;\n        this._materialName = undefined!;\n    }\n\n    public load(): void {\n        this._buffer = new GLBuffer();\n        let positionAttribute = new AttributeInfo();\n\n        // positionAttribute.location = this._shader.getAttributeLocation('a_position');\n        // Standard set of attributes for now. Position attribute to be the first attribute in the shader.\n        positionAttribute.location = 0;\n        positionAttribute.size = 3;\n        this._buffer.addAttributeLocation(positionAttribute);\n\n        const textCoordAttribute = new AttributeInfo();\n        textCoordAttribute.location = 1;\n        textCoordAttribute.size = 2;\n        this._buffer.addAttributeLocation(textCoordAttribute);\n\n        this.calculateVertices();\n    }\n\n    public update(time: number): void {\n\n    }\n\n    public draw(shader: Shader, model: Matrix4x4): void {\n\n        const modelLocation = shader.getUniformLocation('u_model');\n        gl.uniformMatrix4fv(modelLocation, false, model.toFloat32Array());\n\n        const colorLocation = shader.getUniformLocation('u_tint');\n        // Orange tint\n        // gl.uniform4f(colorLocation, 1.0, 0.5, 0.0, 1.0);\n        // Blue tint\n        // gl.uniform4f(colorLocation, 0.0, 0.3, 1.0, 1.0);\n        // White tint\n        gl.uniform4fv(colorLocation, this._material.tint.toFloat32Array());\n\n        // What texture unit to unescape, 0 for now\n        if (this._material.diffuseTexture !== undefined) {\n            this._material.diffuseTexture.activateAndBind(0);\n            const diffuseLocation = shader.getUniformLocation('u_diffuse');\n            gl.uniform1i(diffuseLocation, 0);\n        }\n\n        this._buffer.bind();\n        this._buffer.draw();\n    }\n\n    protected calculateVertices() {\n\n        const minX = -(this._width * this._origin.x);\n        const maxX = this._width * (1.0 - this._origin.x);\n\n        const minY = -(this._height * this._origin.y);\n        const maxY = this._height * (1.0 - this._origin.y);\n\n        this._vertices = [\n            // x, y, z      u,v\n            new Vertex(minX, minY, 0, 0, 0),\n            new Vertex(minX, maxY, 0, 0, 1.0),\n            new Vertex(maxX, maxY, 0, 1.0, 1.0),\n\n            new Vertex(maxX, maxY, 0, 1.0, 1.0),\n            new Vertex(maxX, minY, 0, 1.0, 0),\n            new Vertex(minX, minY, 0, 0, 0)\n        ];\n\n        for (let v of this._vertices) {\n            this._buffer.pushBackData(v.toArray());\n        }\n\n        this._buffer.upload();\n        this._buffer.unbind();\n    }\n\n    protected recalculateVertices() {\n\n        const minX = -(this._width * this._origin.x);\n        const maxX = this._width * (1.0 - this._origin.x);\n\n        const minY = -(this._height * this._origin.y);\n        const maxY = this._height * (1.0 - this._origin.y);\n\n        this._vertices[0].position.set(minX, minY);\n        this._vertices[1].position.set(minX, maxY);\n        this._vertices[2].position.set(maxX, maxY);\n\n        this._vertices[3].position.set(maxX, maxY);\n        this._vertices[4].position.set(maxX, minY);\n        this._vertices[5].position.set(minX, minY);\n\n        this._buffer.clearData();\n        for (let v of this._vertices) {\n            this._buffer.pushBackData(v.toArray());\n        }\n\n        this._buffer.upload();\n        this._buffer.unbind();\n    }\n}","import { SimObject } from '../world/simObject';\nimport { Shader } from '../gl/shader';\nimport { IComponentBuilder } from './IComponentBuilder';\nimport { IComponentData } from './IComponentData';\n\nexport abstract class BaseComponent implements IComponentBuilder {\n    type: string;\n    buildFromJson(json: any): import(\"./IComponent\").IComponent {\n        throw new Error(\"Method not implemented.\");\n    }\n    protected _owner: SimObject;\n    protected _data: IComponentData;\n\n    public name: string;\n\n    public constructor(data: IComponentData) {\n        this._data = data;\n        this.name = data.name;\n    }\n\n    public get owner(): SimObject {\n        return this._owner;\n    }\n\n    public setOwner(owner: SimObject): void {\n        this._owner = owner;\n    }\n\n    public load(): void {\n\n    }\n\n    updateReady() { }\n\n    public update(time: number): void {\n\n    }\n\n    public render(shader: Shader): void {\n\n    }\n}","import { Shader } from '../gl/shader';\nimport { Sprite } from \"../graphics/sprite\";\nimport { BaseComponent } from \"./baseComponent\";\nimport { IComponent } from \"./IComponent\";\nimport { IComponentData } from './IComponentData';\nimport { IComponentBuilder } from './IComponentBuilder';\nimport { Vector3 } from '../math/vector3';\n\nexport class SpriteComponentData implements IComponentData {\n    public name: string;\n    public materialName: string;\n    public origin: Vector3 = Vector3.zero;\n    public width: number;\n    public height: number;\n\n    public setFromJson(json: any): void {\n        if (json.name !== undefined) {\n            this.name = String(json.name);\n        }\n\n        if (json.width !== undefined) {\n            this.width = Number(json.width);\n        }\n\n        if (json.height !== undefined) {\n            this.height = Number(json.height);\n        }\n\n        if (json.materialName !== undefined) {\n            this.materialName = String(json.materialName);\n        }\n\n        if (json.origin !== undefined) {\n            this.origin.setFromJson(json.origin);\n        }\n    }\n}\n\nexport class SpriteComponentBuilder implements IComponentBuilder {\n\n    public get type(): string {\n        return 'sprite';\n    }\n\n    public buildFromJson(json: any): IComponent {\n        const data = new SpriteComponentData();\n        data.setFromJson(json);\n        return new SpriteComponent(data);\n    }\n\n}\n\nexport class SpriteComponent extends BaseComponent {\n\n    private _sprite: Sprite;\n    private width: number;\n    private height: number;\n\n\n    public constructor(data: SpriteComponentData) {\n        super(data);\n\n        this.width = data.width;\n        this.height = data.height;\n        this._sprite = new Sprite(data.name, data.materialName, this.width, this.height);\n        if (!data.origin.equals(Vector3.zero)) {\n            this._sprite.origin.copyFrom(data.origin);\n        }\n    }\n\n    public load(): void {\n        this._sprite.load();\n    }\n\n    public render(shader: Shader): void {\n        this._sprite.draw(shader, this.owner.worldMatrix);\n        super.render(shader);\n    }\n}","import { Message } from './message';\nimport { IMessageHandler } from './IMessageHandler';\n\nexport class MessageSubscritionNode {\n\n    public message: Message;\n\n    public handler: IMessageHandler;\n\n    public constructor(message: Message, handler: IMessageHandler) {\n        this.message = message;\n        this.handler = handler;\n    }\n}","import { IMessageHandler } from './IMessageHandler';\nimport { Message, MessagePriotity } from './message';\nimport { MessageSubscritionNode } from './messageSubscriptionNode';\n\nexport class MessageBus {\n\n    private static _subscriptions: { [code: string]: IMessageHandler[] } = {};\n    private static _normalQueueMessagePerUpdate: number = 10;\n    private static _normalMessageQueue: MessageSubscritionNode[] = [];\n\n    private constructor() {\n\n    }\n\n    public static addSubscription(code: string, handler: IMessageHandler): void {\n        if (MessageBus._subscriptions[code] === undefined) {\n            MessageBus._subscriptions[code] = [];\n        }\n\n        if (MessageBus._subscriptions[code].indexOf(handler) !== -1) {\n            console.warn(`Attemping to add  a duplicate handler to code ${code}. Subscription not added.`);\n        } else {\n            MessageBus._subscriptions[code].push(handler);\n        }\n    }\n\n    public static removeSubscription(code: string, handler: IMessageHandler): void {\n\n        if (MessageBus._subscriptions[code] === undefined) {\n            console.warn(`Cannot unsubscribe handler from the code: ${code}, because that code is not subscribed to.`);\n            return;\n        }\n\n        const nodeIndex = MessageBus._subscriptions[code].indexOf(handler);\n        if (nodeIndex !== -1) {\n            MessageBus._subscriptions[code].splice(nodeIndex, 1);\n        }\n    }\n\n    public static post(message: Message): void {\n        console.log('Message posted', message);\n        const handlers = MessageBus._subscriptions[message.code];\n        if (handlers === undefined) {\n            return;\n        }\n\n        for (let h of handlers) {\n            if (message.priority === MessagePriotity.HIGH) {\n                h.onMessage(message);\n            } else {\n                MessageBus._normalMessageQueue.push(new MessageSubscritionNode(message, h));\n            }\n\n        }\n    }\n\n    public static update(time: number): void {\n        if (MessageBus._normalMessageQueue.length === 0) {\n            return;\n        }\n\n        const messageLimit = Math.min(MessageBus._normalQueueMessagePerUpdate, MessageBus._normalMessageQueue.length);\n        for (let i = 0; i < messageLimit; i++) {\n            const node = MessageBus._normalMessageQueue.pop();\n            node && node.handler.onMessage(node.message);\n        }\n    }\n\n}","import { MessageBus } from \"./messageBus\";\nimport { IMessageHandler } from \"./IMessageHandler\";\n\nexport enum MessagePriotity {\n    NORMAL,\n    HIGH\n}\n\nexport class Message {\n    public code: string;\n\n    public context: any;\n\n    public sender: any;\n\n    public priority: MessagePriotity;\n\n    public constructor(code: string, sender: any, context?: any, priority: MessagePriotity = MessagePriotity.NORMAL) {\n        this.code = code;\n        this.sender = sender;\n        this.context = context;\n        this.priority = priority;\n    }\n\n    public static send(code: string, sender: any, context?: any): void {\n        MessageBus.post(new Message(code, sender, context));\n    }\n\n    public static sendPriority(code: string, sender: any, context?: any): void {\n        MessageBus.post(new Message(code, sender, context, MessagePriotity.HIGH));\n    }\n\n    public static subscribe(code: string, handler: IMessageHandler): void {\n        MessageBus.addSubscription(code, handler);\n    }\n\n    public static unsubscribe(code: string, handler: IMessageHandler): void {\n        MessageBus.removeSubscription(code, handler);\n    }\n}","import { IAssetLoader } from \"./IAssetLoader\";\nimport { IAsset } from './IAsset';\nimport { AssetManager } from \"./assetManager\";\n\nexport class ImageAsset implements IAsset {\n    public readonly name: string;\n    public readonly data: HTMLImageElement;\n\n    public constructor(name: string, data: HTMLImageElement) {\n        this.name = name;\n        this.data = data;\n    }\n\n    get width(): number {\n        return this.data.width;\n    }\n\n    get height(): number {\n        return this.data.height;\n    }\n}\n\nexport class ImageAssetLoader implements IAssetLoader {\n\n    public get supportedExtensions(): string[] {\n        return ['png', 'gif', 'jpg'];\n    }\n\n    public loadAsset(assetName: string): void {\n        const image: HTMLImageElement = new Image();\n\n        image.onload = this.onImageLoaded.bind(this, assetName, image);\n\n        image.src = assetName;\n    }\n\n    private onImageLoaded(assetName: string, image: HTMLImageElement): void {\n        console.log('OnImageLoaded: assetName/Image', assetName, image);\n\n        const asset = new ImageAsset(assetName, image);\n        AssetManager.onAssetLoaded(asset);\n\n    }\n\n}","import { IAssetLoader } from \"./IAssetLoader\";\nimport { IAsset } from './IAsset';\nimport { AssetManager } from \"./assetManager\";\n\nexport class JsonAsset implements IAsset {\n    public readonly name: string;\n    public readonly data: any;\n\n    public constructor(name: string, data: any) {\n        this.name = name;\n        this.data = data;\n    }\n}\n\nexport class JsonAssetLoader implements IAssetLoader {\n\n    public get supportedExtensions(): string[] {\n        return ['json'];\n    }\n\n    public loadAsset(assetName: string): void {\n        const request: XMLHttpRequest = new XMLHttpRequest();\n        request.open('GET', assetName);\n        request.addEventListener('load', this.onJsonLoaded.bind(this, assetName, request));\n        request.send();\n    }\n\n    private onJsonLoaded(assetName: string, request: XMLHttpRequest): void {\n        console.log('OnImageLoaded: assetName/Image', assetName, request);\n\n        if (request.readyState === request.DONE) {\n            const json = JSON.parse(request.responseText);\n            const asset = new JsonAsset(assetName, json);\n            AssetManager.onAssetLoaded(asset);\n        }\n    }\n}","﻿import { IAsset } from \"./IAsset\";\nimport { IAssetLoader } from \"./IAssetLoader\";\nimport { AssetManager } from \"./assetManager\";\n\n/**\n * Represents a text file asset.\n */\nexport class TextAsset implements IAsset {\n\n    /** The name of this asset. */\n    public readonly name: string;\n\n    /** The content of this asset. */\n    public readonly data: string;\n\n    /**\n     * Creates a new text asset.\n     * @param name The name of this asset.\n     * @param data The content of this asset.\n     */\n    public constructor(name: string, data: string) {\n        this.name = name;\n        this.data = data;\n    }\n}\n\n/**\n * The loader for a text asset.\n */\nexport class TextAssetLoader implements IAssetLoader {\n\n    /**\n     * The list of supported file extensions.\n     */\n    public get supportedExtensions(): string[] {\n        return [\"txt\"];\n    }\n\n    /**\n     * Loads a text asset with the provided name.\n     * @param assetName The asset to be loaded.\n     */\n    public loadAsset(assetName: string): void {\n        let request = new XMLHttpRequest();\n        request.open(\"GET\", assetName);\n        request.addEventListener(\"load\", this.onTextLoaded.bind(this, assetName, request));\n        request.send();\n    }\n\n    /**\n     * Fired when a text asset has loaded.\n     * @param assetName The name of the asset.\n     * @param request The request object.\n     */\n    private onTextLoaded(assetName: string, request: XMLHttpRequest): void {\n        console.debug(\"onTextLoaded: assetName/request\", assetName, request);\n\n        if (request.readyState === request.DONE) {\n            let asset = new TextAsset(assetName, request.responseText);\n            AssetManager.onAssetLoaded(asset);\n        }\n    }\n}\n","import { IAssetLoader } from './IAssetLoader';\nimport { IAsset } from './IAsset';\nimport { Message } from '../message/message';\n\nimport { ImageAssetLoader } from './imageAssetLoader';\nimport { JsonAssetLoader } from './jsonAssetLoader';\nimport { TextAssetLoader } from './TextAssetLoader';\n\nexport const MESSAGE_ASSET_LOADER_ASSET_LOADED = 'MESSAGE_ASSET_LOADER_ASSET_LOADED::';\n\nexport class AssetManager {\n    private static _loaders: IAssetLoader[] = [];\n    private static _loadedAssets: { [name: string]: IAsset } = {};\n\n    private constructor() {\n\n    }\n\n    public static initialize(): void {\n        AssetManager._loaders.push(new ImageAssetLoader());\n        AssetManager._loaders.push(new JsonAssetLoader());\n        AssetManager._loaders.push(new TextAssetLoader());\n    }\n\n    public registerLoader(loader: IAssetLoader): void {\n        AssetManager._loaders.push(loader);\n    }\n\n    public static onAssetLoaded(asset: IAsset): void {\n        AssetManager._loadedAssets[asset.name] = asset;\n        Message.send(MESSAGE_ASSET_LOADER_ASSET_LOADED + asset.name, this, asset);\n    }\n\n    public static loadAsset(assetName: string): void {\n        let extension: string = assetName.split('.').pop() as string;\n        extension = extension ? extension.toLowerCase() : extension;\n\n        for (let l of AssetManager._loaders) {\n            if (l.supportedExtensions.indexOf(extension) !== -1) {\n                l.loadAsset(assetName);\n                return;\n            }\n        }\n\n        console.warn(`Unable to load asset with extension ${extension}, because there is no loader associated with it.`)\n    }\n\n    public static isAssetLoaded(assetName: string): boolean {\n        return AssetManager._loadedAssets[assetName] !== undefined;\n    }\n\n    public static getAsset(assetName: string): IAsset {\n        if (AssetManager.isAssetLoaded(assetName)) {\n            return AssetManager._loadedAssets[assetName];\n        } else {\n            AssetManager.loadAsset(assetName);\n        }\n\n        // @ts-ignore\n        return undefined;\n    }\n}","import { Vector2 } from '../math/vector2';\nimport { Sprite } from './sprite';\nimport { IMessageHandler } from '../message/IMessageHandler';\nimport { Message } from '../message/message';\nimport { MESSAGE_ASSET_LOADER_ASSET_LOADED, AssetManager } from '../assets/assetManager';\nimport { ImageAsset } from '../assets/imageAssetLoader';\nimport { MaterialManager } from './materialManager';\n\nclass UVInfo {\n    public min: Vector2;\n    public max: Vector2;\n    public constructor(min: Vector2, max: Vector2) {\n        this.min = min;\n        this.max = max;\n    }\n}\n\nexport class AnimatedSpriteInfo {\n\n    /** The name of this sprite */\n    public name: string;\n\n    /** The name of the material used by this sprite */\n    public materialName: string;\n\n    /** The width of this sprite. */\n    public width: number = 100;\n\n    /** The height of this sprite. */\n    public height: number = 100;\n\n    /** The frame width of this sprite. */\n    public frameWidth: number = 10;\n\n    /** The frame height of this sprite. */\n    public frameHeight: number = 10;\n\n    /** The number of frames to be animated. */\n    public frameCount: number = 1;\n\n    /** The sequence of frame indexes to be played. */\n    public frameSequence: number[] = [];\n\n    /** The number of milliseconds each frame takes. */\n    public frameTime: number = 60;\n}\n\nexport class AnimatedSprite extends Sprite implements IMessageHandler {\n\n    private _frameWidth: number;\n    private _frameHeight: number;\n    private _frameCount: number;\n    private _frameSequence: number[];\n\n    private _frameTime: number = 33;\n    private _frameUVs: UVInfo[] = [];\n\n    private _currentFrame: number = 0;\n    protected _currentTime: number = 0;\n    private _assetLoaded: boolean = false;\n    private _assetWidth: number = 2;\n    private _assetHeight: number = 2;\n\n    private _isPlaying: boolean = true;\n\n    public constructor(info: AnimatedSpriteInfo) {\n        super(info.name, info.materialName, info.width, info.height);\n\n        this._frameWidth = info.frameWidth;\n        this._frameHeight = info.frameHeight;\n        this._frameCount = info.frameCount;\n        this._frameSequence = info.frameSequence;\n        this._frameTime = info.frameTime;\n\n        Message.subscribe(MESSAGE_ASSET_LOADER_ASSET_LOADED + this._material.diffuseTextureName, this);\n\n    }\n\n    public get isPlaying(): boolean {\n        return this._isPlaying;\n    }\n\n    public destroy(): void {\n        super.destroy();\n    }\n\n    public play() {\n        this._isPlaying = true;\n    }\n\n    public stop() {\n        this._isPlaying = false;\n    }\n\n    public setFrame(frameNumber: number) {\n        if (frameNumber >= this._frameCount) {\n            throw new Error(`Frame is out of range: ${frameNumber}, frame count ${this._frameCount}`);\n        }\n\n        this._currentFrame = frameNumber;\n    }\n\n    /**\n     * Calculates UV coordinates once the texture is loaded\n     * \n     * @param message \n     */\n    public onMessage(message: Message): void {\n        if (message.code === MESSAGE_ASSET_LOADER_ASSET_LOADED + this._material.diffuseTextureName) {\n\n            this._assetLoaded = true;\n\n            const asset = message.context as ImageAsset;\n            this._assetWidth = asset.width;\n            this._assetHeight = asset.height;\n\n            this._calculateUVs();\n        }\n    }\n\n    public load(): void {\n        super.load();\n\n        if (!this._assetLoaded) {\n            this.setupFromMaterial();\n        }\n    }\n\n    public update(time: number): void {\n\n        if (!this._assetLoaded) {\n            this.setupFromMaterial();\n            return;\n        }\n\n        if (!this._isPlaying) {\n            return;\n        }\n\n        this._currentTime += time;\n\n        if (this._currentTime > this._frameTime) {\n            this._currentFrame++;\n            this._currentTime = 0;\n\n            if (this._currentFrame >= this._frameSequence.length) {\n                this._currentFrame = 0;\n            }\n\n            // Gets current frame U and V coordinates within the tiled texture containing all sprite frames\n            // Example data as reference\n            // this._vertices = [\n            //     // x, y, z      u,v\n            //     new Vertex(0, 0, 0, 0, 0),\n            //     new Vertex(0, this._height, 0, 0, 1.0),\n            //     new Vertex(this._width, this._height, 0, 1.0, 1.0),\n\n            //     new Vertex(this._width, this._height, 0, 1.0, 1.0),\n            //     new Vertex(this._width, 0, 0, 1.0, 0),\n            //     new Vertex(0, 0, 0, 0, 0)\n            // ];\n            const frameUVs = this._frameSequence[this._currentFrame];\n            this._vertices[0].textCoords.copyFrom(this._frameUVs[frameUVs].min);\n            this._vertices[1].textCoords = new Vector2(this._frameUVs[frameUVs].min.x, this._frameUVs[frameUVs].max.y);\n\n            this._vertices[2].textCoords.copyFrom(this._frameUVs[frameUVs].max);\n            this._vertices[3].textCoords.copyFrom(this._frameUVs[frameUVs].max);\n\n            this._vertices[4].textCoords = new Vector2(this._frameUVs[frameUVs].max.x, this._frameUVs[frameUVs].min.y);\n            this._vertices[5].textCoords.copyFrom(this._frameUVs[frameUVs].min);\n\n            this._buffer.clearData();\n            for (let v of this._vertices) {\n                this._buffer.pushBackData(v.toArray());\n            }\n\n            this._buffer.upload();\n            this._buffer.bind();\n\n        }\n\n        super.update(time);\n    }\n\n    private _calculateUVs(): void {\n\n        let totalWidth: number = 0;\n        let yValue: number = 0;\n\n        for (let i = 0; i < this._frameCount; ++i) {\n            totalWidth = i * this._frameWidth;\n\n            if (totalWidth > this._assetWidth) {\n                yValue++;\n                totalWidth = 0;\n            }\n\n            let uMin = (i * this._frameWidth) / this._assetWidth;\n            let vMin = (yValue * this._frameHeight) / this._assetHeight;\n            let min: Vector2 = new Vector2(uMin, vMin);\n\n            let uMax = ((i * this._frameWidth) + this._frameWidth) / this._assetWidth;\n            let vMax = ((yValue * this._frameHeight) + this._frameHeight) / this._assetHeight;\n            let max: Vector2 = new Vector2(uMax, vMax);\n\n            this._frameUVs.push(new UVInfo(min, max));\n\n        }\n    }\n\n    // Fixes race condition where texture has been cached\n    private setupFromMaterial() {\n        if (!this._assetLoaded) {\n            const material = MaterialManager.getMaterial(this._materialName);\n            if (material.diffuseTexture.isLoaded) {\n                if (AssetManager.isAssetLoaded(material.diffuseTextureName)) {\n                    this._assetWidth = material.diffuseTexture.width;\n                    this._assetHeight = material.diffuseTexture.height;\n                    this._assetLoaded = true;\n                    this._calculateUVs();\n                }\n            }\n        }\n    }\n}","import { Shader } from '../gl/shader';\nimport { AnimatedSprite, AnimatedSpriteInfo } from \"../graphics/animatedSprite\";\nimport { BaseComponent } from \"./baseComponent\";\nimport { IComponent } from \"./IComponent\";\nimport { IComponentData } from './IComponentData';\nimport { IComponentBuilder } from './IComponentBuilder';\nimport { SpriteComponentData } from './spriteComponent';\nimport { Vector3 } from '../math/vector3';\n\nexport class AnimatedSpriteComponentData extends SpriteComponentData implements IComponentData {\n\n    public frameWidth: number;\n    public frameHeight: number;\n    public frameCount: number;\n    public frameSequence: number[] = [];\n    public autoPlay: boolean = true;\n    public frameTime: number = 33;\n\n    public setFromJson(json: any): void {\n        super.setFromJson(json);\n\n        if (json.autoPlay !== undefined) {\n            this.autoPlay = Boolean(json.autoPlay);\n        }\n\n        if (json.frameWidth === undefined) {\n            throw new Error(\"AnimatedComponentData requires 'frameWidth' to be defined\");\n        } else {\n            this.frameWidth = Number(json.frameWidth);\n        }\n\n        if (json.frameHeight === undefined) {\n            throw new Error(\"AnimatedComponentData requires 'frameHeight' to be defined\");\n        } else {\n            this.frameHeight = Number(json.frameHeight);\n        }\n\n        if (json.frameCount === undefined) {\n            throw new Error(\"AnimatedComponentData requires 'frameCount' to be defined\");\n        } else {\n            this.frameCount = Number(json.frameCount);\n        }\n\n        if (json.frameSequence === undefined) {\n            throw new Error(\"AnimatedComponentData requires 'frameSequence' to be defined\");\n        } else {\n            this.frameSequence = json.frameSequence;\n        }\n\n        if (json.frameTime !== undefined) {\n            this.frameTime = Number(json.frameTime);\n        }\n    }\n}\n\nexport class AnimatedSpriteComponentBuilder implements IComponentBuilder {\n\n    public get type(): string {\n        return 'animatedSprite';\n    }\n\n    public buildFromJson(json: any): IComponent {\n        const data = new AnimatedSpriteComponentData();\n        data.setFromJson(json);\n        return new AnimatedSpriteComponent(data);\n    }\n\n}\n\nexport class AnimatedSpriteComponent extends BaseComponent {\n\n    private _autoPlay: boolean;\n    private _sprite: AnimatedSprite;\n\n    public constructor(data: AnimatedSpriteComponentData) {\n        super(data);\n\n        this._autoPlay = data.autoPlay;\n\n        const spriteInfo = new AnimatedSpriteInfo();\n        spriteInfo.name = name;\n        spriteInfo.materialName = data.materialName;\n        spriteInfo.frameWidth = data.frameWidth;\n        spriteInfo.frameHeight = data.frameHeight;\n        spriteInfo.width = data.frameWidth;\n        spriteInfo.height = data.frameHeight;\n        spriteInfo.frameCount = data.frameCount\n        spriteInfo.frameSequence = data.frameSequence;\n        spriteInfo.frameTime = data.frameTime;\n\n        this._sprite = new AnimatedSprite(spriteInfo);\n        if (!data.origin.equals(Vector3.zero)) {\n            this._sprite.origin.copyFrom(data.origin);\n        }\n    }\n\n    public get isPlaying(): boolean {\n        return this._sprite.isPlaying;\n    }\n\n    public load(): void {\n        this._sprite.load();\n    }\n\n    public updateReady() {\n        if (!this._autoPlay) {\n            this._sprite.stop();\n        }\n    }\n\n    public update(time: number): void {\n\n        this._sprite.update(time);\n\n        super.update(time);\n    }\n\n    public render(shader: Shader): void {\n        this._sprite.draw(shader, this.owner.worldMatrix);\n        super.render(shader);\n    }\n\n    public play() {\n        this._sprite.play();\n    }\n\n    public stop() {\n        this._sprite.stop();\n    }\n\n    public setFrame(frameNumber: number) {\n        this._sprite.setFrame(frameNumber);\n    }\n}","\nimport { Vector3 } from './vector3';\n\n// Migrate math to use gl matrix library\n// http://glmatrix.net/\n// import { mat4 } from 'gl-matrix';\n\nexport class Matrix4x4 {\n\n    private _data: number[] = [];\n\n    private constructor() {\n        // Identity matrix\n        this._data = [\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            // Translation: x, y, z, n\n            0, 0, 0, 1,\n        ];\n    }\n\n    public get data(): number[] {\n        return this._data;\n    }\n\n    public static identity(): Matrix4x4 {\n        return new Matrix4x4();\n    }\n\n    // orthographic matrix renders all as it if would all be flat\n    public static orthographic(left: number, right: number, bottom: number, top: number, nearClip: number, farClip: number): Matrix4x4 {\n        const m = new Matrix4x4();\n\n        const lr: number = 1.0 / (left - right);\n        const bt: number = 1.0 / (bottom - top);\n        const nf: number = 1.0 / (nearClip - farClip);\n\n        // Replacing the diagonal 1s\n        m._data[0] = -2.0 * lr;\n        m._data[5] = -2.0 * bt;\n        m._data[10] = -2.0 * nf;\n\n        // Replacing last row\n        m._data[12] = (left + right) * lr;\n        m._data[13] = (top + bottom) * bt;\n        m._data[14] = (farClip + nearClip) * nf;\n\n        return m;\n    }\n\n    public static translation(position: Vector3): Matrix4x4 {\n        const m: Matrix4x4 = new Matrix4x4();\n\n        m._data[12] = position.x;\n        m._data[13] = position.y;\n        m._data[14] = position.z;\n\n        return m;\n    }\n\n    /**\n     * Creates a rotation matrix on the X axis from the provided angle in radians.\n     * @param angleInRadians The angle in radians.\n     */\n    public static rotationX(angleInRadians: number): Matrix4x4 {\n        let m = new Matrix4x4();\n\n        let c = Math.cos(angleInRadians);\n        let s = Math.sin(angleInRadians);\n\n        m._data[5] = c;\n        m._data[6] = s;\n        m._data[9] = -s;\n        m._data[10] = c;\n\n        return m;\n    }\n\n    /**\n     * Creates a rotation matrix on the Y axis from the provided angle in radians.\n     * @param angleInRadians The angle in radians.\n     */\n    public static rotationY(angleInRadians: number): Matrix4x4 {\n        let m = new Matrix4x4();\n\n        let c = Math.cos(angleInRadians);\n        let s = Math.sin(angleInRadians);\n\n        m._data[0] = c;\n        m._data[2] = -s;\n        m._data[8] = s;\n        m._data[10] = c;\n\n        return m;\n    }\n\n    /**\n     * Creates a rotation matrix on the Z axis from the provided angle in radians.\n     * \n     *  0..PI -> Half Rotation\n     *  0..2*PI -> Full Rotation\n     * \n     * @param angleInRadians The angle in radians.\n     */\n    public static rotationZ(angleInRadians: number): Matrix4x4 {\n        let m = new Matrix4x4();\n\n        let c = Math.cos(angleInRadians);\n        let s = Math.sin(angleInRadians);\n\n        m._data[0] = c;\n        m._data[1] = s;\n        m._data[4] = -s;\n        m._data[5] = c;\n\n        return m;\n    }\n\n    /**\n     * Creates a rotation matrix from the provided angles in radians.\n     * @param xRadians The angle in radians on the X axis. \n     * @param yRadians The angle in radians on the Y axis. \n     * @param zRadians The angle in radians on the Z axis. \n     */\n    public static rotationXYZ(xRadians: number, yRadians: number, zRadians: number): Matrix4x4 {\n        let rx = Matrix4x4.rotationX(xRadians);\n        let ry = Matrix4x4.rotationY(yRadians);\n        let rz = Matrix4x4.rotationZ(zRadians);\n\n        // ZYX\n        return Matrix4x4.multiply(Matrix4x4.multiply(rz, ry), rx);\n    }\n\n    /**\n     * Creates a scale matrix.\n     * @param scale The scale to use.\n     */\n    public static scale(scale: Vector3): Matrix4x4 {\n        let m = new Matrix4x4();\n\n        m._data[0] = scale.x;\n        m._data[5] = scale.y;\n        m._data[10] = scale.z;\n\n        return m;\n    }\n\n    /**\n     * Multiplies matrix a by matrix b and returns the result.\n     * @param a The first matrix.\n     * @param b The second matrix.\n     */\n    public static multiply(a: Matrix4x4, b: Matrix4x4): Matrix4x4 {\n        let m = new Matrix4x4();\n\n        let b00 = b._data[0 * 4 + 0];\n        let b01 = b._data[0 * 4 + 1];\n        let b02 = b._data[0 * 4 + 2];\n        let b03 = b._data[0 * 4 + 3];\n        let b10 = b._data[1 * 4 + 0];\n        let b11 = b._data[1 * 4 + 1];\n        let b12 = b._data[1 * 4 + 2];\n        let b13 = b._data[1 * 4 + 3];\n        let b20 = b._data[2 * 4 + 0];\n        let b21 = b._data[2 * 4 + 1];\n        let b22 = b._data[2 * 4 + 2];\n        let b23 = b._data[2 * 4 + 3];\n        let b30 = b._data[3 * 4 + 0];\n        let b31 = b._data[3 * 4 + 1];\n        let b32 = b._data[3 * 4 + 2];\n        let b33 = b._data[3 * 4 + 3];\n        let a00 = a._data[0 * 4 + 0];\n        let a01 = a._data[0 * 4 + 1];\n        let a02 = a._data[0 * 4 + 2];\n        let a03 = a._data[0 * 4 + 3];\n        let a10 = a._data[1 * 4 + 0];\n        let a11 = a._data[1 * 4 + 1];\n        let a12 = a._data[1 * 4 + 2];\n        let a13 = a._data[1 * 4 + 3];\n        let a20 = a._data[2 * 4 + 0];\n        let a21 = a._data[2 * 4 + 1];\n        let a22 = a._data[2 * 4 + 2];\n        let a23 = a._data[2 * 4 + 3];\n        let a30 = a._data[3 * 4 + 0];\n        let a31 = a._data[3 * 4 + 1];\n        let a32 = a._data[3 * 4 + 2];\n        let a33 = a._data[3 * 4 + 3];\n\n        m._data[0] = b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30;\n        m._data[1] = b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31;\n        m._data[2] = b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32;\n        m._data[3] = b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33;\n        m._data[4] = b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30;\n        m._data[5] = b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31;\n        m._data[6] = b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32;\n        m._data[7] = b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33;\n        m._data[8] = b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30;\n        m._data[9] = b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31;\n        m._data[10] = b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32;\n        m._data[11] = b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33;\n        m._data[12] = b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30;\n        m._data[13] = b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31;\n        m._data[14] = b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32;\n        m._data[15] = b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33;\n\n        return m;\n    }\n\n    /** Returns the data of this matrix as a Float32Array. */\n    public toFloat32Array(): Float32Array {\n        return new Float32Array(this._data);\n    }\n\n    /**\n     * Creates a copy of matrix m.\n     * @param m The matrix to copy.\n     */\n    public copyFrom(m: Matrix4x4): void {\n        for (let i = 0; i < 16; ++i) {\n            this._data[i] = m._data[i];\n        }\n    }\n}","import { Vector3 } from './vector3';\nimport { Matrix4x4 } from './matrix4x4';\n\n/**\n * Represents the transformation of an object, providing position, rotation and scale.\n */\nexport class Transform {\n\n    /** The position. Default: Vector3.zero */\n    public position: Vector3 = Vector3.zero;\n\n    /** The rotation. Default: Vector3.zero */\n    public rotation: Vector3 = Vector3.zero;\n\n    /** The rotation. Default: Vector3.one */\n    public scale: Vector3 = Vector3.one;\n\n    /**\n     * Creates a copy of the provided transform.\n     * @param transform The transform to be copied.\n     */\n    public copyFrom(transform: Transform): void {\n        this.position.copyFrom(transform.position);\n        this.rotation.copyFrom(transform.rotation);\n        this.scale.copyFrom(transform.scale);\n    }\n\n    /** Creates and returns a matrix based on this transform. */\n    public getTransformationMatrix(): Matrix4x4 {\n        let translation = Matrix4x4.translation(this.position);\n\n        let rotation = Matrix4x4.rotationXYZ(this.rotation.x, this.rotation.y, this.rotation.z);\n        let scale = Matrix4x4.scale(this.scale);\n\n        // T * R * S\n        return Matrix4x4.multiply(Matrix4x4.multiply(translation, rotation), scale);\n    }\n\n    /**\n     * Sets the values of this transform to the ones provided in the given JSON.\n     * Only values which are overridden need be provided. For example, a position of [0,1,0] \n     * needs only to provide the y value (1) as 0 is the default for x and z.\n     * @param json The JSON to set from.\n     */\n    public setFromJson(json: any): void {\n        if (json.position !== undefined) {\n            this.position.setFromJson(json.position);\n        }\n\n        if (json.rotation !== undefined) {\n            this.rotation.setFromJson(json.rotation);\n        }\n\n        if (json.scale !== undefined) {\n            this.scale.setFromJson(json.scale);\n        }\n    }\n}\n","import { Transform } from \"../math/transform\";\nimport { Matrix4x4 } from \"../math/matrix4x4\";\nimport { Shader } from \"../gl/shader\";\nimport { Scene } from \"./scene\";\nimport { IComponent } from \"../components/IComponent\";\nimport { IBehavior } from \"../behaviors/IBehavior\";\nimport { Vector3 } from \"../math/vector3\";\n\nexport class SimObject {\n    private _id: number;\n    private _children: SimObject[] = [];\n    private _parent: SimObject;\n    private _isLoaded: boolean = false;\n    private _scene: Scene;\n    private _components: IComponent[] = [];\n    private _behaviors: IBehavior[] = [];\n    private _isVisible: boolean = true;\n\n    private _localMatrix: Matrix4x4 = Matrix4x4.identity();\n    private _worldMatrix: Matrix4x4 = Matrix4x4.identity();\n\n\n    public name: string;\n    public transform: Transform = new Transform();\n\n    public constructor(id: number, name: string, scene?: Scene) {\n        this._id = id;\n        this.name = name;\n        this._scene = scene!;\n    }\n\n    public get id(): number {\n        return this._id;\n    }\n\n    public get parent(): SimObject {\n        return this._parent;\n    }\n\n    public get worldMatrix(): Matrix4x4 {\n        return this._worldMatrix;\n    }\n\n    public get isLoaded(): boolean {\n        return this._isLoaded;\n    }\n\n    public get isVisible(): boolean {\n        return this._isVisible;\n    }\n\n    public set isVisible(value: boolean) {\n        this._isVisible = value;\n    }\n\n    public addChild(child: SimObject): void {\n        child._parent = this;\n        this._children.push(child);\n        child.onAdded(this._scene);\n    }\n\n    public removeChild(child: SimObject): void {\n        const index = this._children.indexOf(child);\n        if (index !== -1) {\n            child._parent = undefined!;\n            this._children.splice(index, 1);\n        }\n    }\n\n    public getComponentByName(name: string): IComponent {\n        for (let component of this._components) {\n            if (component.name === name) {\n                return component;\n            }\n        }\n\n        for (let child of this._children) {\n            const component = this.getComponentByName(name);\n            if (component !== undefined) {\n                return component;\n            }\n        }\n\n        return undefined;\n    }\n\n    public getBehaviorByName(name: string): IBehavior {\n        for (let behavior of this._behaviors) {\n            if (behavior.name === name) {\n                return behavior;\n            }\n        }\n\n        for (let child of this._children) {\n            const behavior = this.getBehaviorByName(name);\n            if (behavior !== undefined) {\n                return behavior;\n            }\n        }\n\n        return undefined;\n    }\n\n    public getObjectByName(name: string): SimObject {\n        if (this.name === name) {\n            return this;\n        }\n\n        for (let child of this._children) {\n            let result = child.getObjectByName(name);\n            if (result !== undefined) {\n                return result;\n            }\n        }\n\n        return undefined!;\n    }\n\n    public addComponent(component: IComponent): void {\n        this._components.push(component);\n\n        component.setOwner(this);\n    }\n\n    public addBehavior(behavior: IBehavior): void {\n        this._behaviors.push(behavior);\n        behavior.setOwner(this);\n    }\n\n    public load(): void {\n        this._isLoaded = true;\n\n        for (let c of this._components) {\n            c.load();\n        }\n\n        for (let child of this._children) {\n            child.load();\n        }\n    }\n\n    updateReady() {\n        for (let c of this._components) {\n            c.updateReady();\n        }\n\n        for (let b of this._behaviors) {\n            b.updateReady();\n        }\n\n        for (let child of this._children) {\n            child.updateReady();\n        }\n    }\n\n    public update(time: number): void {\n\n        // Dont do that on the update MSInputMethodContext.Only when it changes.For now in here\n        this._localMatrix = this.transform.getTransformationMatrix();\n        this.updateWorldMatrix((this.parent !== undefined) ? this.parent.worldMatrix : undefined!);\n\n        for (let c of this._components) {\n            c.update(time);\n        }\n\n        for (let b of this._behaviors) {\n            b.update(time);\n        }\n\n        for (let child of this._children) {\n            child.update(time);\n        }\n    }\n\n    public render(shader: Shader): void {\n\n        if (!this.isVisible) {\n            return;\n        }\n\n        for (let c of this._components) {\n            c.render(shader);\n        }\n\n        for (let child of this._children) {\n            child.render(shader);\n        }\n    }\n\n    public getWorldPosition(): Vector3 {\n        return new Vector3(this._worldMatrix.data[12], this._worldMatrix.data[13], this._worldMatrix.data[14]);\n    }\n\n    protected onAdded(scene: Scene): void {\n        this._scene = scene;\n    }\n\n    private updateWorldMatrix(parentWorldMatrix: Matrix4x4): void {\n        if (parentWorldMatrix !== undefined) {\n            this._worldMatrix = Matrix4x4.multiply(parentWorldMatrix, this._localMatrix);\n        } else {\n            this.worldMatrix.copyFrom(this._localMatrix);\n        }\n\n    }\n}","import { SimObject } from \"./simObject\";\nimport { Shader } from \"../gl/shader\";\n\nexport class Scene {\n    private _root: SimObject;\n\n    public constructor() {\n        this._root = new SimObject(0, '__ROOT__', this);\n    }\n\n    public get root(): SimObject {\n        return this._root;\n    }\n\n    public get isLoaded(): boolean {\n        return this._root.isLoaded;\n    }\n\n    public addObject(object: SimObject): void {\n        this._root.addChild(object);\n    }\n\n    public getObjectByName(name: string): SimObject {\n        return this._root.getObjectByName(name);\n    }\n\n    public load(): void {\n        this._root.load();\n    }\n\n    public update(time: number): void {\n        this._root.update(time);\n    }\n\n    public render(shader: Shader): void {\n        this._root.render(shader);\n    }\n}","import { IComponentBuilder } from './IComponentBuilder';\nimport { IComponent } from './IComponent';\n\nexport class ComponentManager {\n\n    private static _registeredBuilders: { [type: string]: IComponentBuilder } = {};\n\n    public static registerBuilder(builder: IComponentBuilder): void {\n        ComponentManager._registeredBuilders[builder.type] = builder;\n    }\n\n    public static extractComponent(json: any): IComponent {\n\n        let component: IComponent | undefined = undefined;\n\n        if (json.type !== undefined) {\n            if (ComponentManager._registeredBuilders[String(json.type)] !== undefined) {\n                component = ComponentManager._registeredBuilders[String(json.type)].buildFromJson(json);\n            }\n        }\n\n        if (component === undefined) {\n            throw new Error(\"Component manager error - type is missing or builder is not registered for this type.\");\n        }\n\n        return component;\n\n    }\n\n}","import { IBehaviorBuilder } from './IBehaviorBuilder';\nimport { IBehavior } from './IBehavior';\n\nexport class BehaviorManager {\n\n    private static _registeredBuilders: { [type: string]: IBehaviorBuilder } = {};\n\n    public static registerBuilder(builder: IBehaviorBuilder): void {\n        BehaviorManager._registeredBuilders[builder.type] = builder;\n    }\n\n    public static extractBehavior(json: any): IBehavior {\n\n        let behavior: IBehavior | undefined = undefined;\n\n        if (json.type !== undefined) {\n            if (BehaviorManager._registeredBuilders[String(json.type)] !== undefined) {\n                behavior = BehaviorManager._registeredBuilders[String(json.type)].buildFromJson(json);\n            }\n        }\n\n        if (behavior === undefined) {\n            throw new Error(\"Behavior manager error - type is missing or builder is not registered for this type.\");\n        }\n\n        return behavior;\n\n    }\n\n}","import { Scene } from './scene';\nimport { Shader } from '../gl/shader';\nimport { SimObject } from './simObject';\nimport { ComponentManager } from '../components/componentManager';\nimport { BehaviorManager } from '../behaviors/behaviorManager';\n\nexport enum ZoneState {\n    UNINITIALIZED,\n    LOADING,\n    UPDATING\n}\n\nexport class Zone {\n    private _name: string;\n    private _description: string;\n    private _id: number;\n    private _scene: Scene;\n\n    private _state: ZoneState = ZoneState.UNINITIALIZED;\n    private _globalID: number = -1;\n\n    public constructor(id: number, name: string, description: string) {\n        this._id = id;\n        this._name = name;\n        this._description = description;\n        this._scene = new Scene();\n    }\n\n    public get id(): number {\n        return this._id;\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get description(): string {\n        return this._description;\n    }\n\n    public get scene(): Scene {\n        return this._scene;\n    }\n\n    public initialize(zoneData: any): void {\n        if (zoneData.objects === undefined) {\n            throw new Error('Zone initialization error objects not present.');\n        }\n\n        for (const o in zoneData.objects) {\n            const obj = zoneData.objects[o];\n\n            this.loadSimObject(obj, this._scene.root);\n        }\n    }\n\n    public load(): void {\n\n        this._state = ZoneState.LOADING;\n\n        this._scene.load();\n        this._scene.root.updateReady();\n\n        this._state = ZoneState.UPDATING;\n    }\n\n    public unload(): void {\n\n    }\n\n    public update(time: number): void {\n        if (this._state === ZoneState.UPDATING) {\n            this._scene.update(time);\n        }\n    }\n\n    public render(shader: Shader): void {\n        if (this._state === ZoneState.UPDATING) {\n            this._scene.render(shader);\n        }\n    }\n\n    public onActivated(): void {\n\n    }\n\n    public onDeactivated(): void {\n\n    }\n\n    private loadSimObject(dataSection: any, parent: SimObject): void {\n        let name: string = '';\n        if (dataSection.name !== undefined) {\n            name = String(dataSection.name);\n        }\n\n        this._globalID++;\n        const simObject = new SimObject(this._globalID, name, this._scene);\n\n        if (dataSection.transform !== undefined) {\n            simObject.transform.setFromJson(dataSection.transform);\n        }\n\n        if (dataSection.components !== undefined) {\n            for (let c in dataSection.components) {\n                const data = dataSection.components[c];\n                const component = ComponentManager.extractComponent(data);\n                simObject.addComponent(component);\n            }\n        }\n\n        if (dataSection.behaviors !== undefined) {\n            for (let b in dataSection.behaviors) {\n                const data = dataSection.behaviors[b];\n                const behavior = BehaviorManager.extractBehavior(data);\n                simObject.addBehavior(behavior);\n            }\n        }\n\n        if (dataSection.children !== undefined) {\n            for (const i in dataSection.children) {\n                const obj = dataSection.children[i];\n                this.loadSimObject(obj, simObject);\n            }\n        }\n\n        if (parent !== undefined) {\n            parent.addChild(simObject);\n        }\n    }\n}","import { Zone } from \"./zone\";\nimport { Shader } from 'src/gl/shader';\nimport { AssetManager, MESSAGE_ASSET_LOADER_ASSET_LOADED } from \"../assets/assetManager\";\nimport { JsonAsset } from \"../assets/jsonAssetLoader\";\nimport { IMessageHandler } from \"../message/IMessageHandler\";\nimport { Message } from \"../message/message\";\n\nexport class ZoneManager implements IMessageHandler {\n    private static _globalZoneID: number = -1;\n    private static _registeredZones: { [id: number]: string } = {};\n    private static _activeZone: Zone;\n    private static _inst: ZoneManager;\n\n    private constructor() {\n\n    }\n\n    public static initialize(): void {\n\n        ZoneManager._inst = new ZoneManager();\n\n        // TODO: This is part of the game, should not be here\n        ZoneManager._registeredZones[0] = \"assets/zones/testZone.json\";\n    }\n\n    public static changeZone(id: number): void {\n        if (this._activeZone !== undefined) {\n            ZoneManager._activeZone.onDeactivated();\n            ZoneManager._activeZone.unload();\n            ZoneManager._activeZone = undefined!;\n        }\n\n        if (ZoneManager._registeredZones[id] !== undefined) {\n            if (AssetManager.isAssetLoaded(ZoneManager._registeredZones[id])) {\n                const asset = AssetManager.getAsset(ZoneManager._registeredZones[id]);\n                ZoneManager.loadZone(asset);\n            } else {\n                Message.subscribe(MESSAGE_ASSET_LOADER_ASSET_LOADED + ZoneManager._registeredZones[id], ZoneManager._inst);\n                AssetManager.loadAsset(ZoneManager._registeredZones[id]);\n            }\n        } else {\n            throw new Error(`Zone id: ${id} does not exist`);\n        }\n    }\n\n    public static update(time: number): void {\n        if (ZoneManager._activeZone !== undefined) {\n            ZoneManager._activeZone.update(time);\n        }\n    }\n\n    public static render(shader: Shader): void {\n        if (ZoneManager._activeZone !== undefined) {\n            ZoneManager._activeZone.render(shader);\n        }\n    }\n\n    public onMessage(message: Message): void {\n        if (message.code.indexOf(MESSAGE_ASSET_LOADER_ASSET_LOADED) !== -1) {\n            const asset = message.context as JsonAsset;\n            ZoneManager.loadZone(asset);\n        }\n    }\n\n    private static loadZone(asset: JsonAsset): void {\n        const zoneData = asset.data;\n\n        let zoneId: number;\n        if (zoneData.id === undefined) {\n            throw new Error(`Zone file format exception. Zone ID not present`);\n        } else {\n            zoneId = Number(zoneData.id);\n        }\n\n        let zoneName: string;\n        if (zoneData.name === undefined) {\n            throw new Error(`Zone file format exception. Zone name not present`);\n        } else {\n            zoneName = String(zoneData.name);\n        }\n\n        let zoneDescription: string = '';\n        if (zoneData.description !== undefined) {\n            zoneDescription = String(zoneData.description);\n        }\n\n        ZoneManager._activeZone = new Zone(zoneId, zoneName, zoneDescription);\n        ZoneManager._activeZone.initialize(zoneData);\n        ZoneManager._activeZone.onActivated();\n        ZoneManager._activeZone.load();\n\n        Message.send(\"GAME_READY\", this);\n    }\n}","import { IBehavior } from './IBehavior';\nimport { IBehaviorData } from './IBehaviorData';\nimport { SimObject } from \"../world/simObject\";\n\nexport abstract class BaseBehavior implements IBehavior {\n    public name: string;\n\n    protected _data: IBehaviorData;\n    protected _owner: SimObject;\n\n    public constructor(data: IBehaviorData) {\n        this._data = data;\n        this.name = this._data.name;\n    }\n\n    public setOwner(owner: SimObject): void {\n        this._owner = owner;\n    }\n\n    updateReady() { }\n\n    public update(time: number): void {\n\n    }\n\n    public apply(userData: any): void {\n\n    }\n\n}","\nimport { BaseBehavior } from './baseBehavior';\nimport { IBehaviorData } from './IBehaviorData';\nimport { Vector3 } from '../math/vector3';\nimport { IBehaviorBuilder } from './IBehaviorBuilder';\nimport { IBehavior } from './IBehavior';\n\nexport class RotationBehaviorData implements IBehaviorData {\n\n    public name: string;\n    public rotation: Vector3 = Vector3.zero;\n\n    public setFromJson(json: any): void {\n        if (json.name === undefined) {\n            throw new Error('Name must be defined in behavior data');\n        }\n\n        this.name = String(json.name);\n\n        if (json.rotation !== undefined) {\n            this.rotation.setFromJson(json.rotation);\n        }\n\n    }\n\n}\n\nexport class RotationBehaviorBuilder implements IBehaviorBuilder {\n    public get type(): string {\n        return 'rotation';\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        const data = new RotationBehaviorData();\n        data.setFromJson(json);\n        return new RotationBehavior(data);\n    }\n}\n\nexport class RotationBehavior extends BaseBehavior {\n\n    private rotation: Vector3;\n\n    public constructor(data: RotationBehaviorData) {\n        super(data);\n\n        this.rotation = data.rotation;\n    }\n\n    public update(time: number): void {\n        this._owner.transform.rotation.add(this.rotation);\n\n        super.update(time);\n    }\n}","import { Vector2 } from \"../math/vector2\";\nimport { Message } from \"../message/message\";\n\nexport enum Keys {\n    LEFT = 37,\n    UP = 38,\n    RIGHT = 39,\n    DOWN = 40\n}\n\nexport class MouseContext {\n    public leftDown: boolean;\n    public rightDown: boolean;\n    public position: Vector2;\n\n    public constructor(lefDown: boolean, rightDown: boolean, position: Vector2) {\n        this.leftDown = lefDown;\n        this.rightDown = rightDown;\n        this.position = position;\n    }\n}\n\nexport class InputManager {\n    private static _keys: boolean[] = [];\n    private static _mouseX: number;\n    private static _mouseY: number;\n    private static _previousMouseX: number;\n    private static _previousMouseY: number;\n    private static _letfDown: boolean = false;\n    private static _rightDown: boolean = false;\n    private static _resolutionScale: Vector2 = Vector2.one;\n\n    public static initialize(viewport: HTMLCanvasElement): void {\n        for (let i = 0; i < 255; i++) {\n            InputManager._keys[i] = false;\n        }\n\n        window.addEventListener('keydown', InputManager.onKeyDown);\n        window.addEventListener('keyup', InputManager.onKeyUp);\n\n        viewport.addEventListener('mousemove', InputManager.onMouseMove);\n        viewport.addEventListener('mousedown', InputManager.onMouseDown);\n        viewport.addEventListener('mouseup', InputManager.onMouseUp);\n    }\n\n    public static isKeyDown(key: Keys): boolean {\n        return InputManager._keys[key];\n    }\n\n    public static getMousePosition(): Vector2 {\n        return new Vector2(this._mouseX, this._mouseY);\n    }\n\n    public static setResolutionScale(scale: Vector2) {\n        InputManager._resolutionScale.copyFrom(scale);\n    }\n\n    private static onKeyDown(event: KeyboardEvent): boolean {\n        InputManager._keys[event.keyCode] = true;\n        return true;\n    }\n\n    private static onKeyUp(event: KeyboardEvent): boolean {\n        InputManager._keys[event.keyCode] = false;\n        return true;\n    }\n\n    private static onMouseMove(event: MouseEvent): void {\n        InputManager._previousMouseX = InputManager._mouseX;\n        InputManager._previousMouseY = InputManager._mouseY;\n\n        let rect = (event.target as HTMLElement).getBoundingClientRect();\n        InputManager._mouseX = (event.clientX - Math.round(rect.left)) * (1 / InputManager._resolutionScale.x);\n        InputManager._mouseY = (event.clientY - Math.round(rect.top)) * (1 / InputManager._resolutionScale.y);\n    }\n\n    private static onMouseDown(event: MouseEvent): void {\n        if (event.button === 0) {\n            this._letfDown = true;\n        } else if (event.button == 2) {\n            this._rightDown = true;\n        }\n\n        Message.send('MOUSE_DOWN', this, new MouseContext(InputManager._letfDown, InputManager._rightDown, InputManager.getMousePosition()));\n    }\n\n    private static onMouseUp(event: MouseEvent): void {\n        if (event.button === 0) {\n            this._letfDown = false;\n        } else if (event.button == 2) {\n            this._rightDown = false;\n        }\n\n        Message.send('MOUSE_UP', this, new MouseContext(InputManager._letfDown, InputManager._rightDown, InputManager.getMousePosition()));\n    }\n}","\nimport { BaseBehavior } from './baseBehavior';\nimport { IBehaviorData } from './IBehaviorData';\nimport { IBehaviorBuilder } from './IBehaviorBuilder';\nimport { IBehavior } from './IBehavior';\nimport { InputManager } from '../input/inputManager';\nimport { Keys } from '../input/inputManager';\n\nexport class KeyboardMovementBehaviorData implements IBehaviorData {\n\n    public name: string;\n    public speed: number = 0.1;\n\n    public setFromJson(json: any): void {\n        if (json.name === undefined) {\n            throw new Error('Name must be defined in behavior data');\n        }\n\n        this.name = String(json.name);\n\n        if (json.speed !== undefined) {\n            this.speed = Number(json.speed);\n        }\n    }\n\n}\n\nexport class KeyboardMovementBehaviorBuilder implements IBehaviorBuilder {\n    public get type(): string {\n        return 'keyboardMovement';\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        const data = new KeyboardMovementBehaviorData();\n        data.setFromJson(json);\n        return new KeyboardMovementBehavior(data);\n    }\n}\n\nexport class KeyboardMovementBehavior extends BaseBehavior {\n\n    public speed: number = 0.1;\n\n    public constructor(data: KeyboardMovementBehaviorData) {\n        super(data);\n\n        this.speed = data.speed;\n    }\n\n    public update(time: number): void {\n        if (InputManager.isKeyDown(Keys.LEFT)) {\n            this._owner.transform.position.x -= this.speed;\n        }\n\n        if (InputManager.isKeyDown(Keys.RIGHT)) {\n            this._owner.transform.position.x += this.speed;\n        }\n\n        if (InputManager.isKeyDown(Keys.UP)) {\n            this._owner.transform.position.y -= this.speed;\n        }\n\n        if (InputManager.isKeyDown(Keys.DOWN)) {\n            this._owner.transform.position.y += this.speed;\n        }\n\n        super.update(time);\n    }\n}","export class SoundEffect {\n\n    public assetPath: string;\n\n    private _player: HTMLAudioElement;\n\n    constructor(assetPath: string, loop: boolean) {\n        this._player = new Audio(assetPath);\n        this.loop = loop;\n    }\n\n    public get loop(): boolean {\n        return this._player.loop;\n    }\n\n    public set loop(value: boolean) {\n        this._player.loop = value;\n    }\n\n    public destroy() {\n        this._player = undefined as unknown as HTMLAudioElement;\n    }\n\n    public play() {\n        if (!this._player.paused) {\n            this.stop();\n        }\n        this._player.play();\n    }\n\n    public pause() {\n        this._player.pause();\n    }\n\n    public stop() {\n        this._player.pause()\n        this._player.currentTime = 0;\n    }\n\n}\n\nexport class AudioManager {\n\n    private static _soundEffects: { [name: string]: SoundEffect } = {};\n\n    public static loadSoundFile(name: string, assetPath: string, loop: boolean): void {\n        AudioManager._soundEffects[name] = new SoundEffect(assetPath, loop);\n    }\n\n    public static playSound(name: string) {\n        if (this._soundEffects[name] !== undefined) {\n            this._soundEffects[name].play();\n        }\n    }\n\n    public static stopSound(name: string) {\n        if (this._soundEffects[name] !== undefined) {\n            this._soundEffects[name].stop();\n        }\n    }\n\n    public static stopAll(name: string) {\n        for (let sfx in AudioManager._soundEffects) {\n            this._soundEffects[sfx].stop();\n        }\n    }\n\n    public static pauseSound(name: string) {\n        if (this._soundEffects[name] !== undefined) {\n            this._soundEffects[name].pause();\n        }\n    }\n\n    public static pauseAll(name: string) {\n        for (let sfx in AudioManager._soundEffects) {\n            this._soundEffects[sfx].pause();\n        }\n    }\n}","import { IShape2D } from \"./IShape2D\";\nimport { Vector2 } from \"../../math/vector2\";\nimport { Rectangle2D } from \"./rectangle2D\";\nimport { Shader } from \"../../gl/shader\";\nimport { Matrix4x4 } from \"../../math/matrix4x4\";\n\nexport class Circle2D implements IShape2D {\n\n    public position: Vector2 = Vector2.zero;\n    public origin: Vector2 = Vector2.zero;\n    public radius: number;\n\n    public get offset(): Vector2 {\n        return new Vector2(this.radius + (this.radius * this.origin.x), this.radius + (this.radius * this.origin.y));\n    }\n\n    public setFromJson(json: any) {\n        if (json.position !== undefined) {\n            this.position.setFromJson(json.position);\n        }\n\n        if (json.offset !== undefined) {\n            this.offset.setFromJson(json.offset);\n        }\n\n        if (json.radius === undefined) {\n            throw new Error(\"Rectangle2D requires radius to be present.\");\n        }\n\n        this.radius = Number(json.radius);\n    }\n\n    public intersects(other: IShape2D): boolean {\n\n        if (other instanceof Circle2D) {\n            let distance = Math.abs(Vector2.distance(other.position, this.position));\n            let radiusLengths = this.radius + other.radius;\n            if (distance <= radiusLengths) {\n                return true;\n            }\n        }\n\n        if (other instanceof Rectangle2D) {\n            let deltaX = this.position.x - Math.max(other.position.x, Math.min(this.position.x, other.position.x + other.width));\n            let deltaY = this.position.y - Math.max(other.position.y, Math.min(this.position.y, other.position.y + other.height));\n            if ((deltaX * deltaX + deltaY * deltaY) < (this.radius * this.radius)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public pointInShape(point: Vector2): boolean {\n        const absDistance = Math.abs(Vector2.distance(this.position, point));\n        if (absDistance <= this.radius) {\n            return true;\n        }\n        return false;\n    }\n\n    public draw(shader: Shader, model: Matrix4x4): void { }\n    public load(): void { }\n\n}","import { IShape2D } from \"./IShape2D\";\nimport { Vector2 } from \"../../math/vector2\";\nimport { Circle2D } from \"./circle2D\";\nimport { Shader } from \"../../gl/shader\";\nimport { Matrix4x4 } from \"../../math/matrix4x4\";\nimport { gl } from \"../../gl/gl\";\nimport { GLBuffer, AttributeInfo } from \"../../gl/glBuffer\";\nimport { Vertex } from \"../vertex\";\nimport { Color } from \"../color\";\nimport { Material } from \"../material\";\nimport { MaterialManager } from \"../materialManager\";\n\nexport class Rectangle2D implements IShape2D {\n\n    public position: Vector2 = Vector2.zero;\n    public origin: Vector2 = Vector2.zero;\n    public scale: Vector2 = Vector2.one;\n\n    public width: number;\n    public height: number;\n\n    protected _buffer: GLBuffer;\n    protected _vertices: Vertex[] = [];\n    protected _material: Material;\n\n    public constructor(\n        x: number = 0, y: number = 0,\n        width: number = 0, height: number = 0,\n        scaleX: number = 1, scaleY: number = 1\n    ) {\n        this.position.x = x;\n        this.position.y = y;\n        this.width = width;\n        this.height = height;\n        this.scale.x = scaleX;\n        this.scale.y = scaleY;\n\n        // Uncomment this to see collision rectangles\n        // this._material = MaterialManager.getMaterial('1px');\n    }\n\n    public get offset(): Vector2 {\n        return new Vector2((this.width * this.origin.x), (this.height * this.origin.y));\n    }\n\n    public setFromJson(json: any) {\n        if (json.position !== undefined) {\n            this.position.setFromJson(json.position);\n        }\n\n        if (json.offset !== undefined) {\n            this.offset.setFromJson(json.offset);\n        }\n\n        if (json.width === undefined) {\n            throw new Error(\"Rectangle2D requires width to be present.\");\n        }\n\n        this.width = Number(json.width);\n\n        if (json.height === undefined) {\n            throw new Error(\"Rectangle2D requires height to be present.\");\n        }\n\n        this.height = Number(json.height);\n\n        if (json.scale !== undefined) {\n            this.scale.setFromJson(json.scale);\n        }\n    }\n\n    // TODO: Add support to rotated shapes\n    public intersects(other: IShape2D): boolean {\n        if (other instanceof Rectangle2D) {\n            let a = this.getExtents(this);\n            let b = this.getExtents(other);\n\n            return (a.position.x <= b.width && a.width >= b.position.x) && (a.position.y <= b.height && a.height >= b.position.y);\n        }\n\n        if (other instanceof Circle2D) {\n            let deltaX = other.position.x - Math.max(this.position.x, Math.min(other.position.x, this.position.x + this.width));\n            let deltaY = other.position.y - Math.max(this.position.y, Math.min(other.position.y, this.position.y + this.height));\n            if ((deltaX * deltaX + deltaY * deltaY) < (other.radius * other.radius)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public pointInShape(point: Vector2): boolean {\n\n        let x = this.width < 0 ? this.position.x - this.width : this.position.x;\n        let y = this.height < 0 ? this.position.y - this.height : this.position.y;\n\n        let extentX = this.width < 0 ? this.position.x : this.position.x + this.width;\n        let extentY = this.height < 0 ? this.position.y : this.position.y + this.height;\n\n        if (point.x >= x && point.x <= extentX && point.y >= y && point.y <= extentY) {\n            return true;\n        }\n\n        return false;\n    }\n\n    public load(): void {\n        if (!this._material) return;\n\n        this._buffer = new GLBuffer();\n        let positionAttribute = new AttributeInfo();\n\n        // Standard set of attributes for now. Position attribute to be the first attribute in the shader.\n        positionAttribute.location = 0;\n        positionAttribute.size = 3;\n        this._buffer.addAttributeLocation(positionAttribute);\n\n        const textCoordAttribute = new AttributeInfo();\n        textCoordAttribute.location = 1;\n        textCoordAttribute.size = 2;\n        this._buffer.addAttributeLocation(textCoordAttribute);\n\n        this.calculateVertices();\n    }\n\n    public draw(shader: Shader, model: Matrix4x4): void {\n\n        if (!this._material) return;\n\n        const modelLocation = shader.getUniformLocation('u_model');\n        gl.uniformMatrix4fv(modelLocation, false, model.toFloat32Array());\n\n        const colorLocation = shader.getUniformLocation('u_tint');\n        // Orange tint\n        // gl.uniform4f(colorLocation, 1.0, 0.5, 0.0, 1.0);\n        // Blue tint\n        // gl.uniform4f(colorLocation, 0.0, 0.3, 1.0, 1.0);\n        // White tint\n        gl.uniform4fv(colorLocation, this._material.tint.toFloat32Array());\n\n        // What texture unit to unescape, 0 for now\n        if (this._material.diffuseTexture !== undefined) {\n            this._material.diffuseTexture.activateAndBind(0);\n            const diffuseLocation = shader.getUniformLocation('u_diffuse');\n            gl.uniform1i(diffuseLocation, 0);\n        }\n\n        this._buffer.bind();\n        this._buffer.draw();\n    }\n\n    // TODO: This is the same as sprite, move to a shared place\n    protected calculateVertices() {\n\n        const minX = -(this.width * this.origin.x);\n        const maxX = this.width * (1.0 - this.origin.x);\n\n        const minY = -(this.height * this.origin.y);\n        const maxY = this.height * (1.0 - this.origin.y);\n\n        this._vertices = [\n            // x, y, z      u,v\n            new Vertex(minX, minY, 0, 0, 0),\n            new Vertex(minX, maxY, 0, 0, 1.0),\n            new Vertex(maxX, maxY, 0, 1.0, 1.0),\n\n            new Vertex(maxX, maxY, 0, 1.0, 1.0),\n            new Vertex(maxX, minY, 0, 1.0, 0),\n            new Vertex(minX, minY, 0, 0, 0)\n        ];\n\n        for (let v of this._vertices) {\n            this._buffer.pushBackData(v.toArray());\n        }\n\n        this._buffer.upload();\n        this._buffer.unbind();\n    }\n\n    // TODO: This is the same as sprite, move to a shared place\n    protected recalculateVertices() {\n\n        const minX = -(this.width * this.origin.x);\n        const maxX = this.width * (1.0 - this.origin.x);\n\n        const minY = -(this.height * this.origin.y);\n        const maxY = this.height * (1.0 - this.origin.y);\n\n        this._vertices[0].position.set(minX, minY);\n        this._vertices[1].position.set(minX, maxY);\n        this._vertices[2].position.set(maxX, maxY);\n\n        this._vertices[3].position.set(maxX, maxY);\n        this._vertices[4].position.set(maxX, minY);\n        this._vertices[5].position.set(minX, minY);\n\n        this._buffer.clearData();\n        for (let v of this._vertices) {\n            this._buffer.pushBackData(v.toArray());\n        }\n\n        this._buffer.upload();\n        this._buffer.unbind();\n    }\n\n    private getExtents(shape: Rectangle2D): Rectangle2D {\n        let x = shape.width < 0 ? shape.position.x + shape.width : shape.position.x;\n        let y = shape.height < 0 ? shape.position.y + shape.height : shape.position.y;\n\n        let extentX = shape.width < 0 ? shape.position.x : shape.position.x + (shape.width * shape.scale.x);\n        let extentY = shape.height < 0 ? shape.position.y : shape.position.y + (shape.height * shape.scale.y);\n\n        return new Rectangle2D(x, y, extentX, extentY);\n    }\n\n\n}","import { CollisionComponent } from \"../components/collisionComponent\";\nimport { Message } from \"../message/message\";\n\nexport class CollisionData {\n    public a: CollisionComponent;\n    public b: CollisionComponent;\n    public time: number;\n\n    public constructor(time: number, a: CollisionComponent, b: CollisionComponent) {\n        this.time = time;\n        this.a = a;\n        this.b = b;\n    }\n\n}\n\nexport class CollisionManager {\n\n    private static _totalTime: number = 0;\n    private static _components: CollisionComponent[] = [];\n    private static _collisionData: CollisionData[] = [];\n    private constructor() {\n\n    }\n\n    public static registerCollisionComponent(component: CollisionComponent) {\n        CollisionManager._components.push(component);\n    }\n\n    public static unRegisterCollisionComponent(component: CollisionComponent) {\n        const index = CollisionManager._components.indexOf(component);\n        if (index !== -1) {\n            CollisionManager._components.slice(index, 1);\n        }\n    }\n\n    public static clear() {\n        CollisionManager._components.length = 0;\n    }\n\n    public static update(time: number) {\n\n        CollisionManager._totalTime += time;\n\n        // TODO: do this properly. Whole function!\n        for (let c = 0; c < CollisionManager._components.length; ++c) {\n            let comp = CollisionManager._components[c];\n            for (let o = 0; o < CollisionManager._components.length; ++o) {\n                let other = CollisionManager._components[o];\n                // Do not check collisions with self\n                if (comp === other) {\n                    continue;\n                }\n\n                // if both shapes are static stop detection\n                if (comp.isStatic && other.isStatic) {\n                    continue;\n                }\n\n                if (comp.shape.intersects(other.shape)) {\n                    // There is a collision\n                    let exists: boolean = false;\n                    for (let d = 0; d < CollisionManager._collisionData.length; ++d) {\n                        let data = CollisionManager._collisionData[d];\n\n                        if ((data.a === comp && data.b === other) || (data.a === other && data.b === comp)) {\n                            // We have existing data, update it\n                            // onCollisionUpdate\n                            comp.onCollisionUpdate(other);\n                            other.onCollisionUpdate(comp);\n                            data.time = CollisionManager._totalTime;\n                            exists = true;\n                            break;\n                        }\n                    }\n\n                    if (!exists) {\n                        // Create a new collision\n                        // onCollisionEntry\n                        const col = new CollisionData(CollisionManager._totalTime, comp, other);\n                        comp.onCollisionEntry(other);\n                        other.onCollisionEntry(comp);\n                        Message.sendPriority(`COLLISION_ENTRY`, undefined, col);\n                        this._collisionData.push(col);\n                    }\n                }\n            }\n        }\n\n        // Collision that not longer exist\n        const removeData: CollisionData[] = [];\n        for (let d = 0; d < CollisionManager._collisionData.length; ++d) {\n            const data = CollisionManager._collisionData[d];\n            if (data.time !== CollisionManager._totalTime) {\n                // onCollisionExit\n                removeData.push(data);\n            }\n        }\n\n        while (removeData.length !== 0) {\n            const data = removeData.shift();\n            const index = CollisionManager._collisionData.indexOf(data);\n            CollisionManager._collisionData.splice(index, 1);\n\n            data.a.onCollisionExit(data.b);\n            data.b.onCollisionExit(data.a);\n\n            Message.sendPriority(`COLLISION_EXIT`, undefined, data);\n        }\n    }\n\n}","import { Shader } from '../gl/shader';\nimport { BaseComponent } from \"./baseComponent\";\nimport { IComponent } from \"./IComponent\";\nimport { IComponentData } from './IComponentData';\nimport { IComponentBuilder } from './IComponentBuilder';\nimport { IShape2D } from '../graphics/shapes2D/IShape2D';\nimport { Rectangle2D } from '../graphics/shapes2D/rectangle2D';\nimport { Circle2D } from '../graphics/shapes2D/circle2D';\nimport { CollisionManager } from '../collision/CollisionManager';\n\nexport class CollisionComponentData implements IComponentData {\n    public name: string;\n    public shape: IShape2D;\n    public static: boolean = true;\n\n    public setFromJson(json: any): void {\n        if (json.name !== undefined) {\n            this.name = String(json.name);\n        }\n\n        if (json.static !== undefined) {\n            this.static = Boolean(json.static);\n        }\n\n        if (json.shape === undefined) {\n            throw new Error('CollisionComponentData requires shape to be present.');\n        }\n\n        if (json.shape.type === undefined) {\n            throw new Error('CollisionComponentData requires shape.type to be present.');\n        }\n\n        const shapeType = String(json.shape.type).toLowerCase();\n\n        switch (shapeType) {\n            case 'rectangle':\n                this.shape = new Rectangle2D();\n                break;\n\n            case 'circle':\n                this.shape = new Circle2D();\n                break;\n\n            default:\n                throw new Error('Unssuported shape type ' + shapeType);\n                break;\n        }\n\n        this.shape.setFromJson(json.shape);\n    }\n}\n\nexport class CollisionComponentBuilder implements IComponentBuilder {\n\n    public get type(): string {\n        return 'collision';\n    }\n\n    public buildFromJson(json: any): IComponent {\n        const data = new CollisionComponentData();\n        data.setFromJson(json);\n        return new CollisionComponent(data);\n    }\n\n}\n\nexport class CollisionComponent extends BaseComponent {\n\n    private _shape: IShape2D;\n    private _static: boolean;\n\n    public constructor(data: CollisionComponentData) {\n        super(data);\n\n        this._shape = data.shape;\n        this._static = data.static;\n    }\n\n    public get shape(): IShape2D {\n        return this._shape;\n    }\n\n    public get isStatic(): boolean {\n        return this._static;\n    }\n\n    public load() {\n        super.load();\n\n        // TODO: Update this to handle nested objects. Get world position\n        this._shape.position.copyFrom(this._owner.getWorldPosition().toVector2().subtract(this._shape.offset));\n\n        // Tell the collision manager we exists\n        CollisionManager.registerCollisionComponent(this);\n\n        this._shape.load();\n    }\n\n    public update(time: number) {\n        // TODO: Update this to handle nested objects. Get world position\n        this._shape.position.copyFrom(this._owner.getWorldPosition().toVector2().subtract(this._shape.offset));\n\n        super.update(time);\n    }\n\n    public render(shader: Shader): void {\n        this._shape.draw(shader, this.owner.worldMatrix);\n        super.render(shader);\n    }\n\n    public onCollisionEntry(other: CollisionComponent) {\n        console.log('onCollisionEntry ', this, other);\n    }\n\n    public onCollisionUpdate(other: CollisionComponent) {\n        // console.log('onCollisionUpdate ', this, other);\n    }\n\n    public onCollisionExit(other: CollisionComponent) {\n        console.log('onCollisionExit ', this, other);\n    }\n}","﻿import { Vector2 } from \"../math/vector2\";\nimport { IBehaviorData } from \"./IBehaviorData\";\nimport { IBehaviorBuilder } from \"./IBehaviorBuilder\";\nimport { IBehavior } from \"./IBehavior\";\nimport { BaseBehavior } from \"./baseBehavior\";\nimport { IMessageHandler } from \"../message/IMessageHandler\";\nimport { Message } from \"../message/message\";\n\nexport class ScrollBehaviorData implements IBehaviorData {\n    public name: string;\n    public velocity: Vector2 = Vector2.zero;\n    public minPosition: Vector2 = Vector2.zero;\n    public resetPosition: Vector2 = Vector2.zero;\n    public minResetY: number;\n    public maxResetY: number;\n    public startMessage: string;\n    public stopMessage: string;\n    public resetMessage: string;\n\n    public setFromJson(json: any): void {\n        if (json.name === undefined) {\n            throw new Error(\"Name must be defined in behavior data.\");\n        }\n\n        this.name = String(json.name);\n\n        if (json.startMessage !== undefined) {\n            this.startMessage = String(json.startMessage);\n        }\n\n        if (json.stopMessage !== undefined) {\n            this.stopMessage = String(json.stopMessage);\n        }\n\n        if (json.resetMessage !== undefined) {\n            this.resetMessage = String(json.resetMessage);\n        }\n\n        if (json.velocity !== undefined) {\n            this.velocity.setFromJson(json.velocity);\n        } else {\n            throw new Error(\"ScrollBehaviorData requires property 'velocity' to be defined!\");\n        }\n\n        if (json.minPosition !== undefined) {\n            this.minPosition.setFromJson(json.minPosition);\n        } else {\n            throw new Error(\"ScrollBehaviorData requires property 'minPosition' to be defined!\");\n        }\n\n        if (json.resetPosition !== undefined) {\n            this.resetPosition.setFromJson(json.resetPosition);\n        } else {\n            throw new Error(\"ScrollBehaviorData requires property 'resetPosition' to be defined!\");\n        }\n\n        if (json.minResetY !== undefined) {\n            this.minResetY = Number(json.minResetY);\n        }\n\n        if (json.maxResetY !== undefined) {\n            this.maxResetY = Number(json.maxResetY);\n        }\n    }\n}\n\nexport class ScrollBehaviorBuilder implements IBehaviorBuilder {\n    public get type(): string {\n        return \"scroll\";\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        let data = new ScrollBehaviorData();\n        data.setFromJson(json);\n        return new ScrollBehavior(data);\n    }\n}\n\nexport class ScrollBehavior extends BaseBehavior implements IMessageHandler {\n    private _velocity: Vector2 = Vector2.zero;\n    private _minPosition: Vector2 = Vector2.zero;\n    private _resetPosition: Vector2 = Vector2.zero;\n    private _minResetY: number;\n    private _maxResetY: number;\n    private _startMessage: string;\n    private _stopMessage: string;\n    private _resetMessage: string;\n    private _isScrolling: boolean = false;\n    private _initialPosition: Vector2 = Vector2.zero;\n\n    public constructor(data: ScrollBehaviorData) {\n        super(data);\n\n        this._velocity.copyFrom(data.velocity);\n        this._minPosition.copyFrom(data.minPosition);\n        this._resetPosition.copyFrom(data.resetPosition);\n        this._startMessage = data.startMessage;\n        this._stopMessage = data.stopMessage;\n        this._resetMessage = data.resetMessage;\n\n        if (data.minResetY !== undefined) {\n            this._minResetY = data.minResetY;\n        }\n\n        if (data.maxResetY !== undefined) {\n            this._maxResetY = data.maxResetY;\n        }\n    }\n\n    public updateReady(): void {\n        super.updateReady();\n\n        if (this._startMessage !== undefined) {\n            Message.subscribe(this._startMessage, this);\n        }\n\n        if (this._stopMessage !== undefined) {\n            Message.subscribe(this._stopMessage, this);\n        }\n\n        if (this._resetMessage !== undefined) {\n            Message.subscribe(this._resetMessage, this);\n        }\n\n        this._initialPosition.copyFrom(this._owner.transform.position.toVector2());\n    }\n\n    public update(time: number): void {\n        if (this._isScrolling) {\n            this._owner.transform.position.add(this._velocity.clone().scale(time / 1000).toVector3());\n\n            const scrollY = this._minResetY !== undefined && this._maxResetY !== undefined;\n            if (this._owner.transform.position.x <= this._minPosition.x &&\n                (scrollY || (!scrollY && this._owner.transform.position.y <= this._minPosition.y))) {\n                this.reset();\n            }\n        }\n    }\n\n    public onMessage(message: Message): void {\n        if (message.code === this._startMessage) {\n            this._isScrolling = true;\n        } else if (message.code === this._stopMessage) {\n            this._isScrolling = false;\n        } else if (message.code === this._resetMessage) {\n            this.initial();\n        }\n    }\n\n    private reset(): void {\n        if (this._minResetY !== undefined && this._maxResetY !== undefined) {\n            this._owner.transform.position.set(this._resetPosition.x, this.getRandomY());\n        } else {\n            this._owner.transform.position.copyFrom(this._resetPosition.toVector3());\n        }\n    }\n\n    private getRandomY(): number {\n        // Inclusive of the min and max set in the data.\n        return Math.floor(Math.random() * (this._maxResetY - this._minResetY + 1)) + this._minResetY;\n    }\n\n    private initial(): void {\n        this._owner.transform.position.copyFrom(this._initialPosition.toVector3());\n    }\n}\n","﻿import { IMessageHandler } from \"../message/IMessageHandler\";\nimport { AssetManager, MESSAGE_ASSET_LOADER_ASSET_LOADED } from \"../assets/assetManager\";\nimport { Message } from \"../message/message\";\nimport { TextAsset } from \"../assets/TextAssetLoader\";\nimport { Vector2 } from \"../math/vector2\";\n\nclass FontUtilities {\n\n    public static extractFieldValue(field: string): string {\n        return field.split(\"=\")[1];\n    }\n}\n\n/**\n * A single font glyph used for a bitmap font.\n */\nexport class FontGlyph {\n\n    /** The character identifier. */\n    public id: number;\n\n    /** The x position within the bitmap. */\n    public x: number;\n\n    /** The y position within the bitmap. */\n    public y: number;\n\n    /** The width of the glyph within the bitmap. */\n    public width: number;\n\n    /** The height of the glyph within the bitmap. */\n    public height: number;\n\n    /** The x offset amount. */\n    public xOffset: number;\n\n    /** The y offset amount. */\n    public yOffset: number;\n\n    /** The amount to advance after this character. */\n    public xAdvance: number;\n\n    /** The page/texture id. */\n    public page: number;\n\n    /** The channel id. */\n    public channel: number;\n\n    /**\n     * Extracts a glyph from the provided fields.\n     * @param fields The fields to extract from.\n     */\n    public static fromFields(fields: string[]): FontGlyph {\n        let glyph: FontGlyph = new FontGlyph();\n\n        glyph.id = Number(FontUtilities.extractFieldValue(fields[1]));\n        glyph.x = Number(FontUtilities.extractFieldValue(fields[2]));\n        glyph.y = Number(FontUtilities.extractFieldValue(fields[3]));\n        glyph.width = Number(FontUtilities.extractFieldValue(fields[4]));\n        glyph.height = Number(FontUtilities.extractFieldValue(fields[5]));\n        glyph.xOffset = Number(FontUtilities.extractFieldValue(fields[6]));\n        glyph.yOffset = Number(FontUtilities.extractFieldValue(fields[7]));\n        glyph.xAdvance = Number(FontUtilities.extractFieldValue(fields[8]));\n        glyph.page = Number(FontUtilities.extractFieldValue(fields[9]));\n        glyph.channel = Number(FontUtilities.extractFieldValue(fields[10]));\n\n        return glyph;\n    }\n}\n\n/**\n * A composition of configuration and images which allows text to be drawn to the screen.\n */\nexport class BitmapFont implements IMessageHandler {\n\n    private _name: string;\n    private _fontFileName: string;\n    private _assetLoaded: boolean = false;\n    private _imageFile: string;\n    private _glyphs: { [id: number]: FontGlyph } = {};\n    private _size: number;\n    private _imageWidth: number;\n    private _imageHeight: number;\n\n    /**\n     * Creates a new bitmap font.\n     * @param name The name of the font.\n     * @param fontFile The font info file.\n     */\n    public constructor(name: string, fontFile: string) {\n        this._name = name;\n        this._fontFileName = fontFile;\n    }\n\n    /** The name of the font. */\n    public get name(): string {\n        return this._name;\n    }\n\n    /** The size of this font. */\n    public get size(): number {\n        return this._size;\n    }\n\n    /** The width of the image used for this font. */\n    public get imageWidth(): number {\n        return this._imageWidth;\n    }\n\n    /** The height of the image used for this font. */\n    public get imageHeight(): number {\n        return this._imageHeight;\n    }\n\n    /** The name of the texture image used for this font. */\n    public get textureName(): string {\n        return this._imageFile;\n    }\n\n    /** Indicates if this bitmap font is loaded. */\n    public get isLoaded(): boolean {\n        return this._assetLoaded;\n    }\n\n    /** Loads this font. */\n    public load(): void {\n        let asset = AssetManager.getAsset(this._fontFileName);\n        if (asset !== undefined) {\n            this.processFontFile(asset.data);\n        } else {\n            Message.subscribe(MESSAGE_ASSET_LOADER_ASSET_LOADED + this._fontFileName, this);\n        }\n    }\n\n    /**\n     * The message handler.\n     */\n    public onMessage(message: Message): void {\n        if (message.code === MESSAGE_ASSET_LOADER_ASSET_LOADED + this._fontFileName) {\n            this.processFontFile((message.context as TextAsset).data);\n        }\n    }\n\n    /**\n     * Gets a glyph for the provided character.\n     * @param char The character to retrieve a glyph for.\n     */\n    public getGlyph(char: string): FontGlyph {\n\n        // Replace unrecognized characters with a '?'.\n        let code = char.charCodeAt(0);\n        code = (this._glyphs[code] === undefined) ? 63 : code;\n        return this._glyphs[code];\n    }\n\n    /**\n     * Measures the provided text in the x and y dimensions.\n     * @param text The text to be measured.\n     */\n    public measureText(text: string): Vector2 {\n        let size: Vector2 = Vector2.zero;\n\n        let maxX = 0;\n        let x = 0;\n        let y = 0;\n\n        for (let c of text) {\n            switch (c) {\n                case \"\\n\":\n                    if (x > maxX) {\n                        maxX = x;\n                    }\n                    x = 0;\n                    y += this._size;\n                    break;\n                default:\n                    x += this.getGlyph(c).xAdvance;\n                    break;\n            }\n        }\n\n        size.set(maxX, y);\n        return size;\n    }\n\n    private processFontFile(content: string): void {\n        let charCount: number = 0;\n        let lines: string[] = content.split(\"\\n\");\n        for (let line of lines) {\n\n            // Sanitize the line.\n            let data = line.replace(/\\s\\s+/g, ' ');\n            let fields = data.split(\" \");\n\n            // Look at the type of line\n            switch (fields[0]) {\n                case \"info\":\n                    this._size = Number(FontUtilities.extractFieldValue(fields[2]));\n                    break;\n                case \"common\":\n                    this._imageWidth = Number(FontUtilities.extractFieldValue(fields[3]));\n                    this._imageHeight = Number(FontUtilities.extractFieldValue(fields[4]));\n                    break;\n                case \"page\":\n                    {\n                        let id: number = Number(FontUtilities.extractFieldValue(fields[1]));\n\n                        this._imageFile = FontUtilities.extractFieldValue(fields[2]);\n\n                        // Strip quotes.\n                        this._imageFile = this._imageFile.replace(/\"/g, \"\");\n\n                        // Prepend the path to the image name. TODO: This should be configurable.\n                        this._imageFile = (\"assets/fonts/\" + this._imageFile).trim();\n                    }\n                    break;\n                case \"chars\":\n                    charCount = Number(FontUtilities.extractFieldValue(fields[1]));\n\n                    // Increment the expected count, the file's count is off by one.\n                    charCount++;\n                    break;\n                case \"char\":\n                    {\n                        let glyph = FontGlyph.fromFields(fields);\n                        this._glyphs[glyph.id] = glyph;\n                    }\n                    break;\n            }\n        }\n\n        // Verify the loaded glyphs\n        let actualGlyphCount = 0;\n\n        // Only count properties\n        let keys = Object.keys(this._glyphs);\n        for (let key of keys) {\n            if (this._glyphs.hasOwnProperty(key)) {\n                actualGlyphCount++;\n            }\n        }\n\n        if (actualGlyphCount !== charCount) {\n            throw new Error(`Font file reported existence of ${charCount} glyphs, but only ${actualGlyphCount} were found.`);\n        }\n\n        this._assetLoaded = true;\n    }\n}\n","﻿import { BitmapFont } from \"./BitmapFont\";\nimport { Message } from \"../message/message\";\nimport { MESSAGE_ASSET_LOADER_ASSET_LOADED, AssetManager } from \"../assets/assetManager\";\nimport { JsonAsset } from \"../assets/jsonAssetLoader\";\n\n/** Represents the configuration for a bitmap font. These are typically created and stored in a fonts file. */\nclass BitmapFontConfig {\n\n    /** The name of this font. */\n    public name: string;\n\n    /** The font file path of this bitmap font. */\n    public fontFile: string;\n\n    /**\n     * Creates a BitmapFontConfig from the provided JSON.\n     * @param json The JSON to create from.\n     */\n    public static fromJson(json: any): BitmapFontConfig {\n        let config = new BitmapFontConfig();\n        if (json.name !== undefined) {\n            config.name = String(json.name);\n        }\n\n        if (json.fontFile !== undefined) {\n            config.fontFile = String(json.fontFile);\n        } else {\n            throw new Error(\"Cannot create a bitmap font without a font file.\");\n        }\n\n        return config;\n    }\n}\n\n/** A manager for bitmap fonts. */\nexport class BitmapFontManager {\n\n    private static _configLoaded: boolean = false;\n    private static _fonts: { [name: string]: BitmapFont } = {};\n\n    /** Hide the constructor to prevent instantiation. */\n    private constructor() {\n    }\n\n    /**\n     * The message handler.\n     * @param message The message to be handled.\n     */\n    // public static onMessage(message: Message): void {\n\n    //     // TODO: one for each asset.\n    //     if (message.code === MESSAGE_ASSET_LOADER_ASSET_LOADED + \"assets/fonts/fonts.json\") {\n    //         // Message.unsubscribeCallback(MESSAGE_ASSET_LOADER_ASSET_LOADED + \"assets/fonts/fonts.json\",\n    //         //     BitmapFontManager.onMessage);\n\n    //         BitmapFontManager.processFontAsset(message.context as JsonAsset);\n    //     }\n    // }\n\n    public static addFont(name: string, fontFile: string) {\n        BitmapFontManager._fonts[name] = new BitmapFont(name, fontFile);\n    }\n\n    /** Indicates if this manager is loaded. */\n    public static get isLoaded(): boolean {\n        if (BitmapFontManager._configLoaded) {\n\n            // If the config is loaded, check that all fonts are loaded.\n            let keys = Object.keys(BitmapFontManager._fonts);\n            for (let key of keys) {\n                if (!BitmapFontManager._fonts[key].isLoaded) {\n                    console.debug(\"Font \" + key + \" is still loading...\");\n                    return false;\n                }\n            }\n\n            console.debug(\"All fonts are loaded\");\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Gets a font by the given name.\n     * @param name The name of the font.\n     */\n    public static getFont(name: string): BitmapFont {\n        if (BitmapFontManager._fonts[name] === undefined) {\n            throw new Error(\"A font named \" + name + \" does not exist.\");\n        }\n\n        return BitmapFontManager._fonts[name];\n    }\n\n    /**\n     * Loads registered fonts.\n     */\n    // public static load(): void {\n\n    //     // Get the asset(s). TODO: This probably should come from a central asset manifest.\n    //     let asset = AssetManager.getAsset(\"assets/fonts/fonts.json\");\n    //     if (asset !== undefined) {\n    //         BitmapFontManager.processFontAsset(asset as JsonAsset);\n    //     } else {\n\n    //         // Listen for the asset load.\n    //         // Message.subscribeCallback(MESSAGE_ASSET_LOADER_ASSET_LOADED + \"assets/fonts/fonts.json\",\n    //         //     BitmapFontManager.onMessage);\n    //     }\n    // }\n\n    public static load() {\n        const keys = Object.keys(BitmapFontManager._fonts);\n        for (let key of keys) {\n            BitmapFontManager._fonts[key].load();\n        }\n    }\n\n    public static updateReady(): boolean {\n        const keys = Object.keys(BitmapFontManager._fonts);\n        for (let key of keys) {\n            if (!BitmapFontManager._fonts[key].isLoaded) {\n                console.debug(`Font ${key} is still loading...`);\n                return false;\n            }\n        }\n\n        console.debug(`All fonts are loaded...`);\n        return true;\n    }\n\n    private static processFontAsset(asset: JsonAsset): void {\n\n        let fonts = asset.data.bitmapFonts;\n        if (fonts) {\n            for (let font of fonts) {\n                let f = BitmapFontConfig.fromJson(font);\n                BitmapFontManager._fonts[font.name] = new BitmapFont(font.name, font.fontFile);\n\n                // Start it loading, since all fonts should always be available.\n                BitmapFontManager._fonts[font.name].load();\n            }\n        }\n\n        // TODO: Should only set this if ALL queued assets have loaded.\n        BitmapFontManager._configLoaded = true;\n    }\n}\n","import { gl } from '../gl/gl';\nimport { Message } from '../message/message';\nimport { MESSAGE_ASSET_LOADER_ASSET_LOADED, AssetManager } from '../assets/assetManager';\nimport { IMessageHandler } from '../message/IMessageHandler';\nimport { ImageAsset } from '../assets/imageAssetLoader';\n\nconst LEVEL: number = 0;\nconst BORDER: number = 0;\nconst TEMP_IMAGE_DATA: Uint8Array = new Uint8Array([255, 255, 255, 255]);\n\nexport class Texture implements IMessageHandler {\n\n    private _name: string;\n    private _handle: WebGLTexture;\n    private _isLoaded: boolean = false;\n    private _width: number;\n    private _height: number;\n\n    public constructor(name: string, width: number = 1, height: number = 1) {\n        this._name = name;\n        this._width = width;\n        this._height = height;\n\n        this._handle = gl.createTexture() as WebGLTexture;\n\n        this.bind();\n\n        gl.texImage2D(gl.TEXTURE_2D, LEVEL, gl.RGBA, 1, 1, BORDER, gl.RGBA, gl.UNSIGNED_BYTE, TEMP_IMAGE_DATA);\n\n        const asset = AssetManager.getAsset(this.name) as ImageAsset;\n        if (asset !== undefined) {\n            this.loadTextureFromAsset(asset);\n        } else {\n            Message.subscribe(MESSAGE_ASSET_LOADER_ASSET_LOADED + this.name, this);\n        }\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get isLoaded(): boolean {\n        return this._isLoaded;\n    }\n\n    public get width(): number {\n        return this._width;\n    }\n\n    public get height(): number {\n        return this._height;\n    }\n\n    public destroy(): void {\n        gl.deleteTexture(this._handle);\n    }\n\n    public activateAndBind(textureUnit: number = 0): void {\n        gl.activeTexture(gl.TEXTURE0 + textureUnit);\n\n        this.bind();\n    }\n\n    public bind(): void {\n        gl.bindTexture(gl.TEXTURE_2D, this._handle);\n    }\n\n    public unbind(): void {\n        gl.bindTexture(gl.TEXTURE_2D, undefined!);\n    }\n\n    public onMessage(message: Message): void {\n        if (message.code === MESSAGE_ASSET_LOADER_ASSET_LOADED + this.name) {\n            this.loadTextureFromAsset(message.context as ImageAsset);\n        }\n    }\n\n    private loadTextureFromAsset(asset: ImageAsset): void {\n        this._width = asset.width;\n        this._height = asset.height;\n\n        this.bind();\n\n        gl.texImage2D(gl.TEXTURE_2D, LEVEL, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, asset.data);\n\n        if (this.isPowerOf2()) {\n            gl.generateMipmap(gl.TEXTURE_2D);\n        } else {\n            // Do not generate a mipmap and clamp wrapping to edge\n            // If it isnot a powered of 2 texture we cannot tile it in webgl\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        }\n\n        // TODO: Set texture filtering based on configuration\n        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n        // Pixelated look with NEAREST\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n        this._isLoaded = true;\n\n    }\n\n    private isPowerOf2(): boolean {\n        return (this.isValuePowerOf2(this._width) && this.isValuePowerOf2(this._height));\n    }\n\n    private isValuePowerOf2(value: number): boolean {\n        return (value & (value - 1)) == 0;\n    }\n\n}","\nimport { Texture } from './texture';\n\nclass TextureReferenceNode {\n    public texture: Texture;\n    public referenceCount: number = 1;\n\n    public constructor(texture: Texture) {\n        this.texture = texture;\n    }\n}\n\nexport class TextureManager {\n\n    private static _textures: { [name: string]: TextureReferenceNode } = {};\n\n    private constructor() {\n\n    }\n\n    public static getTexture(textureName: string): Texture {\n        if (TextureManager._textures[name] === undefined) {\n            const texture = new Texture(textureName);\n            TextureManager._textures[textureName] = new TextureReferenceNode(texture);\n        } else {\n            TextureManager._textures[textureName].referenceCount++;\n        }\n\n        return TextureManager._textures[textureName].texture;\n    }\n\n    public static releaseTexture(textureName: string): void {\n        if (TextureManager._textures[name] === undefined) {\n            console.warn(`A texture named ${textureName} does not exist and cannot be released`);\n        } else {\n            TextureManager._textures[textureName].referenceCount--;\n            if (TextureManager._textures[textureName].referenceCount < 1) {\n                TextureManager._textures[textureName].texture.destroy();\n                TextureManager._textures[textureName] = undefined! as TextureReferenceNode;\n                delete TextureManager._textures[textureName];\n            }\n\n        }\n    }\n}","import { Texture } from \"./texture\";\nimport { Color } from './color';\nimport { TextureManager } from \"./textureManager\";\n\nexport class Material {\n    private _name: string;\n    private _diffuseTextureName: string;\n    private _diffuseTexture: Texture;\n    private _tint: Color;\n\n    public constructor(name: string, diffuseTextureName: string, tint: Color) {\n        this._name = name;\n        this._diffuseTextureName = diffuseTextureName;\n        this._tint = tint;\n\n        if (this._diffuseTextureName !== undefined) {\n            this._diffuseTexture = TextureManager.getTexture(this._diffuseTextureName);\n        }\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get diffuseTextureName(): string {\n        return this._diffuseTextureName;\n    }\n\n    public get diffuseTexture(): Texture {\n        return this._diffuseTexture;\n    }\n\n    public get tint(): Color {\n        return this._tint;\n    }\n\n    public set diffuseTextureName(value: string) {\n        if (this._diffuseTextureName !== undefined) {\n            TextureManager.releaseTexture(this._diffuseTextureName);\n        }\n        this._diffuseTextureName = value;\n\n        if (this._diffuseTextureName !== undefined) {\n            this._diffuseTexture = TextureManager.getTexture(this._diffuseTextureName);\n        }\n    }\n\n    public destroy(): void {\n        TextureManager.releaseTexture(this._diffuseTextureName);\n        this._diffuseTexture = undefined!;\n    }\n\n}","export class Color {\n    private _r: number;\n    private _g: number;\n    private _b: number;\n    private _a: number;\n\n    public constructor(r: number = 255, g: number = 255, b: number = 255, a: number = 255) {\n        this._r = r;\n        this._g = g;\n        this._b = b;\n        this._a = a;\n    }\n\n    public get r(): number {\n        return this._r;\n    }\n\n    public get rFloat(): number {\n        return this._r / 255.0;\n    }\n\n    public set r(value) {\n        this._r = value;\n    }\n\n    public get g(): number {\n        return this._g;\n    }\n\n    public get gFloat(): number {\n        return this._g / 255.0;\n    }\n\n    public set g(value) {\n        this._g = value;\n    }\n\n    public get b(): number {\n        return this._b;\n    }\n\n    public get bFloat(): number {\n        return this._b / 255.0;\n    }\n\n    public set b(value) {\n        this._b = value;\n    }\n\n    public get a(): number {\n        return this._a;\n    }\n\n    public get aFloat(): number {\n        return this._a / 255.0;\n    }\n\n    public set a(value) {\n        this._a = value;\n    }\n\n    public toArray(): number[] {\n        return [this._r, this._g, this._b, this._a];\n    }\n\n    public toFloatArray(): number[] {\n        return [this._r / 255, this._g / 255, this._b / 255, this._a / 255];\n    }\n\n    public toFloat32Array(): Float32Array {\n        return new Float32Array(this.toFloatArray());\n    }\n\n    public static white(): Color {\n        return new Color(255, 255, 255, 255);\n    }\n\n    public static black(): Color {\n        return new Color(0, 0, 0, 255);\n    }\n\n    public static red(): Color {\n        return new Color(255, 0, 0, 255);\n    }\n\n    public static green(): Color {\n        return new Color(0, 255, 0, 255);\n    }\n\n    public static blue(): Color {\n        return new Color(0, 0, 255, 255);\n    }\n\n}","﻿import { Vector3 } from \"../math/vector3\";\nimport { GLBuffer, AttributeInfo } from \"../gl/glBuffer\";\nimport { Material } from \"./material\";\nimport { BitmapFont } from \"./BitmapFont\";\nimport { Vertex } from \"./vertex\";\nimport { BitmapFontManager } from \"./BitmapFontManager\";\nimport { Matrix4x4 } from \"../math/matrix4x4\";\nimport { Color } from \"./color\";\nimport { Shader } from \"../gl/shader\";\nimport { gl } from \"../gl/gl\";\n\n/**\n * A bitmap text graphics object which is responsible for the underlying rendering\n * of text to the screen.\n */\nexport class BitmapText {\n\n    private _fontName: string;\n    private _isDirty: boolean = false;\n\n    protected _name: string;\n    protected _origin: Vector3 = Vector3.zero;\n\n    protected _buffer: GLBuffer;\n    protected _material: Material;\n    protected _bitmapFont: BitmapFont;\n    protected _vertices: Vertex[] = [];\n    protected _text: string;\n\n    /**\n     * Creates a new bitmap text graphics object.\n     * @param name The name of the text object.\n     * @param fontName The name of the font to be used.\n     */\n    public constructor(name: string, fontName: string) {\n        this._name = name;\n        this._fontName = fontName;\n    }\n\n    /**\n     * The name of this object.\n     */\n    public get name(): string {\n        return this._name;\n    }\n\n    /** Gets the text value of this object. */\n    public get text(): string {\n        return this._text;\n    }\n\n    /** Sets the text value of this object. */\n    public set text(value: string) {\n        if (this._text !== value) {\n            this._text = value;\n            this._isDirty = true;\n        }\n    }\n\n    /** Gets the origin for this object. */\n    public get origin(): Vector3 {\n        return this._origin;\n    }\n\n    /** Sets the origin for this object. */\n    public set origin(value: Vector3) {\n        this._origin = value;\n        this.calculateVertices();\n    }\n\n    /** Destroys this object. */\n    public destroy(): void {\n        this._buffer.destroy();\n        this._material.destroy();\n        this._material = undefined;\n    }\n\n    /** Loads this bitmap text object. */\n    public load(): void {\n        this._bitmapFont = BitmapFontManager.getFont(this._fontName);\n\n        // TODO: probably need a simpler shader for UI elements such as this.\n        // let shader = ShaderManager.GetShader(BuiltinShader.BASIC);\n        // if (shader === undefined) {\n        //     throw new Error(\"Unable to basic builtin shader.\");\n        // }\n\n        this._material = new Material(`BITMAP_FONT_${this.name}_${this._bitmapFont.size}`, /*shader,*/ this._bitmapFont.textureName, Color.white());\n\n        this._buffer = new GLBuffer();\n\n        let positionAttribute = new AttributeInfo();\n        positionAttribute.location = 0;\n        positionAttribute.size = 3;\n        this._buffer.addAttributeLocation(positionAttribute);\n\n        let texCoordAttribute = new AttributeInfo();\n        texCoordAttribute.location = 1;\n        texCoordAttribute.size = 2;\n        this._buffer.addAttributeLocation(texCoordAttribute);\n    }\n\n    /**\n     * Updates this object.\n     * @param time The amount of time in milliseconds since the last update.\n     */\n    public update(time: number): void {\n        if (this._isDirty && this._bitmapFont.isLoaded) {\n            this.calculateVertices();\n            this._isDirty = false;\n        }\n    }\n\n    public draw(shader: Shader, model: Matrix4x4) {\n        const modelLocation = shader.getUniformLocation(\"u_model\");\n        gl.uniformMatrix4fv(modelLocation, false, model.toFloat32Array());\n\n        const colorLocation = shader.getUniformLocation(\"u_tint\");\n        gl.uniform4fv(colorLocation, this._material.tint.toFloat32Array());\n\n        if (this._material.diffuseTexture != undefined) {\n            this._material.diffuseTexture.activateAndBind(0);\n            const diffuseLocation = shader.getUniformLocation(\"u_diffuse\");\n            gl.uniform1i(diffuseLocation, 0);\n        }\n\n        this._buffer.bind();\n        this._buffer.draw();\n    }\n\n    private calculateVertices(): void {\n        this._vertices.length = 0;\n        this._buffer.clearData();\n\n        let x = 0;\n        let y = 0;\n\n        for (let c of this._text) {\n            if (c === \"\\n\") {\n                x = 0;\n                y += this._bitmapFont.size;\n                continue;\n            }\n\n            let g = this._bitmapFont.getGlyph(c);\n\n            let minX = x + g.xOffset;\n            let minY = y + g.yOffset;\n\n            let maxX = minX + g.width;\n            let maxY = minY + g.height;\n\n\n            let minu = g.x / this._bitmapFont.imageWidth;\n            let minv = g.y / this._bitmapFont.imageHeight;\n\n            let maxu = (g.x + g.width) / this._bitmapFont.imageWidth;\n            let maxv = (g.y + g.height) / this._bitmapFont.imageHeight;\n\n            this._vertices.push(new Vertex(minX, minY, 0, minu, minv));\n            this._vertices.push(new Vertex(minX, maxY, 0, minu, maxv));\n            this._vertices.push(new Vertex(maxX, maxY, 0, maxu, maxv));\n            this._vertices.push(new Vertex(maxX, maxY, 0, maxu, maxv));\n            this._vertices.push(new Vertex(maxX, minY, 0, maxu, minv));\n            this._vertices.push(new Vertex(minX, minY, 0, minu, minv));\n\n            x += g.xAdvance;\n        }\n\n        for (let v of this._vertices) {\n            this._buffer.pushBackData(v.toArray());\n        }\n\n        this._buffer.upload();\n        this._buffer.unbind();\n    }\n}\n","﻿import { IComponentData } from \"./IComponentData\";\nimport { Vector3 } from \"../math/vector3\";\nimport { IComponentBuilder } from \"./IComponentBuilder\";\nimport { IComponent } from \"./IComponent\";\nimport { IMessageHandler } from \"../message/IMessageHandler\";\nimport { BaseComponent } from \"./baseComponent\";\nimport { BitmapText } from \"../graphics/BitmapText\";\nimport { Message } from \"../message/message\";\nimport { Shader } from \"../gl/shader\";\n\nexport class BitmapTextComponentData implements IComponentData {\n    public name: string;\n    public fontName: string;\n    public origin: Vector3 = Vector3.zero;\n    public text: string;\n\n    public setFromJson(json: any): void {\n        if (json.name !== undefined) {\n            this.name = String(json.name);\n        }\n\n        if (json.fontName !== undefined) {\n            this.fontName = String(json.fontName);\n        }\n\n        if (json.text !== undefined) {\n            this.text = String(json.text);\n        }\n\n        if (json.origin !== undefined) {\n            this.origin.setFromJson(json.origin);\n        }\n    }\n}\n\nexport class BitmapTextComponentBuilder implements IComponentBuilder {\n    public get type(): string {\n        return \"bitmapText\";\n    }\n\n    public buildFromJson(json: any): IComponent {\n        let data = new BitmapTextComponentData();\n        data.setFromJson(json);\n        return new BitmapTextComponent(data);\n    }\n}\n\n/**\n * A component which renders bitmap text.\n */\nexport class BitmapTextComponent extends BaseComponent implements IMessageHandler {\n\n    private _bitmapText: BitmapText;\n    private _fontName: string;\n\n    /**\n     * Creates a new BitmapTextComponent.\n     * @param data The data to use for creation.\n     */\n    public constructor(data: BitmapTextComponentData) {\n        super(data);\n        this._fontName = data.fontName;\n        this._bitmapText = new BitmapText(this.name, this._fontName);\n        if (!data.origin.equals(Vector3.zero)) {\n            this._bitmapText.origin.copyFrom(data.origin);\n        }\n\n        this._bitmapText.text = data.text;\n\n        // Listen for text updates.\n        Message.subscribe(this.name + \":SetText\", this);\n    }\n\n    /** Loads this component. */\n    public load(): void {\n        this._bitmapText.load();\n    }\n\n    /**\n     * Updates this component.\n     * @param time The amount of time in milliseconds since the last update.\n     */\n    public update(time: number): void {\n        this._bitmapText.update(time);\n    }\n\n    /**\n     * Renders this component.\n     * @param shader The shader to use for rendering.\n     */\n    public render(shader: Shader): void {\n        this._bitmapText.draw(shader, this._owner.worldMatrix);\n        super.render(shader);\n    }\n\n    /**\n     * The message handler.\n     * @param message The message to be handled.\n     */\n    public onMessage(message: Message): void {\n        if (message.code === this.name + \":SetText\") {\n            this._bitmapText.text = String(message.context);\n        }\n    }\n}\n","﻿import { IBehaviorData } from \"./IBehaviorData\";\nimport { IBehaviorBuilder } from \"./IBehaviorBuilder\";\nimport { IBehavior } from \"./IBehavior\";\nimport { BaseBehavior } from \"./baseBehavior\";\nimport { IMessageHandler } from \"../message/IMessageHandler\";\nimport { Message } from \"../message/message\";\nimport { MouseContext } from \"../input/inputManager\";\n\n/**\n * The data for a mouse click behavior.\n */\nexport class MouseClickBehaviorData implements IBehaviorData {\n\n    /** The name of this behavior. */\n    public name: string;\n\n    /** The width of the area to be registered as a click, relative to the TEntity to which this is attached. */\n    public width: number;\n\n    /** The height of the area to be registered as a click, relative to the TEntity to which this is attached. */\n    public height: number;\n\n    /** The message code to be sent when a click is detected. */\n    public messageCode: string;\n\n    /**\n     * Sets this data from the provided json.\n     * @param json The json to set from.\n     */\n    public setFromJson(json: any): void {\n        if (json.name === undefined) {\n            throw new Error(\"Name must be defined in behavior data.\");\n        }\n\n        this.name = String(json.name);\n\n        if (json.width === undefined) {\n            throw new Error(\"width must be defined in behavior data.\");\n        } else {\n            this.width = Number(json.width);\n        }\n\n        if (json.height === undefined) {\n            throw new Error(\"height must be defined in behavior data.\");\n        } else {\n            this.height = Number(json.height);\n        }\n\n        if (json.messageCode === undefined) {\n            throw new Error(\"messageCode must be defined in behavior data.\");\n        } else {\n            this.messageCode = String(json.messageCode);\n        }\n    }\n}\n\n/**\n * The builder for a MouseClick behavior.\n */\nexport class MouseClickBehaviorBuilder implements IBehaviorBuilder {\n    public get type(): string {\n        return \"mouseClick\";\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        let data = new MouseClickBehaviorData();\n        data.setFromJson(json);\n        return new MouseClickBehavior(data);\n    }\n}\n\n/**\n * A behavior which detects clicks within a given width and height, relative to the\n * position of the object to which it is attached. When clicked, a message with the\n * configured message code is sent.\n */\nexport class MouseClickBehavior extends BaseBehavior implements IMessageHandler {\n\n    private _width: number;\n    private _height: number;\n    private _messageCode: string;\n\n    /**\n     * Creates a new MouseClickBehavior.\n     * @param data The data for this behavior.\n     */\n    public constructor(data: MouseClickBehaviorData) {\n        super(data);\n\n        this._width = data.width;\n        this._height = data.height;\n        this._messageCode = data.messageCode;\n        Message.subscribe(\"MOUSE_UP\", this);\n    }\n\n    /**\n     * The message handler.\n     * @param message The message to be handled.\n     */\n    public onMessage(message: Message): void {\n        if (message.code === \"MOUSE_UP\") {\n            if (!this._owner.isVisible) {\n                return;\n            }\n            let context = message.context as MouseContext;\n            let worldPos = this._owner.getWorldPosition();\n            let extentsX = worldPos.x + this._width;\n            let extentsY = worldPos.y + this._height;\n            if (context.position.x >= worldPos.x && context.position.x <= extentsX &&\n                context.position.y >= worldPos.y && context.position.y <= extentsY) {\n                // Send the c onfigured message. \n                Message.send(this._messageCode, this);\n            }\n        }\n    }\n}\n","﻿import { IBehaviorData } from \"./IBehaviorData\";\nimport { IBehaviorBuilder } from \"./IBehaviorBuilder\";\nimport { IBehavior } from \"./IBehavior\";\nimport { BaseBehavior } from \"./baseBehavior\";\nimport { IMessageHandler } from \"../message/IMessageHandler\";\nimport { Message } from \"../message/message\";\n\nexport class VisibilityOnMessageBehaviorData implements IBehaviorData {\n    public name: string;\n    public messageCode: string;\n    public visible: boolean;\n\n    public setFromJson(json: any): void {\n        if (json.messageCode === undefined) {\n            throw new Error(\"VisibilityOnMessageBehaviorData requires 'messageCode' to be defined.\");\n        } else {\n            this.messageCode = String(json.messageCode);\n        }\n\n        if (json.visible === undefined) {\n            throw new Error(\"VisibilityOnMessageBehaviorData requires 'visible' to be defined.\");\n        } else {\n            this.visible = Boolean(json.visible);\n        }\n    }\n}\n\nexport class VisibilityOnMessageBehaviorBuilder implements IBehaviorBuilder {\n\n    public get type(): string {\n        return \"visibilityOnMessage\";\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        let data = new VisibilityOnMessageBehaviorData();\n        data.setFromJson(json);\n        return new VisibilityOnMessageBehavior(data);\n    }\n}\n\n/**\n * A behavior which enables or disables visibility when the configured message is recieved.\n */\nexport class VisibilityOnMessageBehavior extends BaseBehavior implements IMessageHandler {\n\n    private _messageCode: string;\n    private _visible: boolean;\n\n    /**\n     * Creates a new VisibilityOnMessageBehavior.\n     * @param data The data for this behavior.\n     */\n    public constructor(data: VisibilityOnMessageBehaviorData) {\n        super(data);\n\n        this._messageCode = data.messageCode;\n        this._visible = data.visible;\n\n        Message.subscribe(this._messageCode, this);\n    }\n\n    /**\n     * The message handler.\n     * @param message The message to be handled.\n     */\n    public onMessage(message: Message): void {\n        if (message.code === this._messageCode) {\n            this._owner.isVisible = this._visible;\n        }\n    }\n}\n","import { mat4 } from 'gl-matrix';\n\nimport { GLUtilities, gl } from './gl/gl';\nimport { BasicShader } from './gl/shaders/basicShader';\nimport { SpriteComponentBuilder } from './components/spriteComponent';\nimport { AnimatedSpriteComponentBuilder } from './components/animatedSpriteComponent';\nimport { AssetManager } from './assets/assetManager';\nimport { MessageBus } from './message/messageBus';\nimport { MaterialManager } from './graphics/materialManager';\nimport { Material } from './graphics/material';\nimport { ZoneManager } from './world/zoneManager';\nimport { ComponentManager } from './components/componentManager';\nimport { BehaviorManager } from './behaviors/behaviorManager';\nimport { RotationBehaviorBuilder } from './behaviors/rotationBehavior';\nimport { KeyboardMovementBehaviorBuilder } from './behaviors/keyboardMovementBehavior';\nimport { InputManager } from './input/inputManager';\nimport { IMessageHandler } from './message/IMessageHandler';\nimport { Message } from './message/message';\nimport { AudioManager } from './audio/audioManager';\nimport { CollisionComponentBuilder } from './components/collisionComponent';\nimport { CollisionManager } from './collision/CollisionManager';\nimport { ScrollBehaviorBuilder } from './behaviors/ScrollBehavior';\nimport { BitmapFontManager } from './graphics/BitmapFontManager';\nimport { BitmapTextComponentBuilder } from './components/BitmapTextComponent';\nimport { MouseClickBehaviorBuilder } from './behaviors/MouseClickBehavior';\nimport { VisibilityOnMessageBehaviorBuilder } from './behaviors/VisibilityOnMessageBehavior';\nimport { Matrix4x4 } from './math/matrix4x4';\nimport { Vector2 } from './math/vector2';\nimport { IBehaviorBuilder } from './behaviors/IBehaviorBuilder';\nimport { IBitmapFontAsset } from './graphics/IBitmapFontAsset';\nimport { ISoundAsset } from './audio/ISoundAsset';\n\nexport abstract class XGLEngine implements IMessageHandler {\n    private _canvas: HTMLCanvasElement;\n    private _basicShader: BasicShader;\n    private _projection: Matrix4x4;\n    private _previousTime: number = 0;\n    private _gameWidth: number;\n    private _gameHeight: number;\n\n    private _isFirstUpdate: boolean = true;\n    private _aspect: number;\n\n    public constructor(width?: number, height?: number) {\n        if (width) this._gameWidth = width;\n        if (height) this._gameHeight = height;\n    }\n\n    public start(elementName?: string): void {\n\n        this._canvas = GLUtilities.init(elementName);\n\n        if (this._gameWidth !== undefined && this._gameHeight !== undefined) {\n            this._aspect = this._gameWidth / this._gameHeight;\n        }\n\n        this.registerComponents();\n        this.registerBuilders();\n        this.registerBehaviors();\n\n        AssetManager.initialize();\n        InputManager.initialize(this._canvas);\n        ZoneManager.initialize();\n\n        this._basicShader = new BasicShader();\n        this._basicShader.use();\n\n        this.registerFonts();\n        this.registerMaterials();\n        this.registersounds();\n\n        this._projection = Matrix4x4.orthographic(0, this._canvas.width, this._canvas.height, 0, -100.0, 100.0);\n\n        this.resize();\n\n        // Begin preloading phase waiting for all assets to be loaded before starting the game\n        this.preloading();\n    }\n\n    /**\n     * Resizes to fit the window.\n     */\n    public resize(): void {\n        if (this._canvas !== undefined) {\n            if (this._gameWidth === undefined || this._gameHeight === undefined) {\n                this._canvas.width = window.innerWidth;\n                this._canvas.height = window.innerHeight;\n                gl.viewport(0, 0, window.innerWidth, window.innerHeight);\n                this._projection = Matrix4x4.orthographic(0, window.innerWidth, window.innerHeight, 0, -100.0, 100.0);\n            } else {\n                let newWidth = window.innerWidth;\n                let newHeight = window.innerHeight;\n                let newWidthToHeight = newWidth / newHeight;\n                // TODO: Game area should be not hardcoded here\n                const gameArea = document.getElementById(\"gameArea\");\n\n                if (newWidthToHeight > this._aspect) {\n                    newWidth = newHeight * this._aspect;\n                } else {\n                    newHeight = newWidth * this._aspect;\n                }\n\n                gameArea.style.width = newWidth + 'px';\n                gameArea.style.height = newHeight + 'px';\n                gameArea.style.marginTop = (-newHeight / 2) + 'px';\n                gameArea.style.marginLeft = (-newWidth / 2) + 'px';\n\n                this._canvas.width = newWidth;\n                this._canvas.height = newHeight;\n                gl.viewport(0, 0, newWidth, newHeight);\n                this._projection = Matrix4x4.orthographic(0, this._gameWidth, this._gameHeight, 0, -100.0, 100.0);\n\n                const resolutionScale = new Vector2(newWidth / this._gameWidth, newHeight / this._gameHeight);\n                InputManager.setResolutionScale(resolutionScale);\n            }\n        }\n    }\n\n    public onMessage(message: Message): void {\n        // if (message.code === 'MOUSE_UP') {\n        //     const context = message.context as MouseContext;\n        //     document.title = `Pos: [${context.position.x}], [${context.position.y}]`;\n        // }\n    }\n\n    protected abstract getGameBehaviorBuilders(): IBehaviorBuilder[];\n    protected abstract getGameBitmapFonts(): IBitmapFontAsset[];\n    protected abstract getGameMaterials(): Material[];\n    protected abstract getGameSounds(): ISoundAsset[];\n\n    private registerComponents() {\n        ComponentManager.registerBuilder(new SpriteComponentBuilder());\n        ComponentManager.registerBuilder(new AnimatedSpriteComponentBuilder());\n        ComponentManager.registerBuilder(new CollisionComponentBuilder());\n        ComponentManager.registerBuilder(new BitmapTextComponentBuilder());\n    }\n\n    private registerBuilders() {\n        ComponentManager.registerBuilder(new SpriteComponentBuilder());\n        ComponentManager.registerBuilder(new AnimatedSpriteComponentBuilder());\n        ComponentManager.registerBuilder(new CollisionComponentBuilder());\n        ComponentManager.registerBuilder(new BitmapTextComponentBuilder());\n    }\n\n    private registerBehaviors() {\n\n        BehaviorManager.registerBuilder(new RotationBehaviorBuilder());\n        BehaviorManager.registerBuilder(new KeyboardMovementBehaviorBuilder());\n\n        // This is a very specific scroll, might need a better name\n        BehaviorManager.registerBuilder(new ScrollBehaviorBuilder());\n        BehaviorManager.registerBuilder(new MouseClickBehaviorBuilder());\n        BehaviorManager.registerBuilder(new VisibilityOnMessageBehaviorBuilder());\n\n        const gameBehaviorBuilders: IBehaviorBuilder[] = this.getGameBehaviorBuilders() || [];\n        gameBehaviorBuilders.forEach(behaviorBuilder => BehaviorManager.registerBuilder(behaviorBuilder));\n    }\n\n    private registerFonts() {\n        const gameBitmapFonts: IBitmapFontAsset[] = this.getGameBitmapFonts() || [];\n        gameBitmapFonts.forEach(font => BitmapFontManager.addFont(font.name, font.src));\n        BitmapFontManager.load();\n    }\n\n    private registerMaterials() {\n        const gameMaterials: Material[] = this.getGameMaterials() || [];\n        gameMaterials.forEach(material => MaterialManager.registerMaterial(material));\n    }\n\n    private registersounds() {\n        const gameSounds: ISoundAsset[] = this.getGameSounds() || [];\n        gameSounds.forEach(sound => AudioManager.loadSoundFile(sound.name, sound.src, sound.loop));\n    }\n\n    private loop(): void {\n        if (this._isFirstUpdate) {\n\n        }\n\n        this.update();\n        this.render();\n\n        requestAnimationFrame(this.loop.bind(this));\n    }\n\n    private preloading() {\n        // Make sure we always update message bus\n        MessageBus.update(0);\n\n        if (!BitmapFontManager.updateReady()) {\n            requestAnimationFrame(this.preloading.bind(this));\n            return;\n        }\n\n        // Load up Zone. Make this configurable\n        ZoneManager.changeZone(0);\n\n        this.loop();\n    }\n\n    private update(): void {\n        const delta = performance.now() - this._previousTime;\n\n        MessageBus.update(delta);\n        ZoneManager.update(delta);\n        CollisionManager.update(delta);\n\n        this._previousTime = performance.now();\n    }\n\n    private render(): void {\n        GLUtilities.clearFrame();\n\n        ZoneManager.render(this._basicShader);\n\n        const projectionPosition = this._basicShader.getUniformLocation('u_projection');\n        gl.uniformMatrix4fv(projectionPosition, false, this._projection.toFloat32Array());\n    }\n\n    private createProjection(): mat4 {\n        let m: mat4 = mat4.create();\n\n        return mat4.ortho(m, 0, this._canvas.width, this._canvas.height, 0, -100.0, 100.0);\n    }\n}\n\n","\nexport class MathExt {\n\n    public static clamp(value: number, min: number, max: number): number {\n        if (value < min) return min;\n        if (value > max) return max;\n        return value;\n    }\n\n    public static degToRad(degrees: number): number {\n        return degrees * Math.PI / 180.0;\n    }\n\n    public static radToDeg(radians: number): number {\n        return radians * 180.0 / Math.PI;\n    }\n\n}","import { BaseBehavior } from 'xgl/dist/behaviors/baseBehavior';\nimport { IBehaviorData } from 'xgl/dist/behaviors/IBehaviorData';\nimport { IBehaviorBuilder } from 'xgl/dist/behaviors/IBehaviorBuilder';\nimport { IBehavior } from 'xgl/dist/behaviors/IBehavior';\nimport { Vector2 } from 'xgl/dist/math/vector2';\nimport { AnimatedSpriteComponent } from 'xgl/dist/components/animatedSpriteComponent';\nimport { IMessageHandler } from 'xgl/dist/message/IMessageHandler';\nimport { Message } from 'xgl/dist/message/message';\nimport { AudioManager } from 'xgl/dist/audio/audioManager';\nimport { CollisionData } from 'xgl/dist/collision/CollisionManager';\nimport { MathExt } from 'xgl/dist/math/mathExtensions';\nimport { Vector3 } from 'xgl/dist/math/vector3';\n\nexport class PlayerBehaviorData implements IBehaviorData {\n\n    public name: string;\n    public acceleration: Vector2 = new Vector2(0, 920);\n    public playerCollisionComponent: string;\n    public groundCollisionComponent: string;\n    public animatedSpriteName: string;\n    public scoreCollisionComponent: string;\n\n    public setFromJson(json: any): void {\n        if (json.name === undefined) {\n            throw new Error('Name must be defined in behavior data');\n        }\n\n        this.name = String(json.name);\n\n        if (json.acceleration !== undefined) {\n            this.acceleration.setFromJson(json.acceleration);\n        }\n\n        if (json.animatedSpriteName === undefined) {\n            throw new Error('animatedSpriteName must be defined in behavior data');\n        } else {\n            this.animatedSpriteName = String(json.animatedSpriteName);\n        }\n\n        if (json.playerCollisionComponent === undefined) {\n            throw new Error('playerCollisionComponent must be defined in behavior data');\n        } else {\n            this.playerCollisionComponent = String(json.playerCollisionComponent);\n        }\n\n        if (json.groundCollisionComponent === undefined) {\n            throw new Error('groundCollisionComponent must be defined in behavior data');\n        } else {\n            this.groundCollisionComponent = String(json.groundCollisionComponent);\n        }\n\n        if (json.scoreCollisionComponent === undefined) {\n            throw new Error('scoreCollisionComponent must be defined in behavior data');\n        } else {\n            this.scoreCollisionComponent = String(json.scoreCollisionComponent);\n        }\n    }\n\n}\n\nexport class PlayerBehaviorBuilder implements IBehaviorBuilder {\n    public get type(): string {\n        return 'player';\n    }\n\n    public buildFromJson(json: any): IBehavior {\n        const data = new PlayerBehaviorData();\n        data.setFromJson(json);\n        return new PlayerBehavior(data);\n    }\n}\n\nexport class PlayerBehavior extends BaseBehavior implements IMessageHandler {\n\n    private _acceleration: Vector2;\n    private _velocity: Vector2 = Vector2.zero;\n    private _isAlive: boolean = true;\n    private _playerCollisionComponent: string;\n    private _groundCollisionComponent: string;\n    private _scoreCollisionComponent: string;\n    private _animatedSpriteName: string;\n    private _isPlaying: boolean = false;\n    private _initialPosition: Vector3 = Vector3.zero;\n    private _score: number = 0;\n    private _highScore: number = 0;\n\n    private _sprite: AnimatedSpriteComponent;\n\n    // TODO: move this to configuration.\n    private _pipeNames: string[] = [\"pipe1Collision_end\", \"pipe1Collision_middle_top\", \"pipe1Collision_endneg\", \"pipe1Collision_middle_bottom\"];\n\n    public constructor(data: PlayerBehaviorData) {\n        super(data);\n\n        this._acceleration = data.acceleration;\n        this._playerCollisionComponent = data.playerCollisionComponent;\n        this._groundCollisionComponent = data.groundCollisionComponent;\n        this._scoreCollisionComponent = data.scoreCollisionComponent;\n        this._animatedSpriteName = data.animatedSpriteName;\n\n        Message.subscribe(\"MOUSE_DOWN\", this);\n        Message.subscribe(\"COLLISION_ENTRY\", this);\n\n        Message.subscribe(\"GAME_READY\", this);\n        Message.subscribe(\"GAME_RESET\", this);\n        Message.subscribe(\"GAME_START\", this);\n\n        Message.subscribe(\"PLAYER_DIED\", this);\n    }\n\n    public updateReady() {\n        super.updateReady();\n\n        // Get a reference to the animated sprite\n        this._sprite = this._owner.getComponentByName(this._animatedSpriteName) as AnimatedSpriteComponent;\n        if (this._sprite === undefined) {\n            throw new Error(`AnimatedSpriteComponent named ${this._animatedSpriteName} is not attaached to the owner of this component`);\n        }\n\n        // Make sure the animation plays right away.\n        this._sprite.setFrame(0);\n\n        this._initialPosition.copyFrom(this._owner.transform.position);\n    }\n\n    public update(time: number): void {\n\n        const seconds: number = time / 1000;\n\n        if (this._isPlaying) {\n            this._velocity.add(this._acceleration.clone().scale(seconds));\n        }\n\n        // Limit velocity\n        if (this._velocity.y > 400) {\n            this._velocity.y = 400;\n        }\n\n        // Prevent Flying too high\n        if (this._owner.transform.position.y < -13) {\n            this._owner.transform.position.y = -13;\n            this._velocity.y = 0;\n        }\n\n        this._owner.transform.position.add(this._velocity.clone().scale(seconds).toVector3());\n\n        if (this._velocity.y < 0) {\n            this._owner.transform.rotation.z -= MathExt.degToRad(600.0) * seconds;\n\n            if (this._owner.transform.rotation.z < MathExt.degToRad(-20)) {\n                this._owner.transform.rotation.z = MathExt.degToRad(-20);\n            }\n        }\n\n        if (this.isFalling() || !this._isAlive) {\n            this._owner.transform.rotation.z += MathExt.degToRad(480.0) * seconds;\n            if (this._owner.transform.rotation.z > MathExt.degToRad(90)) {\n                this._owner.transform.rotation.z = MathExt.degToRad(90);\n            }\n        }\n\n        if (this.shouldNotFlap()) {\n            this._sprite.stop();\n        } else if (!this._sprite.isPlaying) {\n            this._sprite.play();\n        }\n\n        super.update(time);\n    }\n\n    public onMessage(message: Message): void {\n        switch (message.code) {\n            case \"MOUSE_DOWN\":\n                this.onFlap();\n                break;\n\n            case \"COLLISION_ENTRY\":\n                let data: CollisionData = message.context as CollisionData;\n                if (data.a.name !== this._playerCollisionComponent && data.b.name !== this._playerCollisionComponent) {\n                    return;\n                }\n                if (data.a.name === this._groundCollisionComponent || data.b.name === this._groundCollisionComponent) {\n                    this.die();\n                    this.decelerate();\n                } else if (this._pipeNames.indexOf(data.a.name) !== -1 || this._pipeNames.indexOf(data.b.name) !== -1) {\n                    this.die();\n                } else if (data.a.name === this._scoreCollisionComponent || data.b.name === this._scoreCollisionComponent) {\n                    if (this._isAlive && this._isPlaying) {\n                        this.setScore(this._score + 1);\n                        AudioManager.playSound(\"ting\");\n                    }\n                }\n                break;\n\n            // Shows the tutorial, click to GAME_START\n            case \"GAME_RESET\":\n                Message.send(\"GAME_HIDE\", this);\n                Message.send(\"RESET_HIDE\", this);\n                Message.send(\"SPLASH_HIDE\", this);\n                Message.send(\"TUTORIAL_SHOW\", this);\n                this.reset();\n                break;\n\n            // Starts the main game.\n            case \"GAME_START\":\n                Message.send(\"GAME_SHOW\", this);\n                Message.send(\"RESET_HIDE\", this);\n                Message.send(\"SPLASH_HIDE\", this);\n                Message.send(\"TUTORIAL_HIDE\", this);\n                this._isPlaying = true;\n                this._isAlive = true;\n                this.start();\n                break;\n\n            // Zone is loaded, show play button/splash screen\n            case \"GAME_READY\":\n                Message.send(\"RESET_HIDE\", this);\n                Message.send(\"TUTORIAL_HIDE\", this);\n                Message.send(\"GAME_HIDE\", this);\n                Message.send(\"SPLASH_SHOW\", this);\n                break;\n\n            // Show score and restart button\n            case \"PLAYER_DIED\":\n                Message.send(\"RESET_SHOW\", this);\n                break;\n        }\n    }\n\n    private isFalling(): boolean {\n        return this._velocity.y > 220.0;\n    }\n\n    private shouldNotFlap(): boolean {\n        return !this._isPlaying || this._velocity.y > 220.0 || !this._isAlive;\n    }\n\n    private die() {\n        if (this._isPlaying && this._isAlive) {\n            this._isAlive = false;\n            AudioManager.playSound('dead');\n            Message.send(\"PLAYER_DIED\", this);\n        }\n    }\n\n    private reset(): void {\n        this._isAlive = true;\n        this._isPlaying = false;\n        this._sprite.owner.transform.position.copyFrom(this._initialPosition);\n        this._sprite.owner.transform.rotation.z = 0;\n        this.setScore(0);\n\n        this._velocity.set(0, 0);\n        this._acceleration.set(0, 920);\n        this._sprite.play();\n    }\n\n    private start(): void {\n        this._isPlaying = true;\n        Message.send(\"PLAYER_RESET\", this);\n    }\n\n    private decelerate() {\n        this._acceleration.y = 0;\n        this._velocity.y = 0;\n    }\n\n    private onFlap() {\n        if (this._isAlive && this._isPlaying) {\n            this._velocity.y = -280;\n            AudioManager.playSound('flap');\n        }\n    }\n\n    private setScore(score: number): void {\n        this._score = score;\n        Message.send(\"counterText:SetText\", this, this._score);\n        Message.send(\"scoreText:SetText\", this, this._score);\n\n        if (this._score > this._highScore) {\n            this._highScore = this._score;\n            Message.send(\"bestText:SetText\", this, this._highScore);\n        }\n    }\n}","\nimport { XGLEngine } from 'xgl';\nimport { IBehaviorBuilder } from 'xgl/dist/behaviors/IBehaviorBuilder';\nimport { IBitmapFontAsset } from 'xgl/dist/graphics/IBitmapFontAsset';\nimport { ISoundAsset } from 'xgl/dist/audio/ISoundAsset';\nimport { Material } from 'xgl/dist/graphics/material';\nimport { Color } from 'xgl/dist/graphics/color';\n\nimport { PlayerBehaviorBuilder } from './behaviors/PlayerBehavior';\n\nnamespace StupidDuck {\n\n    class Game extends XGLEngine {\n\n        public constructor() {\n            super(320, 480);\n        }\n\n        public startGame() {\n\n            window.onload = () => {\n                this.start(\"viewport\");\n            }\n\n            window.onresize = () => {\n                this.resize();\n            }\n        }\n\n        protected getGameBehaviorBuilders(): IBehaviorBuilder[] {\n            return [\n                new PlayerBehaviorBuilder(),\n            ];\n        }\n\n        protected getGameBitmapFonts(): IBitmapFontAsset[] {\n            return [{\n                name: \"default\",\n                src: \"assets/fonts/text.txt\",\n            }];\n        }\n\n        protected getGameMaterials(): Material[] {\n            return [\n                new Material('bg', 'assets/textures/bg.png', new Color(255, 255, 255, 255)),\n                new Material('end', 'assets/textures/end.png', new Color(255, 255, 255, 255)),\n                new Material('middle', 'assets/textures/middle.png', new Color(255, 255, 255, 255)),\n                new Material('grass', 'assets/textures/grass.png', new Color(255, 255, 255, 255)),\n                new Material('duck', 'assets/textures/duck.png', new Color(255, 255, 255, 255)),\n                new Material('1px', 'assets/textures/1px.png', new Color(255, 0, 0, 100)),\n                new Material('playbtn', 'assets/textures/playbtn.png', new Color(255, 255, 255, 255)),\n                new Material('restartbtn', 'assets/textures/restartbtn.png', new Color(255, 255, 255, 255)),\n                new Material('score', 'assets/textures/score.png', new Color(255, 255, 255, 255)),\n                new Material('title', 'assets/textures/title.png', new Color(255, 255, 255, 255)),\n                new Material('tutorial', 'assets/textures/tutorial.png', new Color(255, 255, 255, 255)),\n            ];\n        }\n\n        protected getGameSounds(): ISoundAsset[] {\n            return [{\n                name: 'flap',\n                src: 'assets/sounds/flap.mp3',\n                loop: false,\n            },\n            {\n                name: 'ting',\n                src: 'assets/sounds/ting.mp3',\n                loop: false,\n            },\n            {\n                name: 'dead',\n                src: 'assets/sounds/dead.mp3',\n                loop: false,\n            }];\n        }\n    }\n\n    const game = new Game();\n    game.startGame();\n\n}"]}