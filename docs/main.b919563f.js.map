{"version":3,"sources":["element.js","../../es6/utilities/array.js","../../es6/utilities/path.js","../../es6/utilities/fileSystem.js","../../es6/utilities/template.js","../../es6/utilities/asynchronous.js","../../../../../usr/local/lib/node_modules/parcel-bundler/node_modules/process/browser.js","../../../../../usr/local/lib/node_modules/parcel-bundler/node_modules/path-browserify/index.js","../../../es6/utilities/miscellaneous/rc.js","../../../es6/utilities/miscellaneous/log.js","../../../es6/utilities/miscellaneous/ajax.js","../../../es6/utilities/miscellaneous/onETX.js","../../../es6/utilities/miscellaneous/prompt.js","../../es6/utilities/miscellaneous.js","node_modules/necessary/index.js","array.js","vector.js","matrix.js","constants.js","transform.js","canvas.js","function.js","react.js","xgl.js","depth.js","colour.js","shader.js","buffer.js","program.js","texture.js","blending.js","location.js","edge.js","midPoint.js","masking.js","angle.js","approximate.js","quaternion.js","rotation.js","intersection.js","verticalLine.js","vertices.js","maskingFacet.js","mask.js","renderer.js","data.js","lighting.js","position.js","vertexShader.js","fragmentShader.js","buffers.js","uniform.js","attribute.js","images.js","imageMap.js","part.js","camera.js","keyEvents.js","mouseEvents.js","userInput.js","scene.js","offsets.js","pan.js","tilt.js","gaming.js","zoom.js","design.js","normal.js","vertex.js","facet.js","coloured.js","textured.js","node_modules/xgl/index.js","src/main.ts"],"names":["Element","childElements","Class","properties","remainingArguments","element","setChildElements","module","exports","first","array","second","third","fourth","fifth","fifthLast","length","fourthLast","thirdLast","secondLast","last","tail","slice","push","array1","array2","Array","prototype","apply","unshift","concat","splice","clear","copy","merge","start","deleteCount","Infinity","args","replace","test","found","some","index","filter","filteredElements","backwardsForEach","firstDeletedElement","find","elements","forwardsForEach","prune","prunedElement","undefined","patch","augment","forEach","separate","forwardsSome","callback","arrayLength","backwardsSome","forwardsEvery","backwardsEvery","require","isPathRelativePath","path","search","isPathAbsolutePath","isPathTopmostDirectoryName","isTopmostDirectoryNameContainedInPath","topmostDirectoryName","regExp","RegExp","combinePaths","directoryPath","relativePath","absolutePath","directoryPathSubEntryNames","split","relativeFilePathSubEntryNames","firstRelativeFilePathSubEntryName","lastDirectoryPathSubEntryName","shift","pop","join","concatenatePaths","path1","path2","bottommostNameFromPath","bottommostName","matches","match","topmostDirectoryPathFromPath","topmostDirectoryNameFromPath","pathWithoutBottommostNameFromPath","pathWithoutBottommostName","pathWithoutTopmostDirectoryNameFromPath","pathWithoutTopmostDirectoryName","fs","doesEntryExist","existsSync","doesFileExist","absoluteFilePath","fileExists","isEntryFile","doesDirectoryExist","absoluteDirectoryPath","directoryExists","isEntryDirectory","statSync","isDirectory","isDirectoryEmpty","readDirectory","readdirSync","readFile","options","encoding","readFileSync","writeFile","content","writeFileSync","appendToFile","appendFileSync","renameFile","oldAbsoluteFilePath","newAbsoluteFilePath","renameSync","getStats","fileSystemUtilities","parseFile","filePath","parseContent","parseLines","parseLine","line","token","parseToken","lines","map","parsedToken","hasOwnProperty","whilst","done","context","count","next","sequence","callbacks","eventually","repeatedly","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","Item","noop","nextTick","arguments","i","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","arrayUtilities","rcBaseExtension","rc","environmentNameOrArgv","environment","environmentName","environmentNameFromArgv","environments","readRCFile","Object","assign","resolve","fileContent","JSON","parse","writeRCFile","json","stringify","updateRCFile","addedPropperties","deletedPropertyNames","deletedPropertyName","setRCBaseExtension","baseExtension","argument","secondMatch","pathUtilities","TRACE","DEBUG","INFO","WARNING","ERROR","FATAL","logLevel","logFileBaseName","logDirectoryPath","log","message","level","pertinentStackMessageIndex","levels","indexOf","pertinentStackMessage","stack","logMessage","getCurrentDateAndTimeString","filePathFromStackMessage","lineNumberFromStackMessage","console","rollOverLogFile","logFilePath","getLogFilePath","trace","debug","info","warning","error","fatal","setLogLevel","setLogFileBaseName","fileBaseName","setLogDirectoryPath","getLogFileContent","getRolledOverLogFilePath","currentDateString","getCurrentDateString","getLogFileLastModifiedDate","mtime","Date","isDateCurrentDate","rolledOverLogFilePath","date","currentDate","toDateString","padStartWithZeroes","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","stackMessage","substr","string","targetLength","padStart","padString","padding","GET_METHOD","POST_METHOD","get","host","uri","parameters","request","post","method","body","url","urlFromHostURIAndParameters","xmlHttpRequest","XMLHttpRequest","onreadystatechange","readyState","status","responseText","jsonString","open","send","queryString","queryStringFromParameters","names","keys","lastIndex","reduce","value","encodeURIComponent","ETX_CHARACTER","onETX","handler","stdin","setRawMode","offExt","setEncoding","resume","dataHandler","character","asynchronousUtilities","stdout","exit","BACKSPACE_CHARACTER","String","fromCharCode","LINE_FEED_CHARACTER","CARRIAGE_RETURN_CHARACTER","prompt","attempts","attempt","terminate","description","errorMessage","validationPattern","validationFunction","hidden","hiddenInput","visibleInput","write","listener","chunk","trim","pause","rawMode","offETX","toString","truncate","clearLine","cursorTo","ajax","necessary","permute","places","cut","leadingElements","trailingElements","flatten","arrays","guarantee","arrayOrElement","zero2","zero3","zero4","length2","vector","x","y","Math","sqrt","length3","z","length4","w","dot2","vectorA","vectorB","dot3","dot4","cross3","ax","ay","az","bx","by","bz","normalise2","normalise3","normalise4","reflect2","reflect3","reflect4","scale2","scalar","scale3","scale4","add2","add3","add4","subtract2","subtract3","subtract4","multiply2","multiply3","multiply4","transform2","matrix","transform3","transform4","identity2","identity3","identity4","matrixA","matrixB","a0","a1","a2","a3","b0","b1","b2","b3","a4","a5","a6","a7","a8","b4","b5","b6","b7","b8","a9","a10","a11","a12","a13","a14","a15","b9","b10","b11","b12","b13","b14","b15","invert2","m0","m1","m2","m3","determinant","invert3","m00","m01","m02","m10","m11","m12","m20","m21","m22","b01","b21","invert4","m03","m13","m23","m30","m31","m32","m33","b00","b02","b03","b04","b05","b06","b07","b08","b09","transpose2","transpose3","transpose4","rotate4","angle","s","sin","c","cos","t","b20","b22","translate4","perspective4","fieldOfView","aspectRatio","zNear","zFar","f","tan","nf","Z_FAR","Z_NEAR","MOUSE_UP","MOUSE_DOWN","MOUSE_MOVE","MOUSE_WHEEL","DELTA_SCALAR","INVERT_SCALAR","ANGLES_SCALAR","OFFSET_SCALAR","SHIFT_KEY_CODE","VERTICES_LENGTH","MINIMUM_DISTANCE","DEFAULT_MARGIN_OF_ERROR","DEGREES_TO_RADIANS_SCALAR","PI","FIELD_OF_VIEW","constants","matrixMaths","vectorMaths","scaleMatrixFromScale","scale","scaleMatrix","offsetsMatrixFromOffsets","offsets","offsetsMatrix","positionMatrixFromNothing","positionMatrixFromDistance","distance","positionMatrix","positionMatrixFromPosition","position","rotationsMatrixFromAngles","angles","reverseOrder","rotationsMatrix","xAngle","yAngle","zAngle","xAxis","yAxis","zAxis","rotationsMatrixFromRotations","rotations","normalsMatrixFromRotationsMatrix","normalsMatrix","projectionMatrixFromWidthAndHeight","width","height","matrixUtilities","composeTransform","transformUtilities","CanvasElement","transform","facets","mask","maskElement","getChildElements","facet","applyTransform","childElement","createFacets","amendFacets","applyMask","colourRenderer","textureRenderer","addFacets","fromProperties","FunctionCanvasElement","createElement","firstArgument","isSubclassOf","React","typeOf","getPrototypeOf","defineProperty","window","defaultDepth","clearDepth","depth","clearDepthBuffer","DEPTH_BUFFER_BIT","enableDepthTesting","capacity","DEPTH_TEST","depthComparisonFunction","LEQUAL","enable","depthFunc","defaultR","defaultG","defaultB","defaultA","clearColour","r","g","b","a","clearColor","clearColourBuffer","COLOR_BUFFER_BIT","createShader","type","shaderSource","pname","COMPILE_STATUS","shader","compileShader","getShaderParameter","createVertexShader","vertexShaderSource","canvas","VERTEX_SHADER","createFragmentShader","fragmentShaderSource","FRAGMENT_SHADER","createElementBuffer","data","target","ELEMENT_ARRAY_BUFFER","usage","STATIC_DRAW","uint16Array","Uint16Array","elementBuffer","createBuffer","bindBuffer","bufferData","bindElementBuffer","ARRAY_BUFFER","buffer","float32Array","Float32Array","attributeLocation","components","FLOAT","vertexAttribPointer","enableVertexAttribArray","applyMatrix","uniformLocation","uniformMatrix4fv","createProgram","vertexShader","fragmentShader","program","attachShader","linkProgram","useProgram","createTexture","image","repeat","RGBA","LINEAR","UNSIGNED_BYTE","TEXTURE0","TEXTURE_2D","TEXTURE_WRAP_S","TEXTURE_WRAP_T","UNPACK_FLIP_Y_WEBGL","CLAMP_TO_EDGE","REPEAT","NEAREST","TEXTURE_MIN_FILTER","internalFormat","format","texture","activeTexture","bindTexture","pixelStorei","texImage2D","texParameteri","enableAnisotropicFiltering","extension","getExtension","MAX_TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_MAX_ANISOTROPY_EXT","maximum","getParameter","texParameterf","enableBlending","BLEND","sourceFactor","SRC_ALPHA","destinationFactor","ONE","blendFunc","getUniformLocation","getAttributeLocation","getAttribLocation","setUniformLocationIntegerValue","integerValue","uniform1i","depthMixin","colourMixin","shaderMixin","bufferMixin","matrixMixin","programMixin","textureMixin","blendingMixin","locationMixin","Canvas","selector","domElement","domElementFromSelector","contextFromDOMElement","clientWidth","clientHeight","setAttribute","setWidth","setHeight","viewport","renderer","projectionMatrix","offsetsMatrixUniformLocation","getOffsetsMatrixUniformLocation","normalsMatrixUniformLocation","getNormalsMatrixUniformLocation","positionMatrixUniformLocation","getPositionMatrixUniformLocation","rotationsMatrixUniformLocation","getRotationsMatrixUniformLocation","projectionMatrixUniformLocation","getProjectionMatrixUniformLocation","finish","mode","TRIANGLES","UNSIGNED_SHORT","offset","drawElements","document","querySelectorAll","getContext","Edge","extent","startVertex","endVertex","startPosition","getPosition","endPosition","calculateMidPointPosition","vertices","midPointPosition","vertex","vertexPosition","scaledVertexPosition","projectMidPointPositionOntoXYPlane","isMidPointPositionToOneSideOfMaskingEdges","maskingEdges","midPointPositionToTheLeftOfMaskingEdges","isMidPointPositionToTheLeftOfMaskingEdges","midPointPositionToTheRightOfMaskingEdges","isMidPointPositionToTheRightOfMaskingEdges","maskingEdge","isMidPointPositionToTheLeft","isMidPointPositionToTheRight","midPointUtilities","MaskingEdge","getExtent","midPointRelativePosition","crossProductComponents","fromStartVertexAndEndVertex","calculateHalfAngleSine","angleCosine","calculateHalfAngleCosine","isApproximatelyEqualToOne","isApproximatelyEqualTo","isApproximatelyEqualToZero","valueA","valueB","marginOfError","difference","abs","angleUtilities","approximateUtilities","rotateImaginaryQuaternion","imaginaryQuaternion","rotationQuaternion","inverseRotationQuaternion","hamiltonProduct","calculateInverseRotationQuaternion","rotationQuaternionComponents","calculateForwardsRotationQuaternion","calculateBackwardsRotationQuaternion","calculateArbitraryRotationQuaternion","normal","unitNormal","dotProductOfUnitNormalAndZAxis","crossProductOfUnitNormalAndZAxis","angleOfRotationCosine","angleOfRotationCosineAbsoluteValue","angleOfRotationCosineAbsoluteValueApproximatelyEqualToOne","unitAxisOfRotation","halfAngleOfRotationCosine","halfAngleOfRotationSine","unitAxisOfRotationComponents","calculateRotationAboutZAxisQuaternion","maskingEdgeExtent","unitMaskingEdgeExtentComponents","angleOfRotationSine","quaternionA","quaternionB","c1","d1","c2","d2","quaternionUtilities","rotatePosition","imaginaryQuaternionFromPosition","positionFromImaginaryQuaternion","calculateIntersection","edge","firstPositionComponent","intersection","isEdgeNonParallel","edgeIntersection","calculateEdgeIntersection","calculateNonNullIntersections","intersections","nonNullIntersections","nonNullIntersection","calculateNullIntersectionIndex","nullIntersectionIndex","calculateNonNullIntersectionIndex","calculateIntermediateVertexPosition","startVertexPosition","endVertexPosition","edgeExtentComponents","firstEdgeExtentComponent","secondEdgeExtentComponent","edgeExtent","edgePositionComponents","rotationUtilities","intersectionUtilities","VerticalLine","forwardsRotationQuaternion","backwardsRotationQuaternion","smallerFacets","getEdges","splitWithIntersections","rotate","splitFacet","smallerFacet","maskingEdgePosition","rotateVertices","rotatedVertex","clone","verticesFromCoordinateTuplesAndIndexTuple","coordinateTuples","indexTuple","Vertex","coordinateTuple","fromCoordinateTuple","verticesUtilities","MaskingFacet","verticalLines","unmaskedFacets","unmaskedFacet","maskingFacet","maskedSmallerFacets","unmaskedSmallerFacets","isMasked","unmaskedSmallerFacet","verticalLine","splitFacets","facetNormal","getNormal","facetVertices","getVertices","calculateMaskingEdges","fromMaskingEdge","endIndex","Mask","retrieveFacets","fromFacet","maskingFacets","retrieveMaskingFacets","initialise","elementFacets","getFacets","maskFacet","setFacets","add","Renderer","rendererData","rendererBuffers","uniformLocations","attributeLocations","getCount","getVertexPositionAttributeLocation","getVertexNormalAttributeLocation","RendererData","vertexPositionsData","vertexNormalsData","vertexIndexesData","vertexPositions","vertexNormals","vertexIndexes","ColourRendererData","vertexColoursData","vertexColours","fromNothing","normalsMatrixName","vertexNormalAttributeName","lightingSource","offsetsMatrixName","positionMatrixName","rotationsMatrixName","projectionMatrixName","vertexPositionAttributeName","positionSource","vertexColourAttributeName","vertexNormalComponents","vertexPositionComponents","RendererBuffers","vertexPositionsBuffer","vertexNormalsBuffer","vertexIndexesElementBuffer","vertexNormalAttributeLocation","vertexPositionAttributeLocation","createVertexPositionsBuffer","createVertexNormalsBuffer","createVertexIndexesElementBuffer","bindVertexNormalsBuffer","bindVertexPositionsBuffer","bindVertexIndexesElementBuffer","vertexColourComponents","ColourRendererBuffers","vertexColoursBuffer","vertexColourAttributeLocation","createVertexColoursBuffer","bindVertexColoursBuffer","UniformLocations","ColourUniformLocations","fromProgram","AttributeLocations","ColourAttributeLocations","ColourRenderer","getAttributeLocations","getVertexColourAttributeLocation","colouredFacet","facetVertexIndexes","getVertexIndexes","facetVertexNormals","getVertexNormals","facetVertexPositions","getVertexPositions","colouredFacetVertexColours","getVertexColours","getRendererData","addVertexIndexes","addVertexNormals","addVertexColours","addVertexPositions","getRendererBuffers","getVertexPositionsData","getVertexNormalsData","getVertexIndexesData","getVertexColoursData","createBuffers","bindBuffers","getProgram","render","textureCoordinateAttributeName","TextureRendererData","vertexTextureCoordinatesData","vertexTextureCoordinateTuples","samplerName","textureCoordinateComponents","TextureRendererBuffers","textureCoordinatesBuffer","textureCoordinatesData","textureCoordinateAttributeLocation","createTextureCoordinatesBuffer","bindTextureCoordinatesBuffer","TextureUniformLocations","samplerUniformLocation","TextureAttributeLocations","TextureRenderer","getTextureCoordinateAttributeLocation","getVertexTextureCoordinatesData","getUniformLocations","getSamplerUniformLocation","samplerUniformLocationIntegerValue","ImagesTextureRenderer","imageNames","facetsMap","texturedFacets","imageName","getImageName","texturedFacet","texturedFacetVertexTextureCoordinateTuples","getTextureCoordinateTuples","addVertexTextureCoordinateTuples","useTexture","images","imageTiling","ImageMapTextureRenderer","imageMapJSON","getMappedTextureCoordinateTuples","imageMap","Part","imagesTextureRenderer","fromImagesImageNamesAndImageTiling","imageMapTextureRenderer","fromImageMapAndImageMapJSON","Camera","pan","tilt","KeyEvents","handlers","shiftKeyDown","event","keyCode","shiftKeyHandler","documentDOMElement","documentElement","keyUpEventListener","bind","keyDownEventListener","addEventListener","MouseEvents","handlersMap","mouseDown","eventType","mouseCoordinates","mouseCoordinatesFromEvent","preventDefault","mouseEventListener","mouseWheelDelta","mouseWheelDeltaFromEvent","mouseUpHandler","mouseDownHandler","mouseMoveHandler","mouseWheelHandler","canvasDOMElement","getDOMElement","mouseUpEventListener","mouseDownEventListener","mouseMoveEventListener","mouseWheelEventListener","max","min","wheelDelta","clientX","clientY","boundingClientRect","getBoundingClientRect","top","left","UserInput","keyEvents","mouseEvents","previousMouseCoordinates","isShiftKeyDown","relativeMouseCoordinates","userInputHandler","addMouseMoveHandler","addMouseWheelHandler","Scene","parts","camera","getClientWidth","getClientHeight","resize","update","getWidth","getHeight","part","userInput","windowResizeHandler","initialiseParts","onresize","addUserInputHandler","partsFromChildElements","cameraFromChildElements","scene","defer","progress","relativeOffsetsFromAnglesAndDirections","directions","reflectedAngles","offsetsUtilities","Pan","getAngles","scaledMouseWheelDelta","scaledReflectedRelativeMouseCoordinates","relativeOffsets","initialOffsets","initialPosition","Tilt","flipped","relativeAngles","initialAngles","defaultInitialAngles","defaultInitialPosition","GamingCamera","getPan","getTilt","updateOffsets","updateAngles","getOffsets","fromInitialPosition","fromInitialAnglesAndFlipped","Zoom","initialDistance","defaultInitialOffsets","defaultInitialDistance","DesignCamera","zoom","updateDistance","getDistance","fromInitialOffsets","fromInitialDistance","Normal","cloneExtent","firstVertex","secondVertex","thirdVertex","firstPosition","secondPosition","thirdPosition","firstExtent","secondExtent","cloneEdges","edges","cloneNormal","cloneVertices","calculateEdges","calculateNormal","fromVertices","calculateArea","firstVertexPosition","secondVertexPosition","thirdVertexPosition","facetUtilities","Facet","normalExtent","vertexIndex","getMaskingEdges","splitWithTwoNonNullIntersections","splitWithOneNonNullIntersection","splitWithNoNonNullIntersections","splitWithIndexTuplesAndIntersections","nonNullIntersectionIndex","startVertexPositionIndexes","endVertexPositionIndexes","indexTuples","intermediateVertexPositions","startVertexPositionIndex","endVertexPositionIndex","smallerFacetFromPositionsIndexesAndFacet","positions","indexes","fromPosition","ColouredFacet","rgba","vertexColour","area","colour","ColouredCanvasElement","coordinates","fromCoordinateTuplesIndexTupleAndColour","cloneTextureCoordinateTuples","textureCoordinateTuples","textureCoordinateTuple","calculateMappedTextureCoordinateTuples","bottom","calculateAdjustedTextureCoordinateTuples","parentVertices","tempVertices","firstParentVertex","secondParentVertex","thirdParentVertex","firstTextureCoordinateTuple","secondTextureCoordinateTuple","thirdTextureCoordinateTuple","firstParentVertexPosition","secondParentVertexPosition","thirdParentVertexPosition","R1x","R1y","R2x","R2y","R3x","R3y","P1x","P2x","P3x","P1y","P2y","P3y","P1u","P1v","P2u","P2v","P3u","P3v","textureCoordinatesMatrix","firstTransformedParentVerticesComponent","secondTransformedParentVerticesComponent","Ox","Ux","Vx","Oy","Uy","Vy","transformedParentVerticesMatrix","textureUtilities","TexturedFacet","adjustedTextureCoordinateTuple","TexturedCanvasElement","textureCoordinates","fromTextureCoordinateTuplesCoordinatesTuplesIndexTupleAndImageName"],"mappings":"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","file":"main.b919563f.js","sourceRoot":"..","sourcesContent":["'use strict';\n\nclass Element {\n  getChildElements() {\n    return this.childElements;\n  }\n\n  setChildElements(childElements) {\n    this.childElements = childElements;\n  }\n\n  static fromProperties(Class, properties, ...remainingArguments) {\n    const element = new Class(...remainingArguments),\n          childElements = (typeof element.childElements === 'function') ?\n                            element.childElements(properties) :\n                              properties.childElements || [];\n\n    element.setChildElements(childElements);\n\n    return element;\n  }\n}\n\nmodule.exports = Element;\n","'use strict';\n\nfunction first(array) { return array[0]; }\n\nfunction second(array) { return array[1]; }\n\nfunction third(array) { return array[2]; }\n\nfunction fourth(array) { return array[3]; }\n\nfunction fifth(array) { return array[4]; }\n\nfunction fifthLast(array) { return array[array.length - 5]; }\n\nfunction fourthLast(array) { return array[array.length - 4]; }\n\nfunction thirdLast(array) { return array[array.length - 3]; }\n\nfunction secondLast(array) { return array[array.length - 2]; }\n\nfunction last(array) { return array[array.length - 1]; }\n\nfunction tail(array) { return array.slice(1); }\n\nfunction push(array1, array2) { Array.prototype.push.apply(array1, array2); }\n\nfunction unshift(array1, array2) { Array.prototype.unshift.apply(array1, array2); }\n\nfunction concat(array1, array2) {\n  if (!(array2 instanceof Array)) {\n    array2 = [array2];\n  }\n\n  const start = 0,\n        deleteCount = 0;\n\n  splice(array1, start, deleteCount, array2);\n}\n\nfunction clear(array) {\n  const start = 0;\n  \n  return array.splice(start);\n}\n\nfunction copy(array1, array2) {\n  const start = 0,\n        deleteCount = array2.length;  ///\n  \n  splice(array1, start, deleteCount, array2);\n}\n\nfunction merge(array1, array2) {\n  const start = array2.length,  ///\n        deleteCount = 0;\n\n  splice(array1, start, deleteCount, array2);\n}\n\nfunction splice(array1, start, deleteCount = Infinity, array2 = []) {\n  const args = [start, deleteCount, ...array2],\n        deletedItemsArray = Array.prototype.splice.apply(array1, args);\n\n  return deletedItemsArray;\n}\n\nfunction replace(array, element, test) {\n  let start = -1;\n  \n  const found = array.some(function(element, index) {\n    const passed = test(element, index);\n\n    if (passed) {\n      start = index;  ///\n      \n      return true;\n    }\n  });\n  \n  if (found) {\n    const deleteCount = 1;\n\n    array.splice(start, deleteCount, element);\n  }\n\n  return found;\n}\n\nfunction filter(array, test) {\n  const filteredElements = [];\n  \n  backwardsForEach(array, function(element, index) {\n    const passed = test(element, index);\n\n    if (!passed) {\n      const start = index,  ///\n            deleteCount = 1,\n            deletedElements = array.splice(start, deleteCount),\n            firstDeletedElement = first(deletedElements);\n      \n      filteredElements.unshift(firstDeletedElement);  ///\n    }\n  });\n  \n  return filteredElements;\n}\n\nfunction find(array, test) {\n  const elements = [];\n\n  forwardsForEach(array, function(element, index) {\n    const passed = test(element, index);\n\n    if (passed) {\n      elements.push(element);\n    }\n  });\n\n  return elements;\n}\n\nfunction prune(array, test) {\n  let prunedElement = undefined;\n  \n  array.some(function(element, index) {\n    const passed = test(element, index);\n\n    if (passed) {\n      const start = index,  ///\n            deleteCount = 1,\n            deletedElements = array.splice(start, deleteCount),\n            firstDeletedElement = first(deletedElements);\n      \n      prunedElement = firstDeletedElement;  ///\n\n      return true;\n    }\n  });\n  \n  return prunedElement;\n}\n\nfunction patch(array, element, test) {\n  const found = array.some(function(element, index) {\n    const passed = test(element, index);\n\n    if (passed) {\n      return true;\n    }\n  });\n\n\n  if (found) {\n    array.push(element);\n  }\n\n  return found;\n}\n\nfunction augment(array1, array2, test) {\n  array2.forEach(function(element, index) {\n    const passed = test(element, index);\n\n    if (passed) {\n      array1.push(element);\n    }\n  });\n}\n\nfunction separate(array, array1, array2, test) {\n  array.forEach(function(element, index) {\n    const passed = test(element, index);\n\n    passed ?\n      array1.push(element) :\n        array2.push(element);\n  });\n}\n\nfunction forwardsSome(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = 0; index < arrayLength; index++) {\n    const element = array[index],\n          result = callback(element, index);\n    \n    if (result) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction backwardsSome(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = arrayLength - 1; index >= 0; index--) {\n    const element = array[index],\n          result = callback(element, index);\n\n    if (result) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction forwardsEvery(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = 0; index < arrayLength; index++) {\n    const element = array[index],\n          result = callback(element, index);\n\n    if (!result) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction backwardsEvery(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = arrayLength - 1; index >= 0; index--) {\n    const element = array[index],\n          result = callback(element, index);\n\n    if (!result) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction forwardsForEach(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = 0; index < arrayLength; index++) {\n    const element = array[index];\n\n    callback(element, index);\n  }\n}\n\nfunction backwardsForEach(array, callback) {\n  const arrayLength = array.length;\n\n  for (let index = arrayLength - 1; index >= 0; index--) {\n    const element = array[index];\n\n    callback(element, index);\n  }\n}\n\nmodule.exports = {\n  first: first,\n  second: second,\n  third: third,\n  fourth: fourth,\n  fifth: fifth,\n  fifthLast: fifthLast,\n  fourthLast: fourthLast,\n  thirdLast: thirdLast,\n  secondLast: secondLast,\n  last: last,\n  tail: tail,\n  push: push,\n  unshift: unshift,\n  concat: concat,\n  clear: clear,\n  copy: copy,\n  merge: merge,\n  splice: splice,\n  replace: replace,\n  filter: filter,\n  find: find,\n  prune: prune,\n  patch: patch,\n  augment: augment,\n  separate: separate,\n  forwardsSome: forwardsSome,\n  backwardsSome: backwardsSome,\n  forwardsEvery: forwardsEvery,\n  backwardsEvery: backwardsEvery,\n  forwardsForEach: forwardsForEach,\n  backwardsForEach: backwardsForEach\n};\n","'use strict';\n\nconst array = require('./array');\n\nconst { first, second, last } = array;\n\nfunction isPathRelativePath(path) {\n  const position = path.search(/^\\.{1,2}\\//),\n        pathRelativePath = (position !== -1);\n\n  return pathRelativePath;\n}\n\nfunction isPathAbsolutePath(path) {\n  const pathRelativePath = isPathRelativePath(path),\n        pathAbsolutePath = !pathRelativePath; ///\n\n  return pathAbsolutePath;\n}\n\nfunction isPathTopmostDirectoryName(path) {\n  const position = path.search(/^[^\\/]+\\/?$/),\n        pathTopmostDirectoryName = (position !== -1);\n\n  return pathTopmostDirectoryName;\n}\n\nfunction isTopmostDirectoryNameContainedInPath(topmostDirectoryName, path) {\n  topmostDirectoryName = topmostDirectoryName.replace(/\\/$/, ''); ///\n\n  const regExp = new RegExp(`^${topmostDirectoryName}(?:\\\\/.+)?$`),\n        position = path.search(regExp),\n        topmostDirectoryNameContainedInFilePath = (position !== -1);\n\n  return topmostDirectoryNameContainedInFilePath;\n}\n\nfunction combinePaths(directoryPath, relativePath) {\n  let absolutePath = null;\n\n  const directoryPathSubEntryNames = directoryPath.split('/'),\n        relativeFilePathSubEntryNames = relativePath.split('/');\n\n  let firstRelativeFilePathSubEntryName = first(relativeFilePathSubEntryNames),\n      lastDirectoryPathSubEntryName;\n\n  if (firstRelativeFilePathSubEntryName === '.') {\n    relativeFilePathSubEntryNames.shift();\n  }\n\n  firstRelativeFilePathSubEntryName = first(relativeFilePathSubEntryNames);\n  lastDirectoryPathSubEntryName = last(directoryPathSubEntryNames);\n\n  while ((firstRelativeFilePathSubEntryName === '..') && (lastDirectoryPathSubEntryName !== undefined)) {\n    relativeFilePathSubEntryNames.shift();\n    directoryPathSubEntryNames.pop();\n\n    firstRelativeFilePathSubEntryName = first(relativeFilePathSubEntryNames);\n    lastDirectoryPathSubEntryName = last(directoryPathSubEntryNames);\n  }\n\n  if (lastDirectoryPathSubEntryName !== undefined) {\n    const absoluteFilePathSubEntryNames = [].concat(directoryPathSubEntryNames).concat(relativeFilePathSubEntryNames);\n\n    absolutePath = absoluteFilePathSubEntryNames.join('/');\n  }\n\n  return absolutePath;\n}\n\nfunction concatenatePaths(path1, path2) {\n  path1 = path1.replace(/\\/$/, '');  ///\n\n  const combinedPath = `${path1}/${path2}`;\n\n  return combinedPath;\n}\n\nfunction bottommostNameFromPath(path) {\n  let bottommostName = null;\n\n  const matches = path.match(/^.+\\/([^\\/]+\\/?)$/);\n\n  if (matches !== null) {\n    const secondMatch = second(matches);\n\n    bottommostName = secondMatch;  ///\n  }\n\n  return bottommostName;\n}\n\nfunction topmostDirectoryPathFromPath(path) {\n  const matches = path.match(/^(.+)\\/[^\\/]+\\/?$/),\n        secondMatch = second(matches),\n        directoryPath = secondMatch; ///\n\n  return directoryPath;\n}\n\nfunction topmostDirectoryNameFromPath(path) {\n  let topmostDirectoryName = null;\n\n  const matches = path.match(/^([^\\/]+)\\/.+$/);\n\n  if (matches !== null) {\n    const secondMatch = second(matches);\n\n    topmostDirectoryName = secondMatch;  ///\n  }\n\n  return topmostDirectoryName;\n}\n\nfunction pathWithoutBottommostNameFromPath(path) {\n  let pathWithoutBottommostName = null;\n\n  const matches = path.match(/(^.+)\\/[^\\/]+\\/?$/);\n\n  if (matches !== null) {\n    const secondMatch = second(matches);\n\n    pathWithoutBottommostName = secondMatch; ///\n  }\n\n  return pathWithoutBottommostName;\n}\n\nfunction pathWithoutTopmostDirectoryNameFromPath(path) {\n  let pathWithoutTopmostDirectoryName = null;\n\n  const matches = path.match(/^[^\\/]+\\/(.+)$/);\n\n  if (matches !== null) {\n    const secondMatch = second(matches);\n\n    pathWithoutTopmostDirectoryName = secondMatch;\n  }\n\n  return pathWithoutTopmostDirectoryName;\n}\n\nmodule.exports = {\n  isPathRelativePath: isPathRelativePath,\n  isPathAbsolutePath: isPathAbsolutePath,\n  isPathTopmostDirectoryName: isPathTopmostDirectoryName,\n  isTopmostDirectoryNameContainedInPath: isTopmostDirectoryNameContainedInPath,\n  combinePaths: combinePaths,\n  concatenatePaths: concatenatePaths,\n  bottommostNameFromPath: bottommostNameFromPath,\n  topmostDirectoryPathFromPath: topmostDirectoryPathFromPath,\n  topmostDirectoryNameFromPath: topmostDirectoryNameFromPath,\n  pathWithoutBottommostNameFromPath: pathWithoutBottommostNameFromPath,\n  pathWithoutTopmostDirectoryNameFromPath: pathWithoutTopmostDirectoryNameFromPath\n};\n","'use strict';\n\nconst fs = require('fs');\n\nfunction doesEntryExist(absolutePath) {\n  const entryExists = fs.existsSync(absolutePath);\n\n  return entryExists;\n}\n\nfunction doesFileExist(absoluteFilePath) {\n  let fileExists = false;\n  \n  const absolutePath = absoluteFilePath, ///\n        entryExists = doesEntryExist(absolutePath);\n  \n  if (entryExists) {\n    const entryFile = isEntryFile(absolutePath);\n    \n    if (entryFile) {\n      fileExists = true;\n    }\n  }\n  \n  return fileExists;\n}\n\nfunction doesDirectoryExist(absoluteDirectoryPath) {\n  let directoryExists = false;\n\n  const absolutePath = absoluteDirectoryPath, ///\n        entryExists = doesEntryExist(absolutePath);\n\n  if (entryExists) {\n    const entryDirectory = isEntryDirectory(absolutePath);\n\n    if (entryDirectory) {\n      directoryExists = true;\n    }\n  }\n\n  return directoryExists;\n}\n\nfunction isEntryFile(absolutePath) {\n  const stat = fs.statSync(absolutePath),\n      entryDirectory = stat.isDirectory(),\n      entryFile = !entryDirectory;\n\n  return entryFile;\n}\n\nfunction isEntryDirectory(absolutePath) {\n  const stat = fs.statSync(absolutePath),\n        entryDirectory = stat.isDirectory();\n\n  return entryDirectory;\n}\n\nfunction isDirectoryEmpty(absoluteDirectoryPath) {\n  const subEntryNames = readDirectory(absoluteDirectoryPath),\n        subEntryNamesLength = subEntryNames.length,\n        directoryEmpty = (subEntryNamesLength === 0);\n\n  return directoryEmpty;\n}\n\nfunction readDirectory(absoluteDirectoryPath) {\n  const subEntryNames = fs.readdirSync(absoluteDirectoryPath);\n\n  return subEntryNames;\n}\n\nfunction readFile(absoluteFilePath, encoding = 'utf8') {\n  const options = {\n          encoding: encoding\n        },\n        content = fs.readFileSync(absoluteFilePath, options);\n\n  return content;\n}\n\nfunction writeFile(absoluteFilePath, content) {\n  fs.writeFileSync(absoluteFilePath, content);\n}\n\nfunction appendToFile(absoluteFilePath, content) {\n  fs.appendFileSync(absoluteFilePath, content);\n}\n\nfunction renameFile(oldAbsoluteFilePath, newAbsoluteFilePath) {\n  fs.renameSync(oldAbsoluteFilePath, newAbsoluteFilePath);\n}\n\nfunction getStats(absoluteFilePath) {\n  return fs.statSync(absoluteFilePath);\n}\n\nmodule.exports = {\n  doesEntryExist: doesEntryExist,\n  doesFileExist: doesFileExist,\n  doesDirectoryExist: doesDirectoryExist,\n  isEntryFile: isEntryFile,\n  isEntryDirectory: isEntryDirectory,\n  isDirectoryEmpty: isDirectoryEmpty,\n  readDirectory: readDirectory,\n  readFile: readFile,\n  writeFile: writeFile,\n  appendToFile: appendToFile,\n  renameFile: renameFile,\n  getStats: getStats\n};\n","'use strict';\n\nconst fileSystemUtilities = require('../utilities/fileSystem');\n\nconst { readFile } = fileSystemUtilities;\n\nfunction parseFile(filePath, args) {\n  const content = readFile(filePath),\n        parsedContent = parseContent(content, args);\n\n  return parsedContent;\n}\n\nfunction parseContent(content, args) {\n  const lines = content.split('\\n'),\n        parsedLines = parseLines(lines, args),\n        parsedContent = parsedLines.join('\\n');\n\n  return parsedContent;\n}\n\nfunction parseLine(line, args) {\n  const parsedLine = line.replace(/\\$\\{(.+?)\\}/g, function(match, token) {\n    const parsedToken = parseToken(token, args);\n\n    return parsedToken;\n  });\n\n  return parsedLine;\n}\n\nmodule.exports = {\n  parseFile: parseFile,\n  parseContent: parseContent,\n  parseLine: parseLine\n};\n\nfunction parseLines(lines, args) {\n  const parsedLines = lines.map(function(line) {\n    const parsedLine = parseLine(line, args);\n\n    return parsedLine;\n  });\n\n  return parsedLines;\n}\n\nfunction parseToken(token, args) {\n  let parsedToken = '';\n\n  if (args.hasOwnProperty(token)) {\n    parsedToken = args[token];\n  }\n\n  return parsedToken;\n}\n","'use strict';\r\n\r\nfunction whilst(callback, done, context) {\r\n  let count = -1;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const index = count,  ///\r\n          terminate = callback(next, done, context, index);\r\n\r\n    if (terminate) {\r\n      done();\r\n    }\r\n  }\r\n\r\n  next();\r\n}\r\n\r\nfunction forEach(array, callback, done, context) {\r\n  const length = array.length;  ///\r\n\r\n  let count = -1;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const terminate = (count === length);\r\n\r\n    if (terminate) {\r\n      done();\r\n    } else {\r\n      const index = count,  ///\r\n            element = array[index];\r\n\r\n      callback(element, next, done, context, index);\r\n    }\r\n  }\r\n\r\n  next();\r\n}\r\n\r\nfunction sequence(callbacks, done, context) {\r\n  const length = callbacks.length;  ///\r\n\r\n  let count = -1;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const terminate = (count === length);\r\n\r\n    if (terminate) {\r\n      done();\r\n    } else {\r\n      const index = count,  ///\r\n            callback = callbacks[index];\r\n\r\n      callback(next, done, context, index);\r\n    }\r\n  }\r\n\r\n  next();\r\n}\r\n\r\nfunction eventually(callbacks, done, context) {\r\n  const length = callbacks.length;  ///\r\n\r\n  let count = 0;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const terminate = (count === length);\r\n\r\n    if (terminate) {\r\n      done();\r\n    }\r\n  }\r\n\r\n  callbacks.forEach(function(callback, index) {\r\n    callback(next, done, context, index);\r\n  });\r\n}\r\n\r\nfunction repeatedly(callback, length, done, context) {\r\n  let count = 0;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const terminate = (count === length);\r\n\r\n    if (terminate) {\r\n      done();\r\n    }\r\n  }\r\n\r\n  for (let index = 0; index < length; index++) {\r\n    callback(next, done, context, index);\r\n  }\r\n}\r\n\r\nfunction forwardsForEach(array, callback, done, context) {\r\n  const length = array.length;  ///\r\n\r\n  let count = -1;\r\n\r\n  function next() {\r\n    count++;\r\n\r\n    const terminate = (count === length);\r\n\r\n    if (terminate) {\r\n      done();\r\n    } else {\r\n      const index = count,  ///\r\n            element = array[index];\r\n\r\n      callback(element, next, done, context, index);\r\n    }\r\n  }\r\n\r\n  next();\r\n}\r\n\r\nfunction backwardsForEach(array, callback, done, context) {\r\n  const length = array.length;  ///\r\n\r\n  let count = length;\r\n\r\n  function next() {\r\n    count--;\r\n\r\n    const terminate = (count === -1);\r\n\r\n    if (terminate) {\r\n      done();\r\n    } else {\r\n      const index = count,  ///\r\n            element = array[index];\r\n\r\n      callback(element, next, done, context, index);\r\n    }\r\n  }\r\n\r\n  next();\r\n}\r\n\r\nmodule.exports = {\r\n  whilst: whilst,\r\n  forEach: forEach,\r\n  sequence: sequence,\r\n  eventually: eventually,\r\n  repeatedly: repeatedly,\r\n  forwardsForEach: forwardsForEach,\r\n  backwardsForEach: backwardsForEach\r\n};\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","'use strict';\n\nconst path = require('path');\n\nconst arrayUtilities = require('../../utilities/array'),\n      fileSystemUtilities = require('../../utilities/fileSystem');\n\nconst { first, second } = arrayUtilities,\n      { readFile, writeFile } = fileSystemUtilities;\n\nlet rcBaseExtension = '';\n\nfunction rc(environmentNameOrArgv = null) {\n  let environment,\n      environmentName;\n\n  if (environmentNameOrArgv instanceof Array) {\n    const argv = environmentNameOrArgv;\n\n    environmentName = environmentNameFromArgv(argv);\n  } else {\n    environmentName = environmentNameOrArgv;\n  }\n\n  const json = readRCFile(),\n        { environments } = json;\n\n  if (environmentName === null) {\n    const firstEnvironment = first(environments);\n\n    environment = firstEnvironment; ///\n  } else {\n    environment = environments.find(function(environment) {\n      const { name } = environment,\n            found = (name === environmentName);\n\n      return found;\n    });\n  }\n\n  delete environment.name;\n\n  Object.assign(rc, environment);\n\n  return environment;\n}\n\nfunction readRCFile() {\n  const filePath = `./.${rcBaseExtension}rc`,\n        absoluteFilePath = path.resolve(filePath),\n        fileContent = readFile(absoluteFilePath),\n        json = JSON.parse(fileContent);\n\n  return json;      \n}\n\nfunction writeRCFile(json) {\n  const filePath = `./.${rcBaseExtension}rc`,\n        absoluteFilePath = path.resolve(filePath),\n        fileContent = JSON.stringify(json, null, `\\t`);\n\n  writeFile(absoluteFilePath, fileContent);\n}\n\nfunction updateRCFile(addedPropperties, ...deletedPropertyNames) {\n  let json = readRCFile();\n\n  if (addedPropperties) {\n    Object.assign(json, addedPropperties);\n  }\n\n  deletedPropertyNames.forEach(function(deletedPropertyName) {\n    delete json[deletedPropertyName];\n  });\n\n  writeRCFile(json);      \n}\n\nfunction setRCBaseExtension(baseExtension) { rcBaseExtension = baseExtension; }\n\nObject.assign(rc, {\n  readRCFile: readRCFile,\n  writeRCFile: writeRCFile,\n  updateRCFile: updateRCFile,\n  setRCBaseExtension: setRCBaseExtension\n});\n\nmodule.exports = rc;\n\nfunction environmentNameFromArgv(argv) {\n  let environmentName = null;\n\n  argv.find(function(argument) {  ///\n    const matches = argument.match(/\\-\\-environment=(.+)/),\n          found = (matches !== null);\n\n    if (found) {\n      const secondMatch = second(matches);\n\n      environmentName = secondMatch;\n    }\n\n    return found;\n  });\n\n  return environmentName;\n}\n","'use strict';\n\nconst path = require('path');\n\nconst pathUtilities = require('../../utilities/path'),\n      arrayUtilities = require('../../utilities/array'),\n      fileSystemUtilities = require('../../utilities/fileSystem');\n\nconst { second } = arrayUtilities,\n      { concatenatePaths } = pathUtilities,\n      { doesFileExist, readFile, appendToFile, renameFile, getStats } = fileSystemUtilities;\n\nconst TRACE = 'TRACE',\n      DEBUG = 'DEBUG',\n      INFO = 'INFO',\n      WARNING = 'WARNING',\n      ERROR = 'ERROR',\n      FATAL = 'FATAL';\n\nlet logLevel = WARNING,\n    logFileBaseName = 'default',\n    logDirectoryPath = null;\n\nfunction log(message, level = '') {\n  let pertinentStackMessageIndex = 2;\n\n  const levels = [\n    TRACE,\n    DEBUG,\n    INFO,\n    WARNING,\n    ERROR,\n    FATAL\n  ];\n\n  if (level) { ///\n    const levelIndex = levels.indexOf(level),\n          logLevelIndex = levels.indexOf(logLevel);\n\n    if (levelIndex < logLevelIndex) {\n      return;\n    }\n\n    pertinentStackMessageIndex += 1;\n\n    level = `${level} `;  ///\n  }\n\n  const error = new Error(),\n        { stack } = error,\n        stackMessages = stack.split(/\\r\\n|\\n/),\n        pertinentStackMessage = stackMessages[pertinentStackMessageIndex],\n        currentDateAndTimeString = getCurrentDateAndTimeString(),\n        filePath = filePathFromStackMessage(pertinentStackMessage),\n        lineNumber = lineNumberFromStackMessage(pertinentStackMessage),\n        logMessage = `${level}${currentDateAndTimeString} ${filePath}(${lineNumber}) ${message}`;\n\n  console.log(logMessage);\n\n  if (logDirectoryPath !== null) {\n    rollOverLogFile();\n\n    const logFilePath = getLogFilePath(),\n          logFileContent = `${logMessage}\\n`;\n\n    appendToFile(logFilePath, logFileContent);\n  }\n\n  return logMessage;\n}\n\nfunction trace(message) { return log(message, TRACE); }\n\nfunction debug(message) { return log(message, DEBUG); }\n\nfunction info(message) { return log(message, INFO); }\n\nfunction warning(message) { return log(message, WARNING); }\n\nfunction error(message) { return log(message, ERROR); }\n\nfunction fatal(message) { return log(message, FATAL); }\n\nfunction setLogLevel(level) { logLevel = level; }\n\nfunction setLogFileBaseName(fileBaseName) { logFileBaseName = fileBaseName; }\n\nfunction setLogDirectoryPath(directoryPath) { logDirectoryPath = directoryPath; }\n\nfunction getLogFileContent() {\n  const logFilePath = getLogFilePath(),\n        logFileContent = readFile(logFilePath);\n\n  return logFileContent;\n}\n\nObject.assign(log, {\n  TRACE: TRACE,\n  DEBUG: DEBUG,\n  INFO: INFO,\n  WARNING: WARNING,\n  ERROR: ERROR,\n  FATAL: FATAL,\n  trace: trace,\n  debug: debug,\n  info: info,\n  warning: warning,\n  error: error,\n  fatal: fatal,\n  setLogLevel: setLogLevel,\n  setLogFileBaseName: setLogFileBaseName,\n  setLogDirectoryPath: setLogDirectoryPath,\n  getLogFileContent: getLogFileContent\n});\n\nmodule.exports = log;\n\nfunction getLogFilePath() {\n  const logFileName = `${logFileBaseName}.log`,\n        logFilePath = concatenatePaths(logDirectoryPath, logFileName);\n\n  return logFilePath;\n}\n\nfunction getRolledOverLogFilePath() {\n  const currentDateString = getCurrentDateString(),\n        rolledOverLogFileName = `${logFileBaseName}.${currentDateString}.log`,\n        rolledOverLogFilePath = concatenatePaths(logDirectoryPath, rolledOverLogFileName);\n\n  return rolledOverLogFilePath;\n}\n\nfunction getLogFileLastModifiedDate() {\n  const logFilePath = getLogFilePath(),\n        logFileStats = getStats(logFilePath),\n        { mtime } = logFileStats,\n        logFileLastModifiedDate = new Date(mtime);  ///\n\n  return logFileLastModifiedDate;\n}\n\nfunction rollOverLogFile() {\n  const logFilePath = getLogFilePath(),\n        logFileExists = doesFileExist(logFilePath);\n\n  if (!logFileExists) {\n    return;\n  }\n\n  const logFileLastModifiedDate = getLogFileLastModifiedDate(),\n        logFileLastModifiedDateCurrentDate = isDateCurrentDate(logFileLastModifiedDate);\n\n  if (!logFileLastModifiedDateCurrentDate) {\n    const rolledOverLogFilePath = getRolledOverLogFilePath();\n\n    renameFile(logFilePath, rolledOverLogFilePath);\n  }\n}\n\nfunction isDateCurrentDate(date) {\n  const currentDate = new Date(),\n        dateString = date.toDateString(),\n        currentDateString = currentDate.toDateString(),\n        dateCurrentDate = (dateString === currentDateString);\n\n  return dateCurrentDate;\n}\n\nfunction getCurrentDateString() {\n  const date = new Date(),\n        day = padStartWithZeroes(date.getDate(), 2),  ///\n        month = padStartWithZeroes(date.getMonth() + 1, 2), ///\n        year = date.getFullYear(),\n        currentDateAndTimeString = `${day}-${month}-${year}`;\n\n  return currentDateAndTimeString;\n}\n\nfunction getCurrentDateAndTimeString() {\n  const date = new Date(),\n        day = padStartWithZeroes(date.getDate(), 2),  ///\n        month = padStartWithZeroes(date.getMonth() + 1, 2), ///\n        year = date.getFullYear(),\n        hours = padStartWithZeroes(date.getHours(), 2),\n        minutes = padStartWithZeroes(date.getMinutes(), 2),\n        seconds = padStartWithZeroes(date.getSeconds(), 2),\n        milliseconds = padStartWithZeroes(date.getMilliseconds(), 3),\n        currentDateAndTimeString = `${day}-${month}-${year} ${hours}:${minutes}:${seconds}.${milliseconds}`;\n\n  return currentDateAndTimeString;\n}\n\nfunction filePathFromStackMessage(stackMessage) {\n  const matches = stackMessage.match(/(\\/.+)\\:\\d+\\:\\d+/),\n        secondMatch = second(matches),\n        absoluteFilePath = secondMatch,  ///\n        currentWorkingDirectoryPath = path.resolve('.'),  ///\n        currentWorkingDirectoryPathLength = currentWorkingDirectoryPath.length,\n        start = currentWorkingDirectoryPathLength + 1,  ///\n        filePath = absoluteFilePath.substr(start);\n\n  return filePath;\n}\n\nfunction lineNumberFromStackMessage(stackMessage) {\n  const matches = stackMessage.match(/\\:(\\d+)/),\n        secondMatch = second(matches),\n        lineNumber = secondMatch; ///\n\n  return lineNumber;\n}\n\nfunction padStartWithZeroes(string, targetLength) {\n  const padString = '0',\n        paddedString = padStart(string, targetLength, padString);\n\n  return paddedString;\n}\n\nfunction padStart(string, targetLength, padString) {\n  let padding = '';\n\n  for (let index = 0; index < targetLength; index++) {\n    padding += padString;\n  }\n\n  const paddedString = `${padding}${string}`.substr(-targetLength);\n\n  return paddedString;\n}\n\n","'use strict';\n\nconst GET_METHOD = 'GET',\n      POST_METHOD = 'POST';\n\nfunction get(host, uri, parameters, callback) {\n  if (callback === undefined) {\n    callback = parameters; ///\n    parameters = {};\n  }\n\n  const method = GET_METHOD,\n        body = undefined;\n\n  request(host, uri, parameters, method, body, callback);\n}\n\nfunction post(host, uri, json, parameters, callback) {\n  if (callback === undefined) {\n    callback = parameters; ///\n    parameters = {};\n  }\n\n  const method = POST_METHOD,\n        body = JSON.stringify(json);\n\n  request(host, uri, parameters, method, body, callback);\n}\n\nmodule.exports = {\n  get: get,\n  post: post\n};\n\nfunction request(host, uri, parameters, method, body, callback) {\n  const url = urlFromHostURIAndParameters(host, uri, parameters),\n        xmlHttpRequest = new XMLHttpRequest();\n\n  xmlHttpRequest.onreadystatechange = function() {\n    const { readyState, status, responseText } = xmlHttpRequest;\n\n    if (readyState == 4) {\n      if (status == 200) {\n        const jsonString = responseText, ///\n              json = JSON.parse(jsonString);\n\n        callback(json);\n      } else {\n        callback(null);\n      }\n    }\n  };\n\n  xmlHttpRequest.open(method, url, true);\n\n  xmlHttpRequest.send(body);\n}\n\nfunction urlFromHostURIAndParameters(host, uri, parameters) {\n  const queryString = queryStringFromParameters(parameters),\n        url = (queryString === '') ?\n                `${host}/${uri}` :\n                  `${host}/${uri}?${queryString}`;\n\n  return url;\n}\n\nfunction queryStringFromParameters(parameters) {\n  const names = Object.keys(parameters),\n        namesLength = names.length,\n        lastIndex = namesLength - 1,\n        queryString = names.reduce(function(queryString, name, index) {\n          const value = parameters[name],\n                encodedName = encodeURIComponent(name),\n                encodedValue = encodeURIComponent(value),\n                ampersandOrNothing = (index !== lastIndex) ? '&' : '';\n  \n          queryString += `${encodedName}=${encodedValue}${ampersandOrNothing}`;\n  \n          return queryString;\n        }, '');\n\n  return queryString;\n}\n","'use strict';\n\nconst ETX_CHARACTER = '\\u0003';\n\nfunction onETX(handler) {\n  const { stdin } = process,\n        { setRawMode } = stdin;\n\n  if (setRawMode) {\n    const rawMode = true,\n          encoding = 'utf8';\n\n    stdin.setRawMode(rawMode);\n    stdin.setEncoding(encoding);\n\n    stdin.resume();\n\n    stdin.addListener('data', dataHandler);\n\n    return offExt;\n  }\n\n  function offExt() {\n    stdin.removeListener('data', dataHandler);\n  }\n\n  function dataHandler(character) {\n    if (character === ETX_CHARACTER) {\n      handler();\n    }\n  }\n}\n\nmodule.exports = onETX;\n","'use strict';\n\nconst onETX = require('./onETX'),\n      asynchronousUtilities = require('../../utilities/asynchronous');\n\nconst { stdin, stdout } = process,\n      { whilst } = asynchronousUtilities,\n      { exit } = process;\n\nconst BACKSPACE_CHARACTER = String.fromCharCode(127),\n      LINE_FEED_CHARACTER = '\\n',\n      CARRIAGE_RETURN_CHARACTER = '\\r';\n\nfunction prompt(options, callback) {\n  const value = null,\n        { attempts = 3 } = options,\n        context = {\n          value: value,\n          attempts: attempts,\n          options: options\n        };\n\n  whilst(attempt, function() {\n    const { value } = context;\n    \n    callback(value);\n  }, context);\n}\n\nmodule.exports = prompt;\n\nfunction attempt(next, done, context) {\n  let { attempts } = context;\n\n  const terminate = (attempts-- === 0);\n  \n  if (terminate) {\n    done();\n    \n    return;\n  }\n\n  const { options } = context,\n        { description,\n          errorMessage,\n          validationPattern,\n          validationFunction,\n          encoding = 'utf8',\n          hidden = false } = options;\n\n  hidden ? \n    hiddenInput(description, encoding, callback) :\n      visibleInput(description, encoding, callback);\n\n  function callback(value) {\n    const valid = validationFunction ?  ///\n                    validationFunction(value) :\n                      validationPattern.test(value);\n\n    if (valid) {\n      Object.assign(context, {\n        value: value\n      });\n\n      done();\n    } else {\n      console.log(errorMessage);\n\n      Object.assign(context, {\n        attempts: attempts\n      });\n\n      next();\n    }\n  }\n}\n\nfunction visibleInput(description, encoding, callback) {\n  const rawMode = false;\n\n  stdout.write(description);\n\n  stdin.setEncoding(encoding);\n\n  stdin.setRawMode(rawMode);\n\n  stdin.resume();\n\n  let value;\n\n  const listener = function(chunk) {\n    value = chunk.trim();\n\n    stdin.removeListener('data', listener);\n\n    stdin.pause();\n\n    callback(value);\n  };\n\n  stdin.on('data', listener);\n}\n\nfunction hiddenInput(description, encoding, callback) {\n  const rawMode = true,\n        offETX = onETX(function() {\n          console.log('^C');\n\n          exit();\n        });\n\n  stdout.write(description);\n\n  stdin.setEncoding(encoding);\n\n  stdin.setRawMode(rawMode);\n\n  stdin.resume();\n\n  let value = '';\n\n  const listener = function(chunk) {\n    const character = chunk.toString(encoding);\n\n    switch (character) {\n      case LINE_FEED_CHARACTER :\n      case CARRIAGE_RETURN_CHARACTER :\n        stdout.write(LINE_FEED_CHARACTER);\n\n        stdin.removeListener('data', listener);\n\n        stdin.pause();\n\n        offETX();\n\n        callback(value);\n        break;\n\n      case BACKSPACE_CHARACTER :\n        value = truncate(value);\n\n        stdout.clearLine();\n\n        stdout.cursorTo(0);\n\n        stdout.write(description);\n        break;\n\n      default:\n        value += character;\n        break;\n    }\n  };\n\n  stdin.on('data', listener);\n}\n\nfunction truncate(value) { return value.slice(0, value.length - 1); }\n","'use strict';\n\nconst rc = require('./miscellaneous/rc'),\n      log = require('./miscellaneous/log'),\n      ajax = require('./miscellaneous/ajax'),\n      onETX = require('./miscellaneous/onETX'),\n      prompt = require('./miscellaneous/prompt');\n\nconst { get, post } = ajax;\n\nmodule.exports = {\n  log: log,\n  rc: rc,\n  get: get,\n  post: post,\n  onETX: onETX,\n  prompt: prompt\n};\n","'use strict';\n\nmodule.exports = {\n  pathUtilities: require('./lib/utilities/path'),\n  arrayUtilities: require('./lib/utilities/array'),\n  templateUtilities: require('./lib/utilities/template'),\n  fileSystemUtilities: require('./lib/utilities/fileSystem'),\n  asynchronousUtilities: require('./lib/utilities/asynchronous'),\n  miscellaneousUtilities: require('./lib/utilities/miscellaneous')\n};\n","'use strict';\n\nconst necessary = require('necessary');\n\nconst { arrayUtilities } = necessary;\n\nfunction permute(array, places) {\n  const length = array.length,\n        cut = length - places,\n        leadingElements = array.slice(0, cut),\n        trailingElements = array.slice(cut);\n\n  array = [ ...trailingElements, ...leadingElements ];\n\n  return array;\n}\n\nfunction flatten(arrays) {\n  return arrays.reduce((elements, array) => elements.concat(array), []);\n}\n\nfunction guarantee(arrayOrElement) {\n  arrayOrElement = arrayOrElement || [];\n\n  return (arrayOrElement instanceof Array) ?\n           arrayOrElement :\n            [arrayOrElement];\n}\n\nmodule.exports = Object.assign(arrayUtilities, {\n  permute,\n  flatten,\n  guarantee\n});\n","'use strict';\n\nfunction zero2() {\n  return ([\n\n    0,\n    0,\n\n  ]);\n}\n\nfunction zero3() {\n  return ([\n\n    0,\n    0,\n    0,\n\n  ]);\n}\n\nfunction zero4() {\n  return ([\n\n    0,\n    0,\n    0,\n    0,\n\n  ]);\n}\n\nfunction length2(vector) {\n  const x = vector[0],\n        y = vector[1];\n\n  return Math.sqrt(x*x + y*y);\n}\n\nfunction length3(vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2];\n\n  return Math.sqrt(x*x + y*y + z*z);\n}\n\nfunction length4(vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2],\n        w = vector[3];\n\n  return Math.sqrt(x*x + y*y + z*z + w*w);\n}\n\nfunction dot2(vectorA, vectorB) { return (vectorA[0] * vectorB[0] + vectorA[1] * vectorB[1]); }\n\nfunction dot3(vectorA, vectorB) { return (vectorA[0] * vectorB[0] + vectorA[1] * vectorB[1] + vectorA[2] * vectorB[2]); }\n\nfunction dot4(vectorA, vectorB) { return (vectorA[0] * vectorB[0] + vectorA[1] * vectorB[1] + vectorA[2] * vectorB[2] + vectorA[3] * vectorB[3]); }\n\nfunction cross3(vectorA, vectorB) {\n  const ax = vectorA[0], ay = vectorA[1], az = vectorA[2],\n        bx = vectorB[0], by = vectorB[1], bz = vectorB[2];\n\n  return ([\n\n    ay * bz - az * by,\n    az * bx - ax * bz,\n    ax * by - ay * bx,\n\n  ])\n}\n\nfunction normalise2(vector) {\n  const x = vector[0],\n        y = vector[1],\n        length = Math.sqrt(x*x + y*y);\n\n  if (length > 0) {\n    return ([\n\n      x / length,\n      y / length,\n\n    ]);\n  }\n}\n\nfunction normalise3(vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2],\n        length = Math.sqrt(x*x + y*y + z*z);\n\n  if (length > 0) {\n    return ([\n\n      x / length,\n      y / length,\n      z / length,\n\n    ]);\n  }\n}\n\nfunction normalise4(vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2],\n        w = vector[3],\n        length = Math.sqrt(x*x + y*y + z*z + w*w);\n\n  if (length > 0) {\n    return ([\n\n      x / length,\n      y / length,\n      z / length,\n      w / length,\n\n    ]);\n  }\n}\n\nfunction reflect2(vector) {\n  return ([\n\n    vector[0] * -1,\n    vector[1] * -1,\n\n  ]);\n}\n\nfunction reflect3(vector) {\n  return ([\n\n    vector[0] * -1,\n    vector[1] * -1,\n    vector[2] * -1,\n\n  ]);\n}\n\nfunction reflect4(vector) {\n  return ([\n\n    vector[0] * -1,\n    vector[1] * -1,\n    vector[2] * -1,\n    vector[3] * -1,\n\n  ]);\n}\n\nfunction scale2(vector, scalar) {\n  return ([\n\n    vector[0] * scalar,\n    vector[1] * scalar,\n\n  ]);\n}\n\nfunction scale3(vector, scalar) {\n  return ([\n\n    vector[0] * scalar,\n    vector[1] * scalar,\n    vector[2] * scalar,\n\n  ]);\n}\n\nfunction scale4(vector, scalar) {\n  return ([\n\n    vector[0] * scalar,\n    vector[1] * scalar,\n    vector[2] * scalar,\n    vector[3] * scalar,\n\n  ]);\n}\n\nfunction add2(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] + vectorB[0],\n    vectorA[1] + vectorB[1],\n\n  ]);\n}\n\nfunction add3(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] + vectorB[0],\n    vectorA[1] + vectorB[1],\n    vectorA[2] + vectorB[2],\n\n  ]);\n}\n\nfunction add4(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] + vectorB[0],\n    vectorA[1] + vectorB[1],\n    vectorA[2] + vectorB[2],\n    vectorA[3] + vectorB[3],\n\n  ]);\n}\n\nfunction subtract2(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] - vectorB[0],\n    vectorA[1] - vectorB[1],\n\n  ]);\n}\n\nfunction subtract3(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] - vectorB[0],\n    vectorA[1] - vectorB[1],\n    vectorA[2] - vectorB[2],\n\n  ]);\n}\n\nfunction subtract4(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] - vectorB[0],\n    vectorA[1] - vectorB[1],\n    vectorA[2] - vectorB[2],\n    vectorA[3] - vectorB[3],\n\n  ]);\n}\n\nfunction multiply2(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] * vectorB[0],\n    vectorA[1] * vectorB[1],\n\n  ]);\n}\n\nfunction multiply3(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] * vectorB[0],\n    vectorA[1] * vectorB[1],\n    vectorA[2] * vectorB[2],\n\n  ]);\n}\n\nfunction multiply4(vectorA, vectorB) {\n  return ([\n\n    vectorA[0] * vectorB[0],\n    vectorA[1] * vectorB[1],\n    vectorA[2] * vectorB[2],\n    vectorA[3] * vectorB[3],\n\n  ]);\n}\n\nfunction transform2(vector, matrix) {\n  const x = vector[0],\n        y = vector[1];\n\n  return ([\n\n    matrix[0] * x + matrix[2] * y,\n    matrix[1] * x + matrix[3] * y,\n\n  ]);\n}\n\nfunction transform3(vector, matrix) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2];\n\n  return ([\n\n    matrix[0] * x + matrix[3] * y + matrix[6] * z,\n    matrix[1] * x + matrix[4] * y + matrix[7] * z,\n    matrix[2] * x + matrix[5] * y + matrix[8] * z,\n\n  ]);\n}\n\nfunction transform4(vector, matrix) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2],\n        w = vector[3];\n\n  return ([\n\n    matrix[ 0] * x + matrix[ 4] * y + matrix[ 8] * z + matrix[12] * w,\n    matrix[ 1] * x + matrix[ 5] * y + matrix[ 9] * z + matrix[13] * w,\n    matrix[ 2] * x + matrix[ 6] * y + matrix[10] * z + matrix[14] * w,\n    matrix[ 3] * x + matrix[ 7] * y + matrix[11] * z + matrix[15] * w,\n\n  ]);\n}\n\nmodule.exports = {\n  zero2,\n  zero3,\n  zero4,\n  length2,\n  length3,\n  length4,\n  dot2,\n  dot3,\n  dot4,\n  cross3,\n  normalise2,\n  normalise3,\n  normalise4,\n  reflect2,\n  reflect3,\n  reflect4,\n  scale2,\n  scale3,\n  scale4,\n  add2,\n  add3,\n  add4,\n  subtract2,\n  subtract3,\n  subtract4,\n  multiply2,\n  multiply3,\n  multiply4,\n  transform2,\n  transform3,\n  transform4\n};\n","'use strict';\n\nfunction identity2() {\n  return ([\n\n    1, 0,\n    0, 1,\n\n  ]);\n}\n\nfunction identity3() {\n  return ([\n\n    1, 0, 0,\n    0, 1, 0,\n    0, 0, 1,\n\n  ]);\n}\n\nfunction identity4() {\n  return ([\n\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n\n  ]);\n}\n\nfunction multiply2(matrixA, matrixB) {\n  const a0 = matrixA[0],\n        a1 = matrixA[1],\n        a2 = matrixA[2],\n        a3 = matrixA[3],\n\n        b0 = matrixB[0],\n        b1 = matrixB[1],\n        b2 = matrixB[2],\n        b3 = matrixB[3];\n\n  return ([\n\n    a0 * b0 + a2 * b1,\n    a1 * b0 + a3 * b1,\n\n    a0 * b2 + a2 * b3,\n    a1 * b2 + a3 * b3,\n\n  ]);\n}\n\nfunction multiply3(matrixA, matrixB) {\n  const a0 = matrixA[0],\n        a1 = matrixA[1],\n        a2 = matrixA[2],\n        a3 = matrixA[3],\n        a4 = matrixA[4],\n        a5 = matrixA[5],\n        a6 = matrixA[6],\n        a7 = matrixA[7],\n        a8 = matrixA[8],\n\n        b0 = matrixB[0],\n        b1 = matrixB[1],\n        b2 = matrixB[2],\n        b3 = matrixB[3],\n        b4 = matrixB[4],\n        b5 = matrixB[5],\n        b6 = matrixB[6],\n        b7 = matrixB[7],\n        b8 = matrixB[8];\n\n  return ([\n\n    a0 * b0 + a3 * b1 + a6 * b2,\n    a1 * b0 + a4 * b1 + a7 * b2,\n    a2 * b0 + a5 * b1 + a8 * b2,\n\n    a0 * b3 + a3 * b4 + a6 * b5,\n    a1 * b3 + a4 * b4 + a7 * b5,\n    a2 * b3 + a5 * b4 + a8 * b5,\n\n    a0 * b6 + a3 * b7 + a6 * b8,\n    a1 * b6 + a4 * b7 + a7 * b8,\n    a2 * b6 + a5 * b7 + a8 * b8,\n\n  ]);\n}\n\nfunction multiply4(matrixA, matrixB) {\n  const  a0 = matrixA[ 0],\n         a1 = matrixA[ 1],\n         a2 = matrixA[ 2],\n         a3 = matrixA[ 3],\n         a4 = matrixA[ 4],\n         a5 = matrixA[ 5],\n         a6 = matrixA[ 6],\n         a7 = matrixA[ 7],\n         a8 = matrixA[ 8],\n         a9 = matrixA[ 9],\n        a10 = matrixA[10],\n        a11 = matrixA[11],\n        a12 = matrixA[12],\n        a13 = matrixA[13],\n        a14 = matrixA[14],\n        a15 = matrixA[15],\n\n         b0 = matrixB[ 0],\n         b1 = matrixB[ 1],\n         b2 = matrixB[ 2],\n         b3 = matrixB[ 3],\n         b4 = matrixB[ 4],\n         b5 = matrixB[ 5],\n         b6 = matrixB[ 6],\n         b7 = matrixB[ 7],\n         b8 = matrixB[ 8],\n         b9 = matrixB[ 9],\n        b10 = matrixB[10],\n        b11 = matrixB[11],\n        b12 = matrixB[12],\n        b13 = matrixB[13],\n        b14 = matrixB[14],\n        b15 = matrixB[15];\n\n  return ([\n\n    a0 *  b0 +  a4 *  b1 +  a8 *  b2 + a12 *  b3,\n    a1 *  b0 +  a5 *  b1 +  a9 *  b2 + a13 *  b3,\n    a2 *  b0 +  a6 *  b1 + a10 *  b2 + a14 *  b3,\n    a3 *  b0 +  a7 *  b1 + a11 *  b2 + a15 *  b3,\n\n    a0 *  b4 +  a4 *  b5 +  a8 *  b6 + a12 *  b7,\n    a1 *  b4 +  a5 *  b5 +  a9 *  b6 + a13 *  b7,\n    a2 *  b4 +  a6 *  b5 + a10 *  b6 + a14 *  b7,\n    a3 *  b4 +  a7 *  b5 + a11 *  b6 + a15 *  b7,\n\n    a0 *  b8 +  a4 *  b9 +  a8 * b10 + a12 * b11,\n    a1 *  b8 +  a5 *  b9 +  a9 * b10 + a13 * b11,\n    a2 *  b8 +  a6 *  b9 + a10 * b10 + a14 * b11,\n    a3 *  b8 +  a7 *  b9 + a11 * b10 + a15 * b11,\n\n    a0 * b12 +  a4 * b13 +  a8 * b14 + a12 * b15,\n    a1 * b12 +  a5 * b13 +  a9 * b14 + a13 * b15,\n    a2 * b12 +  a6 * b13 + a10 * b14 + a14 * b15,\n    a3 * b12 +  a7 * b13 + a11 * b14 + a15 * b15,\n\n  ]);\n}\n\nfunction invert2(matrix) {\n  const m0 = matrix[0],\n        m1 = matrix[1],\n        m2 = matrix[2],\n        m3 = matrix[3],\n\n        determinant = m0 * m3 - m2 * m1;\n\n  if (determinant !== 0) {\n    return ([\n\n      +m3 / determinant, -m1 / determinant,\n      -m2 / determinant, +m0 / determinant,\n\n    ]);\n  }\n}\n\nfunction invert3(matrix) {\n  const m00 = matrix[0], m01 = matrix[1], m02 = matrix[2],\n        m10 = matrix[3], m11 = matrix[4], m12 = matrix[5],\n        m20 = matrix[6], m21 = matrix[7], m22 = matrix[8],\n\n        b01 =  m22 * m11 - m12 * m21,\n        b11 = -m22 * m10 + m12 * m20,\n        b21 =  m21 * m10 - m11 * m20,\n\n        determinant = m00 * b01 + m01 * b11 + m02 * b21;\n\n  if (determinant !== 0) {\n    return ([\n\n      b01 / determinant, (-m22 * m01 + m02 * m21) / determinant, ( m12 * m01 - m02 * m11) / determinant,\n      b11 / determinant, ( m22 * m00 - m02 * m20) / determinant, (-m12 * m00 + m02 * m10) / determinant,\n      b21 / determinant, (-m21 * m00 + m01 * m20) / determinant, ( m11 * m00 - m01 * m10) / determinant,\n\n    ]);\n  }\n}\n\nfunction invert4(matrix) {\n  const m00 = matrix[ 0], m01 = matrix[ 1], m02 = matrix[ 2], m03 = matrix[ 3],\n        m10 = matrix[ 4], m11 = matrix[ 5], m12 = matrix[ 6], m13 = matrix[ 7],\n        m20 = matrix[ 8], m21 = matrix[ 9], m22 = matrix[10], m23 = matrix[11],\n        m30 = matrix[12], m31 = matrix[13], m32 = matrix[14], m33 = matrix[15],\n\n        b00 = m00 * m11 - m01 * m10,\n        b01 = m00 * m12 - m02 * m10,\n        b02 = m00 * m13 - m03 * m10,\n        b03 = m01 * m12 - m02 * m11,\n        b04 = m01 * m13 - m03 * m11,\n        b05 = m02 * m13 - m03 * m12,\n        b06 = m20 * m31 - m21 * m30,\n        b07 = m20 * m32 - m22 * m30,\n        b08 = m20 * m33 - m23 * m30,\n        b09 = m21 * m32 - m22 * m31,\n        b10 = m21 * m33 - m23 * m31,\n        b11 = m22 * m33 - m23 * m32,\n\n        determinant = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (determinant !== 0) {\n    return ([\n\n      (m11 * b11 - m12 * b10 + m13 * b09) / determinant, (m02 * b10 - m01 * b11 - m03 * b09) / determinant, (m31 * b05 - m32 * b04 + m33 * b03) / determinant, (m22 * b04 - m21 * b05 - m23 * b03) / determinant,\n      (m12 * b08 - m10 * b11 - m13 * b07) / determinant, (m00 * b11 - m02 * b08 + m03 * b07) / determinant, (m32 * b02 - m30 * b05 - m33 * b01) / determinant, (m20 * b05 - m22 * b02 + m23 * b01) / determinant,\n      (m10 * b10 - m11 * b08 + m13 * b06) / determinant, (m01 * b08 - m00 * b10 - m03 * b06) / determinant, (m30 * b04 - m31 * b02 + m33 * b00) / determinant, (m21 * b02 - m20 * b04 - m23 * b00) / determinant,\n      (m11 * b07 - m10 * b09 - m12 * b06) / determinant, (m00 * b09 - m01 * b07 + m02 * b06) / determinant, (m31 * b01 - m30 * b03 - m32 * b00) / determinant, (m20 * b03 - m21 * b01 + m22 * b00) / determinant,\n\n    ]);\n  }\n}\n\nfunction transpose2(matrix) {\n  return ([\n\n    matrix[0], matrix[2],\n    matrix[1], matrix[3],\n\n  ]);\n}\n\nfunction transpose3(matrix) {\n  return ([\n\n    matrix[0], matrix[3], matrix[6],\n    matrix[1], matrix[4], matrix[7],\n    matrix[2], matrix[5], matrix[8],\n\n  ]);\n}\n\nfunction transpose4(matrix) {\n  return ([\n\n    matrix[ 0], matrix[ 4], matrix[ 8], matrix[12],\n    matrix[ 1], matrix[ 5], matrix[ 9], matrix[13],\n    matrix[ 2], matrix[ 6], matrix[10], matrix[14],\n    matrix[ 3], matrix[ 7], matrix[11], matrix[15],\n\n  ]);\n}\n\nfunction scale4(matrix, vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2];\n\n  return ([\n\n    matrix[ 0] * x, matrix[ 1] * x, matrix[ 2] * x, matrix[ 3] * x,\n    matrix[ 4] * y, matrix[ 5] * y, matrix[ 6] * y, matrix[ 7] * y,\n    matrix[ 8] * z, matrix[ 9] * z, matrix[10] * z, matrix[11] * z,\n    matrix[12] * 1, matrix[13] * 1, matrix[14] * 1, matrix[15] * 1,\n\n  ]);\n}\n\nfunction rotate4(matrix, angle, vector) {\n  let x = vector[0],\n      y = vector[1],\n      z = vector[2];\n\n  const length = Math.sqrt(x * x + y * y + z * z);\n\n  if (length !== 0) {\n    x /= length;\n    y /= length;\n    z /= length;\n\n    const s = Math.sin(angle),\n          c = Math.cos(angle),\n          t = 1 - c,\n\n          m00 = matrix[ 0],\n          m01 = matrix[ 1],\n          m02 = matrix[ 2],\n          m03 = matrix[ 3],\n          m10 = matrix[ 4],\n          m11 = matrix[ 5],\n          m12 = matrix[ 6],\n          m13 = matrix[ 7],\n          m20 = matrix[ 8],\n          m21 = matrix[ 9],\n          m22 = matrix[10],\n          m23 = matrix[11],\n\n          b00 = x * x * t + c,\n          b01 = y * x * t + z * s,\n          b02 = z * x * t - y * s,\n          b10 = x * y * t - z * s,\n          b11 = y * y * t + c,\n          b12 = z * y * t + x * s,\n          b20 = x * z * t + y * s,\n          b21 = y * z * t - x * s,\n          b22 = z * z * t + c;\n\n    return ([\n\n      m00 * b00 + m10 * b01 + m20 * b02, m01 * b00 + m11 * b01 + m21 * b02, m02 * b00 + m12 * b01 + m22 * b02, m03 * b00 + m13 * b01 + m23 * b02,\n      m00 * b10 + m10 * b11 + m20 * b12, m01 * b10 + m11 * b11 + m21 * b12, m02 * b10 + m12 * b11 + m22 * b12, m03 * b10 + m13 * b11 + m23 * b12,\n      m00 * b20 + m10 * b21 + m20 * b22, m01 * b20 + m11 * b21 + m21 * b22, m02 * b20 + m12 * b21 + m22 * b22, m03 * b20 + m13 * b21 + m23 * b22,\n                             matrix[12],                        matrix[13],                        matrix[14],                        matrix[15],\n\n    ]);\n  }\n}\n\nfunction translate4(matrix, vector) {\n  const x = vector[0],\n        y = vector[1],\n        z = vector[2],\n\n        m00 = matrix[ 0],\n        m01 = matrix[ 1],\n        m02 = matrix[ 2],\n        m03 = matrix[ 3],\n        m10 = matrix[ 4],\n        m11 = matrix[ 5],\n        m12 = matrix[ 6],\n        m13 = matrix[ 7],\n        m20 = matrix[ 8],\n        m21 = matrix[ 9],\n        m22 = matrix[10],\n        m23 = matrix[11];\n\n  return ([\n\n                                         m00,                                      m01,                                      m02,                                      m03,\n                                         m10,                                      m11,                                      m12,                                      m13,\n                                         m20,                                      m21,                                      m22,                                      m23,\n    m00 * x + m10 * y + m20 * z + matrix[12], m01 * x + m11 * y + m21 * z + matrix[13], m02 * x + m12 * y + m22 * z + matrix[14], m03 * x + m13 * y + m23 * z + matrix[15],\n\n  ]);\n}\n\nfunction perspective4(fieldOfView, aspectRatio, zNear, zFar) {\n  const f = 1.0 / Math.tan(fieldOfView / 2),\n        nf = 1 / (zNear - zFar);\n\n  return ([\n\n    f / aspectRatio, 0, 0,                       0,\n    0,               f, 0,                       0,\n    0,               0, (zFar + zNear) * nf,    -1,\n    0,               0, (2 * zFar * zNear) * nf, 0,\n\n  ]);\n}\n\nmodule.exports = {\n  identity2,\n  identity3,\n  identity4,\n  multiply2,\n  multiply3,\n  multiply4,\n  invert2,\n  invert3,\n  invert4,\n  scale4,\n  rotate4,\n  transpose2,\n  transpose3,\n  transpose4,\n  translate4,\n  perspective4\n};\n","'use strict';\n\nconst Z_FAR = 1000,\n      Z_NEAR = 1,\n      MOUSE_UP = 'MOUSE_UP',\n      MOUSE_DOWN = 'MOUSE_DOWN',\n      MOUSE_MOVE = 'MOUSE_MOVE',\n      MOUSE_WHEEL = 'MOUSE_WHEEL',\n      DELTA_SCALAR = 1.25,\n      INVERT_SCALAR = -1,\n      ANGLES_SCALAR = 0.01,\n      OFFSET_SCALAR = 0.25,\n      SHIFT_KEY_CODE = 16,\n      VERTICES_LENGTH = 3,\n      MINIMUM_DISTANCE = 1,\n      DEFAULT_MARGIN_OF_ERROR = 0.0000001,\n      DEGREES_TO_RADIANS_SCALAR = Math.PI / 180,\n      FIELD_OF_VIEW = 45 * DEGREES_TO_RADIANS_SCALAR;\n\nmodule.exports = {\n  Z_FAR,\n  Z_NEAR,\n  MOUSE_UP,\n  MOUSE_DOWN,\n  MOUSE_MOVE,\n  MOUSE_WHEEL,\n  DELTA_SCALAR,\n  INVERT_SCALAR,\n  ANGLES_SCALAR,\n  OFFSET_SCALAR,\n  SHIFT_KEY_CODE,\n  VERTICES_LENGTH,\n  MINIMUM_DISTANCE,\n  DEFAULT_MARGIN_OF_ERROR,\n  DEGREES_TO_RADIANS_SCALAR,\n  FIELD_OF_VIEW\n};\n","'use strict';\n\nconst vectorMaths = require('../maths/vector'),\n      matrixMaths = require('../maths/matrix'),\n      matrixUtilities = require('../utilities/matrix');\n\nconst { multiply4 } = matrixMaths,\n      { transform4 } = vectorMaths,\n      { scaleMatrixFromScale, positionMatrixFromPosition, rotationsMatrixFromRotations } = matrixUtilities;\n\nfunction composeTransform(scale, rotations, position) {\n  let matrix = null;\n\n  if (scale !== null) {\n    const scaleMatrix = scaleMatrixFromScale(scale);\n\n    matrix = (matrix === null) ?\n               scaleMatrix :\n                 multiply4(scaleMatrix, matrix);\n  }\n\n  if (rotations !== null) {\n    const rotationsMatrix = rotationsMatrixFromRotations(rotations);\n\n    matrix = (matrix === null) ?\n               rotationsMatrix :\n                 multiply4(rotationsMatrix, matrix);\n\n  }\n\n  if (position !== null) {\n    const positionMatrix = positionMatrixFromPosition(position);\n\n    matrix = (matrix === null) ?\n                positionMatrix :\n                  multiply4(positionMatrix, matrix);\n  }\n\n  const transform = (matrix === null) ?\n                      (vector) => vector :\n                        (vector) => transform4([ ...vector, 1 ], matrix).slice(0, 3);\n\n  return transform;\n}\n\nmodule.exports = module.exports = {\n  composeTransform\n};\n","'use strict';\n\nconst Element = require('../element'),\n      transformUtilities = require('../utilities/transform');\n\nconst { composeTransform } = transformUtilities;\n\nclass CanvasElement extends Element {\n  constructor(transform, facets, mask, hidden) {\n    super();\n\n    this.transform = transform;\n    this.facets = facets;\n    this.mask = mask;\n\n    this.hidden = hidden;\n  }\n\n  getTransform() {\n    return this.transform;\n  }\n\n  getFacets() {\n    return this.facets;\n  }\n\n  getMask() {\n    return this.mask;\n  }\n\n  setFacets(facets) {\n    this.facets = facets;\n  }\n\n  applyMask(mask) {\n    if (mask) {\n      const element = this; ///\n\n      mask.maskElement(element);\n    }\n  }\n\n  applyTransform(transform) {\n    const childElements = this.getChildElements();\n\n    this.facets.forEach((facet) => facet.applyTransform(transform));\n\n    childElements.forEach((childElement) => childElement.applyTransform(transform));\n  }\n\n  createFacets(hidden) {\n    const childElements = this.getChildElements();\n\n    hidden = hidden || this.hidden; ///\n\n    childElements.forEach((childElement) => childElement.createFacets(hidden));\n\n    return hidden;\n  }\n\n  amendFacets() {\n    const childElements = this.getChildElements();\n\n    childElements.forEach((childElement) => childElement.amendFacets());\n\n    this.applyTransform(this.transform);\n\n    this.applyMask(this.mask);\n  }\n\n  addFacets(colourRenderer, textureRenderer) {\n    const childElements = this.getChildElements();\n\n    childElements.forEach((childElement) => childElement.addFacets(colourRenderer, textureRenderer));\n  }\n\n  static fromProperties(Class, properties, ...remainingArguments) {\n    const { scale = null, rotations = null, position = null, mask = null, hidden = false } = properties,\n          transform = composeTransform(scale, rotations, position),\n          facets = [],\n          canvasElement = Element.fromProperties(Class, properties, transform, facets, mask, hidden, ...remainingArguments);\n\n    return canvasElement;\n  }\n}\n\nmodule.exports = CanvasElement;\n","'use strict';\n\nconst CanvasElement = require('../../element/canvas');\n\nclass FunctionCanvasElement extends CanvasElement {\n  static fromProperties(properties) {\n    const functionElement = CanvasElement.fromProperties(FunctionCanvasElement, properties);\n\n    return functionElement;\n  }\n}\n\nmodule.exports = FunctionCanvasElement;\n","'use strict';\n\nconst Element = require('./element'),\n      arrayUtilities = require('./utilities/array'),\n      FunctionCanvasElement = require('./element/canvas/function');\n\nconst { flatten, guarantee } = arrayUtilities;\n\nfunction createElement(firstArgument, properties, ...childElements) {\n  properties = properties || {};  ///\n\n  childElements = flatten(childElements); ///\n\n  let element;\n\n  if (isSubclassOf(firstArgument, Element)) {\n    const Class = firstArgument;  ///\n\n    Object.assign(properties, {\n      childElements\n    });\n\n    element = Class.fromProperties(properties);\n  } else if (typeof firstArgument === 'function') {\n    const func = firstArgument,  ///\n          childElements = guarantee(func(properties));\n\n    Object.assign(properties, {\n      childElements\n    });\n\n    element = FunctionCanvasElement.fromProperties(properties);\n  }\n\n  return element;\n}\n\nconst React = {\n  createElement: createElement\n};\n\nmodule.exports = React;\n\nfunction isSubclassOf(argument, Class) {\n  let typeOf = false;\n\n  if (argument.name === Class.name) { ///\n    typeOf = true;\n  } else {\n    argument = Object.getPrototypeOf(argument); ///\n\n    if (argument) {\n      typeOf = isSubclassOf(argument, Class);\n    }\n  }\n\n  return typeOf;\n}\n","'use strict';\n\nconst React = require('./react');\n\nObject.defineProperty(window, 'React', {\n  get: function() {\n    return React;\n  }\n});\n","'use strict';\n\nconst defaultDepth = 1.0;\n\nfunction clearDepth(depth = defaultDepth) { \n  this.context.clearDepth(depth); \n}\n\nfunction clearDepthBuffer() {\n  const { DEPTH_BUFFER_BIT } = this.context,\n        mask = DEPTH_BUFFER_BIT;\n\n  this.context.clear(mask);\n}\n\nfunction enableDepthTesting() {\n  const { DEPTH_TEST, LEQUAL } = this.context,\n        capacity = DEPTH_TEST,\n        depthComparisonFunction = LEQUAL;\n\n  this.context.enable(capacity);\n\n  this.context.depthFunc(depthComparisonFunction);\n}\n\nmodule.exports = {\n  clearDepth,\n  clearDepthBuffer,\n  enableDepthTesting\n};\n","'use strict';\n\nconst defaultR = 0.0,\n      defaultG = 0.0,\n      defaultB = 0.0,\n      defaultA = 1.0;\n\nfunction clearColour(r = defaultR, g = defaultG, b = defaultB, a = defaultA) { this.context.clearColor(r, g, b, a); }\n\nfunction clearColourBuffer() {\n  const { COLOR_BUFFER_BIT } = this.context,\n        mask = COLOR_BUFFER_BIT;\n\n  this.context.clear(mask);\n}\n\nmodule.exports = {\n  clearColour,\n  clearColourBuffer\n};\n","'use strict';\n\nfunction createShader(type, shaderSource) {\n  const { COMPILE_STATUS } = this.context,\n        pname = COMPILE_STATUS,\n        shader = this.context.createShader(type);\n\n  this.context.shaderSource(shader, shaderSource);\n\n  this.context.compileShader(shader);\n\n  const compileStatus = this.context.getShaderParameter(shader, pname);\n\n  if (!compileStatus) {\n    throw new Error(`Unable to create the shader.`);\n  }\n\n  return shader;\n}\n\nfunction createVertexShader(vertexShaderSource, canvas) {\n  const { VERTEX_SHADER } = this.context,\n        type = VERTEX_SHADER,\n        vertexShader = this.createShader(type, vertexShaderSource);\n\n  return vertexShader;\n}\n\nfunction createFragmentShader(fragmentShaderSource, canvas) {\n  const { FRAGMENT_SHADER } = this.context,\n        type = FRAGMENT_SHADER,\n        fragmentShader = this.createShader(type, fragmentShaderSource);\n\n  return fragmentShader;\n}\n\nmodule.exports = {\n  createShader,\n  createVertexShader,\n  createFragmentShader\n};\n","'use strict';\n\nfunction createElementBuffer(data) {\n  const { ELEMENT_ARRAY_BUFFER, STATIC_DRAW } = this.context,\n        target = ELEMENT_ARRAY_BUFFER,\n        usage = STATIC_DRAW,\n        uint16Array = new Uint16Array(data),\n        elementBuffer = this.context.createBuffer();\n\n  this.context.bindBuffer(target, elementBuffer);\n\n  this.context.bufferData(target, uint16Array, usage);\n\n  return elementBuffer;\n}\n\nfunction bindElementBuffer(elementBuffer) {\n  const { ELEMENT_ARRAY_BUFFER } = this.context,\n        target = ELEMENT_ARRAY_BUFFER;\n\n  this.context.bindBuffer(target, elementBuffer);\n}\n\nfunction createBuffer(data) {\n  const { ARRAY_BUFFER, STATIC_DRAW } = this.context,\n        target = ARRAY_BUFFER,\n        usage = STATIC_DRAW,\n        buffer = this.context.createBuffer(),\n        float32Array = new Float32Array(data);\n\n  this.context.bindBuffer(target, buffer);\n\n  this.context.bufferData(target, float32Array, usage);\n\n  return buffer;\n}\n\nfunction bindBuffer(buffer, attributeLocation, components) {\n  const { ARRAY_BUFFER, FLOAT } = this.context,\n        target = ARRAY_BUFFER,\n        type = FLOAT,\n        normalize = false,\n        stride = 0,\n        offset = 0;\n\n  this.context.bindBuffer(target, buffer);\n\n  this.context.vertexAttribPointer(attributeLocation, components, type, normalize, stride, offset);\n\n  this.context.enableVertexAttribArray(attributeLocation);\n}\n\nmodule.exports = {\n  createElementBuffer,\n  bindElementBuffer,\n  createBuffer,\n  bindBuffer\n};\n","'use strict';\n\nfunction createProgram(vertexShader, fragmentShader) {\n  const program = this.context.createProgram();\n\n  this.context.attachShader(program, vertexShader);\n\n  this.context.attachShader(program, fragmentShader);\n  \n  this.context.linkProgram(program);\n  \n  return program;\n}\n\nfunction useProgram(program) {\n  this.context.useProgram(program);\n}\n\nmodule.exports = {\n  createProgram,\n  useProgram\n};\n","'use strict';\n\nfunction createTexture(image, index, repeat) {\n\tconst { RGBA, LINEAR, UNSIGNED_BYTE, TEXTURE0, TEXTURE_2D, TEXTURE_WRAP_S, TEXTURE_WRAP_T, UNPACK_FLIP_Y_WEBGL, CLAMP_TO_EDGE, NEAREST, REPEAT, TEXTURE_MIN_FILTER } = this.context,\n\t\t\t\ttarget = TEXTURE0 + index,\n\t\t\t\tlevel = 0,\n\t\t\t\tinternalFormat = RGBA,\n\t\t\t\tformat = RGBA,\n\t\t\t\ttype = UNSIGNED_BYTE,\n\t\t\t\ttexture = this.context.createTexture();\n\n  this.context.activeTexture(target);\n\n  this.context.bindTexture(TEXTURE_2D, texture);\n\n  this.context.pixelStorei(UNPACK_FLIP_Y_WEBGL, true);\n\n  this.context.texImage2D(TEXTURE_2D, level, internalFormat, format, type, image);\n\n  if (repeat) {\n    this.context.texParameteri(TEXTURE_2D, TEXTURE_WRAP_S, REPEAT);\n    this.context.texParameteri(TEXTURE_2D, TEXTURE_WRAP_T, REPEAT);\n  } else {\n    this.context.texParameteri(TEXTURE_2D, TEXTURE_WRAP_S, CLAMP_TO_EDGE);\n    this.context.texParameteri(TEXTURE_2D, TEXTURE_WRAP_T, CLAMP_TO_EDGE);\n  }\n\n\tthis.context.texParameteri(TEXTURE_2D, TEXTURE_MIN_FILTER, LINEAR);\n\n\treturn texture;\n}\n\nfunction enableAnisotropicFiltering() {\n  const extension = (\n    this.context.getExtension('EXT_texture_filter_anisotropic') ||\n    this.context.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n    this.context.getExtension('WEBKIT_EXT_texture_filter_anisotropic')\n  );\n\n  if (extension) {\n    const { TEXTURE_2D } = this.context,\n          { MAX_TEXTURE_MAX_ANISOTROPY_EXT, TEXTURE_MAX_ANISOTROPY_EXT } = extension,\n          maximum = this.context.getParameter(MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\n    this.context.texParameterf(TEXTURE_2D, TEXTURE_MAX_ANISOTROPY_EXT, maximum);\n  }\n}\n\nmodule.exports = {\n  createTexture,\n  enableAnisotropicFiltering\n};\n","'use strict';\n\nfunction enableBlending() {\n  const { BLEND, SRC_ALPHA, ONE } = this.context,\n        capacity = BLEND,\n        sourceFactor = SRC_ALPHA,\n        destinationFactor = ONE;\n\n  this.context.enable(capacity);\n\n  this.context.blendFunc(sourceFactor, destinationFactor);\n}\n\nmodule.exports = {\n  enableBlending\n};\n","'use strict';\n\nfunction getUniformLocation(program, name) {\n  return this.context.getUniformLocation(program, name);\n}\n\nfunction getAttributeLocation(program, name) {\n  return this.context.getAttribLocation(program, name);\n}\n\nfunction setUniformLocationIntegerValue(uniformLocation, integerValue) {\n  this.context.uniform1i(uniformLocation, integerValue);\n}\n\nmodule.exports = {\n  getUniformLocation,\n  getAttributeLocation,\n  setUniformLocationIntegerValue\n};\n","'use strict';\n\nconst vectorMaths = require('../maths/vector');\n\nconst { subtract3 } = vectorMaths;\n\nclass Edge {\n  constructor(position, extent) {\n    this.position = position;\n    this.extent = extent;\n  }\n\n  getPosition() {\n    return this.position;\n  }\n\n  getExtent() {\n    return this.extent;\n  }\n\n  clone() {\n    const position = this.position.slice(),\n          extent = this.extent.slice(),\n          edge = new Edge(position, extent);\n\n    return edge;\n  }\n\n  static fromStartVertexAndEndVertex(Class, startVertex, endVertex) {\n    if (endVertex === undefined) {\n      endVertex = startVertex;\n      startVertex = Class;\n      Class = Edge;\n    }\n    \n    const startPosition = startVertex.getPosition(),\n          endPosition = endVertex.getPosition(),\n          position = startPosition.slice(), ///\n          extent = subtract3(endPosition, startPosition),\n          edge = new Class(position, extent);\n\n    return edge;\n  }\n}\n\nmodule.exports = Edge;\n","'use strict';\n\nconst vectorMaths = require('../maths/vector');\n\nconst { add3, scale3 } = vectorMaths;\n\nfunction calculateMidPointPosition(vertices) {\n  const midPointPosition = vertices.reduce((midPointPosition, vertex) => {\n    const vertexPosition = vertex.getPosition(),\n          scaledVertexPosition = scale3(vertexPosition, 1/3);\n\n    midPointPosition = add3(midPointPosition, scaledVertexPosition);\n\n    return midPointPosition;\n  }, [ 0, 0, 0 ]);\n\n  return midPointPosition;\n}\n\nfunction projectMidPointPositionOntoXYPlane(midPointPosition) {\n  midPointPosition = [ ...midPointPosition.slice(0, 2), 0 ];  ///\n\n  return midPointPosition;\n}\n\nfunction isMidPointPositionToOneSideOfMaskingEdges(midPointPosition, maskingEdges) {\n  const midPointPositionToTheLeftOfMaskingEdges = isMidPointPositionToTheLeftOfMaskingEdges(midPointPosition, maskingEdges),\n        midPointPositionToTheRightOfMaskingEdges = isMidPointPositionToTheRightOfMaskingEdges(midPointPosition, maskingEdges),\n        midPointPositionToOneSideOfMaskingEdges = midPointPositionToTheLeftOfMaskingEdges || midPointPositionToTheRightOfMaskingEdges; ///\n\n  return midPointPositionToOneSideOfMaskingEdges;\n}\n\nmodule.exports = module.exports = {\n  calculateMidPointPosition,\n  projectMidPointPositionOntoXYPlane,\n  isMidPointPositionToOneSideOfMaskingEdges\n};\n\nfunction isMidPointPositionToTheLeftOfMaskingEdges(midPointPosition, maskingEdges) {\n  const midPointPositionToTheLeftOfMaskingEdges = maskingEdges.reduce((midPointPositionToTheLeftOfMaskingEdges, maskingEdge) => {\n    if (midPointPositionToTheLeftOfMaskingEdges) {\n      const midPointPositionToTheLeftOfMaskingEdge = maskingEdge.isMidPointPositionToTheLeft(midPointPosition);\n\n      midPointPositionToTheLeftOfMaskingEdges = midPointPositionToTheLeftOfMaskingEdge;\n    }\n\n    return midPointPositionToTheLeftOfMaskingEdges;\n  }, true);\n\n  return midPointPositionToTheLeftOfMaskingEdges;\n}\n\nfunction isMidPointPositionToTheRightOfMaskingEdges(midPointPosition, maskingEdges) {\n  const midPointPositionToTheRightOfMaskingEdges = maskingEdges.reduce((midPointPositionToTheRightOfMaskingEdges, maskingEdge) => {\n    if (midPointPositionToTheRightOfMaskingEdges) {\n      const midPointPositionToTheRightOfMaskingEdge = maskingEdge.isMidPointPositionToTheRight(midPointPosition);\n\n      midPointPositionToTheRightOfMaskingEdges = midPointPositionToTheRightOfMaskingEdge;\n    }\n\n    return midPointPositionToTheRightOfMaskingEdges;\n  }, true);\n\n  return midPointPositionToTheRightOfMaskingEdges;\n}\n","'use strict';\n\nconst Edge = require('../edge'),\n      vectorMaths = require('../../maths/vector'),\n      arrayUtilities = require('../../utilities/array'),\n      midPointUtilities = require('../../utilities/midPoint');\n\nconst { third } = arrayUtilities,\n      { subtract3, cross3 } = vectorMaths,\n      { projectMidPointPositionOntoXYPlane } = midPointUtilities;\n\nclass MaskingEdge extends Edge {\n  isMidPointPositionToTheLeft(midPointPosition) {\n    midPointPosition = projectMidPointPositionOntoXYPlane(midPointPosition);  ///\n\n    const extent = this.getExtent(),\n          position = this.getPosition(),\n          midPointRelativePosition = subtract3(midPointPosition, position),\n          crossProductComponents = cross3(extent, midPointRelativePosition), ///\n          thirdCrossProductComponent = third(crossProductComponents),\n          midPointPositionToTheLeft = (thirdCrossProductComponent > 0);\n\n    return midPointPositionToTheLeft;\n  }\n  \n  isMidPointPositionToTheRight(midPointPosition) {\n    const midPointPositionToTheLeft = this.isMidPointPositionToTheLeft(midPointPosition),\n          midPointPositionToTheRight = !midPointPositionToTheLeft;\n    \n    return midPointPositionToTheRight;\n  }\n  \n  static fromStartVertexAndEndVertex(startVertex, endVertex) { return Edge.fromStartVertexAndEndVertex(MaskingEdge, startVertex, endVertex); }\n}\n\nmodule.exports = MaskingEdge;\n","'use strict';\n\nfunction calculateHalfAngleSine(angleCosine) { return Math.sqrt((1 - angleCosine) / 2); }\n\nfunction calculateHalfAngleCosine(angleCosine) { return Math.sqrt((1 + angleCosine) / 2); }\n\nmodule.exports = {\n  calculateHalfAngleSine,\n  calculateHalfAngleCosine\n};\n","'use strict';\n\nconst constants = require('../constants');\n\nconst { DEFAULT_MARGIN_OF_ERROR } = constants;\n\nfunction isApproximatelyEqualToOne(value, marginOfError = DEFAULT_MARGIN_OF_ERROR) { return isApproximatelyEqualTo(value, 1, marginOfError); }\n\nfunction isApproximatelyEqualToZero(value, marginOfError = DEFAULT_MARGIN_OF_ERROR) { return isApproximatelyEqualTo(value, 0, marginOfError); }\n\nmodule.exports = {\n  isApproximatelyEqualToOne,\n  isApproximatelyEqualToZero\n};\n\nfunction isApproximatelyEqualTo(valueA, valueB, marginOfError = DEFAULT_MARGIN_OF_ERROR) {\n  const difference = valueA - valueB,\n        absoluteDifference = Math.abs(difference),\n        approximatelyEqual = (absoluteDifference < marginOfError);\n\n  return approximatelyEqual;\n}\n","'use strict';\n\nconst vectorMaths = require('../maths/vector'),\n      arrayUtilities = require('../utilities/array'),\n      angleUtilities = require('../utilities/angle'),\n      approximateUtilities = require('../utilities/approximate');\n\nconst { dot3, cross3, normalise3 } = vectorMaths,\n      { isApproximatelyEqualToOne } = approximateUtilities,\n      { first, second, third, fourth } = arrayUtilities,\n      { calculateHalfAngleCosine, calculateHalfAngleSine } = angleUtilities;\n\nfunction rotateImaginaryQuaternion(imaginaryQuaternion, rotationQuaternion, inverseRotationQuaternion) { return hamiltonProduct(hamiltonProduct(rotationQuaternion, imaginaryQuaternion), inverseRotationQuaternion); }\n\nfunction calculateInverseRotationQuaternion(rotationQuaternion) {\n  const rotationQuaternionComponents = rotationQuaternion,  ///\n        firstRotationQuaternionComponent = first(rotationQuaternionComponents),\n        secondRotationQuaternionComponent = second(rotationQuaternionComponents),\n        thirdRotationQuaternionComponent = third(rotationQuaternionComponents),\n        fourthRotationQuaternionComponent = fourth(rotationQuaternionComponents),\n        inverseRotationQuaternion = [\n          firstRotationQuaternionComponent,\n          -secondRotationQuaternionComponent,\n          -thirdRotationQuaternionComponent,\n          -fourthRotationQuaternionComponent\n        ];\n\n  return inverseRotationQuaternion;\n}\n\nfunction calculateForwardsRotationQuaternion(rotationQuaternion) {\n  const forwardsRotationQuaternion = rotationQuaternion;  ///\n\n  return forwardsRotationQuaternion;\n}\n\nfunction calculateBackwardsRotationQuaternion(rotationQuaternion) {\n  const inverseRotationQuaternion = calculateInverseRotationQuaternion(rotationQuaternion),\n        backwardsRotationQuaternion = inverseRotationQuaternion;  ///\n\n  return backwardsRotationQuaternion;\n\n}\n\nfunction calculateArbitraryRotationQuaternion(normal) {\n  const extent = normal.getExtent(),\n        unitNormal = extent,  ///\n        zAxis = [ 0, 0, 1 ],\n        dotProductOfUnitNormalAndZAxis = dot3(unitNormal, zAxis),\n        crossProductOfUnitNormalAndZAxis = cross3(unitNormal, zAxis),\n        angleOfRotationCosine = dotProductOfUnitNormalAndZAxis, ///\n        angleOfRotationCosineAbsoluteValue = Math.abs(angleOfRotationCosine),\n        angleOfRotationCosineAbsoluteValueApproximatelyEqualToOne = isApproximatelyEqualToOne(angleOfRotationCosineAbsoluteValue),\n        axisOfRotation = angleOfRotationCosineAbsoluteValueApproximatelyEqualToOne ?\n                          [ 1, 0, 0 ] : ///\n                            crossProductOfUnitNormalAndZAxis,\n        unitAxisOfRotation = normalise3(axisOfRotation),\n        halfAngleOfRotationCosine = calculateHalfAngleCosine(angleOfRotationCosine),\n        halfAngleOfRotationSine = calculateHalfAngleSine(angleOfRotationCosine),\n        unitAxisOfRotationComponents = unitAxisOfRotation,  ///\n        firstAxisOfRotationComponent = first(unitAxisOfRotationComponents),\n        secondAxisOfRotationComponent = second(unitAxisOfRotationComponents),\n        thirdAxisOfRotationComponent = third(unitAxisOfRotationComponents),\n        arbitraryRotationQuaternion = [\n          halfAngleOfRotationCosine,\n          firstAxisOfRotationComponent * halfAngleOfRotationSine,\n          secondAxisOfRotationComponent * halfAngleOfRotationSine,\n          thirdAxisOfRotationComponent * halfAngleOfRotationSine\n        ];\n\n  return arbitraryRotationQuaternion;\n}\n\nfunction calculateRotationAboutZAxisQuaternion(maskingEdge) {\n  const maskingEdgeExtent = maskingEdge.getExtent(),\n        unitMaskingEdgeExtent = normalise3(maskingEdgeExtent),\n        unitMaskingEdgeExtentComponents = unitMaskingEdgeExtent,  ///\n        firstUnitMaskingEdgeExtentComponent = first(unitMaskingEdgeExtentComponents),\n        secondUnitMaskingEdgeExtentComponent = second(unitMaskingEdgeExtentComponents),\n        angleOfRotationSine = firstUnitMaskingEdgeExtentComponent,  ///\n        angleOfRotationCosine = secondUnitMaskingEdgeExtentComponent,  ///\n        halfAngleOfRotationCosine = calculateHalfAngleCosine(angleOfRotationCosine),\n        halfAngleOfRotationSine = (angleOfRotationSine > 0 ) ?\n                                   +calculateHalfAngleSine(angleOfRotationCosine) :\n                                     -calculateHalfAngleSine(angleOfRotationCosine),\n        rotationAboutZAxisQuaternion = [\n          halfAngleOfRotationCosine,\n          0,\n          0,\n          halfAngleOfRotationSine\n        ];\n\n  return rotationAboutZAxisQuaternion;\n}\n\nmodule.exports = {\n  rotateImaginaryQuaternion,\n  calculateInverseRotationQuaternion,\n  calculateForwardsRotationQuaternion,\n  calculateBackwardsRotationQuaternion,\n  calculateArbitraryRotationQuaternion,\n  calculateRotationAboutZAxisQuaternion\n};\n\nfunction hamiltonProduct(quaternionA, quaternionB) {\n  const a1 = quaternionA[0],\n        b1 = quaternionA[1],\n        c1 = quaternionA[2],\n        d1 = quaternionA[3],\n        a2 = quaternionB[0],\n        b2 = quaternionB[1],\n        c2 = quaternionB[2],\n        d2 = quaternionB[3],\n        a = a1 * a2 - b1 * b2 - c1 * c2 - d1 * d2,\n        b = a1 * b2 + b1 * a2 + c1 * d2 - d1 * c2,\n        c = a1 * c2 - b1 * d2 + c1 * a2 + d1 * b2,\n        d = a1 * d2 + b1 * c2 - c1 * b2 + d1 * a2,\n        quaternion = [ a, b, c, d ];\n\n  return quaternion;\n}\n","'use strict';\n\nconst quaternionUtilities = require('../utilities/quaternion');\n\nconst { rotateImaginaryQuaternion, calculateInverseRotationQuaternion } = quaternionUtilities;\n\nfunction rotatePosition(position, rotationQuaternion) {\n  const imaginaryQuaternion = imaginaryQuaternionFromPosition(position),\n        inverseRotationQuaternion = calculateInverseRotationQuaternion(rotationQuaternion),\n        rotatedImaginaryQuaternion = rotateImaginaryQuaternion(imaginaryQuaternion, rotationQuaternion, inverseRotationQuaternion);\n\n  position = positionFromImaginaryQuaternion(rotatedImaginaryQuaternion);\n\n  return position;\n}\n\nmodule.exports = {\n  rotatePosition\n};\n\nfunction imaginaryQuaternionFromPosition(position) { return [0, ...position]; }  ///\n\nfunction positionFromImaginaryQuaternion(imaginaryQuaternion) { return imaginaryQuaternion.slice(1); }  ///\n","'use strict';\n\nconst vectorMaths = require('../maths/vector'),\n      arrayUtilities = require('../utilities/array'),\n      approximateUtilities = require('../utilities/approximate');\n\nconst { add3, subtract3, scale3 } = vectorMaths,\n      { first, second } = arrayUtilities,\n      { isApproximatelyEqualToZero } = approximateUtilities;\n\nfunction calculateIntersection(edge, firstPositionComponent) {\n  let intersection = null;\n\n  const edgeNonParallel = isEdgeNonParallel(edge);\n\n  if (edgeNonParallel) {\n    const edgeIntersection = calculateEdgeIntersection(edge, firstPositionComponent),\n          edgeIntersectionNonTrivial = ((edgeIntersection > 0 ) && (edgeIntersection < 1));\n\n    if (edgeIntersectionNonTrivial) {\n      intersection = edgeIntersection;  ///\n    }\n  }\n\n  return intersection;\n}\n\nfunction calculateNonNullIntersections(intersections) {\n  const nonNullIntersections = intersections.reduce((nonNullIntersections, intersection) => {\n    if (intersection !== null) {\n      const nonNullIntersection = intersection; ///\n\n      nonNullIntersections.push(nonNullIntersection);\n    }\n\n    return nonNullIntersections;\n  }, []);\n\n  return nonNullIntersections;\n}\n\nfunction calculateNullIntersectionIndex(intersections) {\n  const nullIntersectionIndex = intersections.reduce((nullIntersectionIndex, intersection, index) => {\n    if (nullIntersectionIndex === null) {\n      if (intersection === null) {\n        nullIntersectionIndex = index;\n      }\n    }\n\n    return nullIntersectionIndex;\n  }, null);\n\n  return nullIntersectionIndex;\n}\n\nfunction calculateNonNullIntersectionIndex(intersections) {\n  const nullIntersectionIndex = intersections.reduce((nullIntersectionIndex, intersection, index) => {\n    if (nullIntersectionIndex === null) {\n      if (intersection !== null) {\n        nullIntersectionIndex = index;\n      }\n    }\n\n    return nullIntersectionIndex;\n  }, null);\n\n  return nullIntersectionIndex;\n}\n\nfunction calculateIntermediateVertexPosition(startVertexPosition, endVertexPosition, intersection) {\n  const extent = subtract3(endVertexPosition, startVertexPosition),\n        offset = scale3(extent, intersection),\n        intermediateVertexPosition = add3(startVertexPosition, offset);\n\n  return intermediateVertexPosition;\n}\n\nmodule.exports = module.exports = {\n  calculateIntersection,\n  calculateNonNullIntersections,\n  calculateNullIntersectionIndex,\n  calculateNonNullIntersectionIndex,\n  calculateIntermediateVertexPosition\n};\n\nfunction isEdgeNonParallel(edge) {\n  const edgeExtent = edge.getExtent(),\n        edgeExtentComponents = edgeExtent, ///\n        firstEdgeExtentComponent = first(edgeExtentComponents),\n        secondEdgeExtentComponent = second(edgeExtentComponents),\n        edgeAngleTangent = firstEdgeExtentComponent / secondEdgeExtentComponent,\n        edgeAngleTangentApproximatelyEqualToZero = isApproximatelyEqualToZero(edgeAngleTangent),\n        edgeParallel = edgeAngleTangentApproximatelyEqualToZero, ///\n        edgeNonParallel = !edgeParallel;\n\n  return edgeNonParallel;\n}\n\nfunction calculateEdgeIntersection(edge, firstPositionComponent) {\n  const edgeExtent = edge.getExtent(),\n        edgePosition = edge.getPosition(),\n        edgeExtentComponents = edgeExtent, ///\n        edgePositionComponents = edgePosition, ///\n        firstEdgeExtentComponent = first(edgeExtentComponents),\n        firstEdgePositionComponent = first(edgePositionComponents),\n        edgeIntersection = (firstPositionComponent - firstEdgePositionComponent) / firstEdgeExtentComponent;\n\n  return edgeIntersection;\n}\n","'use strict';\n\nconst arrayUtilities = require('../utilities/array'),\n      rotationUtilities = require('../utilities/rotation'),\n      quaternionUtilities = require('../utilities/quaternion'),\n      intersectionUtilities = require('../utilities/intersection');\n\nconst { first } = arrayUtilities,\n      { rotatePosition } = rotationUtilities,\n      { calculateIntersection } = intersectionUtilities,\n      { calculateRotationAboutZAxisQuaternion, calculateForwardsRotationQuaternion, calculateBackwardsRotationQuaternion } = quaternionUtilities;\n\nclass VerticalLine {\n  constructor(firstPositionComponent, forwardsRotationQuaternion, backwardsRotationQuaternion) {\n    this.firstPositionComponent = firstPositionComponent;\n    this.forwardsRotationQuaternion = forwardsRotationQuaternion;\n    this.backwardsRotationQuaternion = backwardsRotationQuaternion;\n  }\n\n  getFirstPositionComponent() {\n    return this.firstPositionComponent;\n  }\n  \n  getForwardsRotationQuaternion() {\n    return this.forwardsRotationQuaternion;\n  }\n\n  getBackwardsRotationQuaternion() {\n    return this.backwardsRotationQuaternion;\n  }\n\n  splitFacet(facet, smallerFacets) {\n    const edges = facet.getEdges(),\n          intersections = edges.map((edge) => {\n            const intersection = calculateIntersection(edge, this.firstPositionComponent);\n\n            return intersection;\n          });\n\n    facet.splitWithIntersections(intersections, smallerFacets);\n  }\n\n  splitFacets(facets) {\n    const smallerFacets = [];\n\n    facets.forEach((facet) => {\n      facet.rotate(this.forwardsRotationQuaternion);\n\n      this.splitFacet(facet, smallerFacets);\n    });\n\n    smallerFacets.forEach((smallerFacet) => smallerFacet.rotate(this.backwardsRotationQuaternion));\n\n    return smallerFacets;\n  }\n\n  static fromMaskingEdge(maskingEdge) {\n    const maskingEdgePosition = maskingEdge.getPosition(),\n          rotationAboutZAxisQuaternion = calculateRotationAboutZAxisQuaternion(maskingEdge),\n          rotationQuaternion = rotationAboutZAxisQuaternion,  ///\n          forwardsRotationQuaternion = calculateForwardsRotationQuaternion(rotationQuaternion),\n          backwardsRotationQuaternion = calculateBackwardsRotationQuaternion(rotationQuaternion),\n          position = rotatePosition(maskingEdgePosition, rotationQuaternion),\n          positionComponents = position, ///\n          firstPositionComponent = first(positionComponents),\n          verticalLine = new VerticalLine(firstPositionComponent, forwardsRotationQuaternion, backwardsRotationQuaternion);\n\n    return verticalLine;\n  }\n}\n\nmodule.exports = VerticalLine;\n","'use strict';\n\nfunction rotateVertices(vertices, rotationQuaternion) {\n  const rotatedVertices = vertices.map((vertex) => {\n    const rotatedVertex = vertex.clone();  ///\n\n    rotatedVertex.rotate(rotationQuaternion);\n\n    return rotatedVertex;\n  });\n\n  return rotatedVertices;\n}\n\nfunction verticesFromCoordinateTuplesAndIndexTuple(coordinateTuples, indexTuple, Vertex) {  ///\n  const indexes = indexTuple, ///\n        vertices = indexes.map((index) => {\n          const coordinateTuple = coordinateTuples[index],\n                vertex = Vertex.fromCoordinateTuple(coordinateTuple);\n\n          return vertex;\n        });\n\n  return vertices;\n}\n\nmodule.exports = {\n  rotateVertices,\n  verticesFromCoordinateTuplesAndIndexTuple\n};\n","'use strict';\n\nconst constants = require('../constants'),\n      MaskingEdge = require('./edge/masking'),\n      VerticalLine = require('./verticalLine'),\n      arrayUtilities = require('../utilities/array'),\n      verticesUtilities = require('../utilities/vertices'),\n      quaternionUtilities = require('../utilities/quaternion');\n\nconst { VERTICES_LENGTH } = constants,\n      { push, separate } = arrayUtilities,\n      { rotateVertices } = verticesUtilities,\n      { calculateArbitraryRotationQuaternion, calculateForwardsRotationQuaternion, calculateBackwardsRotationQuaternion } = quaternionUtilities;\n\nclass MaskingFacet {\n  constructor(maskingEdges, verticalLines, forwardsRotationQuaternion, backwardsRotationQuaternion) {\n    this.maskingEdges = maskingEdges;\n    this.verticalLines = verticalLines;\n    this.forwardsRotationQuaternion = forwardsRotationQuaternion;\n    this.backwardsRotationQuaternion = backwardsRotationQuaternion;\n  }\n\n  getMaskingEdges() {\n    return this.maskingEdges;\n  }\n\n  getVerticalLines() {\n    return this.verticalLines;\n  }\n\n  getForwardsRotationQuaternion() {\n    return this.forwardsRotationQuaternion;\n  }\n\n  getBackwardsRotationQuaternion() {\n    return this.backwardsRotationQuaternion;\n  }\n\n  maskFacet(facet, unmaskedFacets) {\n    const unmaskedFacet = facet.clone();  ///\n\n    facet.rotate(this.forwardsRotationQuaternion);\n\n    const maskingFacet = this,  ///\n          smallerFacets = this.splitFacet(facet),\n          maskedSmallerFacets = [],\n          unmaskedSmallerFacets = [];\n\n    separate(smallerFacets, maskedSmallerFacets, unmaskedSmallerFacets, (smallerFacet) => {\n      const smallerFacetMasked = smallerFacet.isMasked(maskingFacet);\n\n      return smallerFacetMasked;\n    });\n\n    const maskedSmallerFacetsLength = maskedSmallerFacets.length;\n\n    if (maskedSmallerFacetsLength === 0) {\n      unmaskedFacets.push(unmaskedFacet);\n    } else {\n      unmaskedSmallerFacets.forEach((unmaskedSmallerFacet) => {\n        unmaskedSmallerFacet.rotate(this.backwardsRotationQuaternion);\n      });\n\n      push(unmaskedFacets, unmaskedSmallerFacets);\n    }\n  }\n  \n  splitFacet(facet) {\n    let facets = [\n          facet\n        ],\n        smallerFacets = facets; ///\n\n    this.verticalLines.forEach((verticalLine) => {\n      smallerFacets = verticalLine.splitFacets(facets);\n\n      facets = smallerFacets; ///\n    });\n\n    return smallerFacets;\n  }\n\n  static fromFacet(facet) {\n    const facetNormal = facet.getNormal(),\n          facetVertices = facet.getVertices(),\n          normal = facetNormal, ///\n          arbitraryRotationQuaternion = calculateArbitraryRotationQuaternion(normal),\n          rotationQuaternion = arbitraryRotationQuaternion, ///\n          vertices = rotateVertices(facetVertices, rotationQuaternion),\n          maskingEdges = calculateMaskingEdges(vertices),\n          verticalLines = maskingEdges.map((maskingEdge) => {\n            const verticalLine = VerticalLine.fromMaskingEdge(maskingEdge);\n            \n            return verticalLine;\n          }),\n          forwardsRotationQuaternion = calculateForwardsRotationQuaternion(rotationQuaternion),\n          backwardsRotationQuaternion = calculateBackwardsRotationQuaternion(rotationQuaternion),\n          maskingFacet = new MaskingFacet(maskingEdges, verticalLines, forwardsRotationQuaternion, backwardsRotationQuaternion);\n\n    return maskingFacet;\n  }\n}\n\nmodule.exports = MaskingFacet;\n\nfunction calculateMaskingEdges(vertices) {\n  const maskingEdges = vertices.map((vertex, index) => {\n          const startIndex = index,\n                endIndex = (startIndex + 1) % VERTICES_LENGTH,\n                startVertex = vertices[startIndex],\n                endVertex = vertices[endIndex],\n                maskingEdge = MaskingEdge.fromStartVertexAndEndVertex(startVertex, endVertex);\n\n          return maskingEdge;\n        });\n\n  return maskingEdges;\n}\n","'use strict';\n\nconst Element = require('../element'),\n      MaskingFacet = require('../primitive/maskingFacet'),\n      arrayUtilities = require('../utilities/array');\n\nconst { push } = arrayUtilities;\n\nclass Mask extends Element {\n  constructor(hidden) {\n    super();\n\n    this.hidden = hidden;\n  }\n\n  retrieveMaskingFacets() {\n    const childElements = this.getChildElements(),\n          facets = retrieveFacets(childElements),\n          maskingFacets = facets.map((facet) => {\n            const maskingFacet = MaskingFacet.fromFacet(facet);\n            \n            return maskingFacet;\n          });\n    \n    return maskingFacets;          \n  }\n\n  maskElement(element) {\n    const maskingFacets = this.retrieveMaskingFacets(),\n          childElements = element.getChildElements();\n\n    maskElement(element, maskingFacets);\n\n    childElements.forEach((childElement) => maskElement(childElement, maskingFacets));\n  }\n\n  initialise() {\n    const childElements = this.getChildElements();\n\n    childElements.forEach((childElement) => childElement.createFacets(this.hidden));\n\n    childElements.forEach((childElement) => childElement.amendFacets());\n  }\n\n  static fromProperties(properties) {\n    const { hidden = false } = properties,\n          mask = Element.fromProperties(Mask, properties, hidden);\n\n    mask.initialise();\n\n    return mask;\n  }\n}\n\nmodule.exports = Mask;\n\nfunction retrieveFacets(childElements, facets = []) {\n  childElements.forEach((childElement) => {\n    const element = childElement, ///\n          elementFacets = element.getFacets(),\n          childElements = element.getChildElements();\n\n    push(facets, elementFacets);\n\n    retrieveFacets(childElements, facets);\n  });\n\n  return facets;\n}\n\nfunction maskElement(element, maskingFacets) {\n  let facets = element.getFacets();\n\n  maskingFacets.forEach((maskingFacet) => {\n    const unmaskedFacets = [];\n\n    facets.forEach((facet) => maskingFacet.maskFacet(facet, unmaskedFacets));\n\n    facets = unmaskedFacets;  ///\n  });\n\n  element.setFacets(facets);\n\n  const childElements = element.getChildElements();\n\n  childElements.forEach((childElement) => {\n    const element = childElement; ///\n\n    maskElement(element, maskingFacets);\n  });\n}\n","'use strict';\n\nconst arrayUtilities = require('./utilities/array');\n\nconst { push } = arrayUtilities;\n\nconst add = push; ///\n\nclass Renderer {\n  constructor(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations) {\n    this.facets = facets;\n    this.program = program;\n    this.rendererData = rendererData;\n    this.rendererBuffers = rendererBuffers;\n    this.uniformLocations = uniformLocations;\n    this.attributeLocations = attributeLocations;\n  }\n\n  getFacets() {\n    return this.facets;\n  }\n\n  getProgram() {\n    return this.program;\n  }\n  \n  getRendererData() {\n    return this.rendererData;\n  }\n  \n  getRendererBuffers() {\n    return this.rendererBuffers;\n  }\n\n  getUniformLocations() {\n    return this.uniformLocations;\n  }\n\n  getAttributeLocations() {\n    return this.attributeLocations;\n  }\n\n  getCount() { return this.rendererData.getCount(); }\n\n  getOffsetsMatrixUniformLocation() { return this.uniformLocations.getOffsetsMatrixUniformLocation(); }\n\n  getNormalsMatrixUniformLocation() { return this.uniformLocations.getNormalsMatrixUniformLocation(); }\n\n  getPositionMatrixUniformLocation() { return this.uniformLocations.getPositionMatrixUniformLocation(); }\n\n  getRotationsMatrixUniformLocation() { return this.uniformLocations.getRotationsMatrixUniformLocation(); }\n\n  getProjectionMatrixUniformLocation() { return this.uniformLocations.getProjectionMatrixUniformLocation(); }\n\n  getVertexPositionAttributeLocation() { return this.attributeLocations.getVertexPositionAttributeLocation(); }\n\n  getVertexNormalAttributeLocation() { return this.attributeLocations.getVertexNormalAttributeLocation(); }\n\n  addFacets(facets) {\n    add(this.facets, facets);\n  }\n}\n\nfunction createProgram(vertexShaderSource, fragmentShaderSource, canvas) {\n  const vertexShader = canvas.createVertexShader(vertexShaderSource),\n        fragmentShader = canvas.createFragmentShader(fragmentShaderSource),\n        program = canvas.createProgram(vertexShader, fragmentShader);\n  \n  return program;\n}\n\nObject.assign(Renderer, {\n  createProgram\n});\n\nmodule.exports = Renderer;\n","'use strict';\n\nconst arrayUtilities = require('../utilities/array');\n\nconst { flatten, merge } = arrayUtilities,\n      add = merge;  ///\n\nclass RendererData {\n  constructor(vertexPositionsData, vertexNormalsData, vertexIndexesData) {\n    this.vertexPositionsData = vertexPositionsData;\n    this.vertexNormalsData = vertexNormalsData;\n    this.vertexIndexesData = vertexIndexesData;\n  }\n\n  getCount() {\n    const vertexIndexesDataLength = this.vertexIndexesData.length,\n          count = vertexIndexesDataLength;  ///\n\n    return count;\n  }\n  \n  getVertexPositionsData() {\n    return this.vertexPositionsData;\n  }\n  \n  getVertexNormalsData() {\n    return this.vertexNormalsData;\n  }\n  \n  getVertexIndexesData() {\n    return this.vertexIndexesData;\n  }\n\n  addVertexPositions(vertexPositions) {\n    const vertexPositionsData = flatten(vertexPositions);\n\n    add(this.vertexPositionsData, vertexPositionsData);\n  }\n\n  addVertexNormals(vertexNormals) {\n    const vertexNormalsData = flatten(vertexNormals);\n\n    add(this.vertexNormalsData, vertexNormalsData);\n  }\n\n  addVertexIndexes(vertexIndexes) {\n    const vertexIndexesData = vertexIndexes;  ///\n\n    add(this.vertexIndexesData, vertexIndexesData);\n  }\n\n  static fromNothing(Class, ...remainingArguments) {\n    const vertexPositionsData = [],\n          vertexNormalsData = [],\n          vertexIndexesData = [],\n          rendererData = new Class(vertexPositionsData, vertexNormalsData, vertexIndexesData, ...remainingArguments);\n    \n    return rendererData;\n  }\n}\n\nmodule.exports = RendererData;\n","'use strict';\n\nconst normalsMatrixName = 'uNormalsMatrix',\n      vertexNormalAttributeName = 'aVertexNormal';\n\nconst lightingSource = new String(`\n  \n        uniform mat4 ${normalsMatrixName};\n\n        attribute vec3 ${vertexNormalAttributeName};\n\n        vec3 directionalLightColour = vec3(1, 1, 1),\n             directionalVector = normalize(vec3(1.0, 1.0, 1.0));\n          \n        vec3 calculateLighting() {\n          vec4 transformedNormal = ${normalsMatrixName} * vec4(${vertexNormalAttributeName}, 1.0);            \n\n          float directional = (dot(transformedNormal.xyz, directionalVector) + 1.0) / 2.0;\n          \n          vec3 lighting = (directionalLightColour * directional);\n          \n          return lighting;\n        }\n\n      `);\n\nObject.assign(lightingSource, {\n  normalsMatrixName,\n  vertexNormalAttributeName\n});\n\nmodule.exports = lightingSource;\n","'use strict';\n\nconst offsetsMatrixName = 'uOffsetsMatrix',\n      positionMatrixName = 'uPositionMatrix',\n      rotationsMatrixName = 'uRotationsMatrix',\n      projectionMatrixName = 'uPerspectiveMatrix',\n      vertexPositionAttributeName = 'aVertexPosition';\n\nconst positionSource = new String(`\n  \n        uniform mat4 ${offsetsMatrixName},\n                     ${rotationsMatrixName},\n                     ${positionMatrixName},\n                     ${projectionMatrixName};\n        \n        attribute vec4 ${vertexPositionAttributeName};\n\n        vec4 calculatePosition() {\n          vec4 position = ${projectionMatrixName} * ${positionMatrixName} * ${rotationsMatrixName} * ${offsetsMatrixName} * ${vertexPositionAttributeName};\n          \n          return position;\n        }\n        \n      `);\n\nObject.assign(positionSource, {\n  offsetsMatrixName,\n  positionMatrixName,\n  rotationsMatrixName,\n  projectionMatrixName,\n  vertexPositionAttributeName\n});\n    \nmodule.exports = positionSource;\n","'use strict';\n\nconst lightingSource = require('../../source/lighting'),\n      positionSource = require('../../source/position');\n\nconst vertexColourAttributeName = 'aVertexColour',\n      vertexShaderSource = new String(`\n    \n        attribute vec4 ${vertexColourAttributeName};\n\n        ${lightingSource}\n      \n        ${positionSource}\n    \n        varying highp vec3 vLighting;\n        \n        varying lowp vec4 vColour;\n        \n        void main() {\n          vLighting = calculateLighting();\n\n          gl_Position = calculatePosition();\n\n          vColour = ${vertexColourAttributeName};                    \n        }\n        \n      `);\n\nObject.assign(vertexShaderSource, {\n  vertexColourAttributeName\n});\n\nmodule.exports = vertexShaderSource;\n","'use strict';\n\nconst fragmentShaderSource = new String(`\n        \n        varying lowp vec4 vColour;\n              \n        varying highp vec3 vLighting;\n\n        void main() {\n          gl_FragColor = vec4(vColour.rgb * vLighting, vColour.a);\n        }\n        \n      `);\n\nmodule.exports = fragmentShaderSource;\n","'use strict';\n\nconst vertexNormalComponents = 3,\n      vertexPositionComponents = 3;\n\nclass RendererBuffers {\n  constructor(vertexPositionsBuffer, vertexNormalsBuffer, vertexIndexesElementBuffer) {\n    this.vertexPositionsBuffer = vertexPositionsBuffer;\n    this.vertexNormalsBuffer = vertexNormalsBuffer;\n    this.vertexIndexesElementBuffer = vertexIndexesElementBuffer;\n  }\n\n  createVertexPositionsBuffer(vertexPositionsData, canvas) {\n    this.vertexPositionsBuffer = canvas.createBuffer(vertexPositionsData);\n  }\n\n  createVertexNormalsBuffer(vertexNormalsData, canvas) {\n    this.vertexNormalsBuffer = canvas.createBuffer(vertexNormalsData);\n  }\n\n  createVertexIndexesElementBuffer(vertexIndexesData, canvas) {\n    this.vertexIndexesElementBuffer = canvas.createElementBuffer(vertexIndexesData);\n  }\n\n  bindVertexNormalsBuffer(vertexNormalAttributeLocation, canvas) {\n    canvas.bindBuffer(this.vertexNormalsBuffer, vertexNormalAttributeLocation, vertexNormalComponents);\n  }\n\n  bindVertexPositionsBuffer(vertexPositionAttributeLocation, canvas) {\n    canvas.bindBuffer(this.vertexPositionsBuffer, vertexPositionAttributeLocation, vertexPositionComponents);\n  }\n\n  bindVertexIndexesElementBuffer(canvas) {\n    canvas.bindElementBuffer(this.vertexIndexesElementBuffer);\n  }\n\n  createBuffers(vertexPositionsData, vertexNormalsData, vertexIndexesData, canvas) {\n    this.createVertexPositionsBuffer(vertexPositionsData, canvas);\n    this.createVertexNormalsBuffer(vertexNormalsData, canvas);\n    this.createVertexIndexesElementBuffer(vertexIndexesData, canvas);\n  }\n\n  bindBuffers(vertexNormalAttributeLocation, vertexPositionAttributeLocation, canvas) {\n    this.bindVertexNormalsBuffer(vertexNormalAttributeLocation, canvas);\n    this.bindVertexPositionsBuffer(vertexPositionAttributeLocation, canvas);\n    this.bindVertexIndexesElementBuffer(canvas);\n  }\n\n  static fromNothing(Class, ...remainingArguments) {\n    const vertexPositionsBuffer = null, ///\n          vertexNormalsBuffer = null, ///\n          vertexIndexesElementBuffer = null,  ///\n          rendererBuffers = new Class(vertexPositionsBuffer, vertexNormalsBuffer, vertexIndexesElementBuffer, ...remainingArguments);\n\n    return rendererBuffers;\n  }\n}\n\nmodule.exports = RendererBuffers;\n","'use strict';\n\nconst lightingSource = require('../source/lighting'),\n      positionSource = require('../source/position');\n\nconst { normalsMatrixName } = lightingSource,\n      { offsetsMatrixName, rotationsMatrixName, positionMatrixName, projectionMatrixName } = positionSource;\n\nclass UniformLocations {\n  constructor(offsetsMatrixUniformLocation, normalsMatrixUniformLocation, positionMatrixUniformLocation, rotationsMatrixUniformLocation, projectionMatrixUniformLocation) {\n    this.offsetsMatrixUniformLocation = offsetsMatrixUniformLocation;\n    this.normalsMatrixUniformLocation = normalsMatrixUniformLocation;\n    this.positionMatrixUniformLocation = positionMatrixUniformLocation;\n    this.rotationsMatrixUniformLocation = rotationsMatrixUniformLocation;\n    this.projectionMatrixUniformLocation = projectionMatrixUniformLocation;\n  }\n\n  getOffsetsMatrixUniformLocation() {\n    return this.offsetsMatrixUniformLocation;\n  }\n\n  getNormalsMatrixUniformLocation() {\n    return this.normalsMatrixUniformLocation;\n  }\n\n  getPositionMatrixUniformLocation() {\n    return this.positionMatrixUniformLocation;\n  }\n\n  getRotationsMatrixUniformLocation() {\n    return this.rotationsMatrixUniformLocation;\n  }\n\n  getProjectionMatrixUniformLocation() {\n    return this.projectionMatrixUniformLocation;\n  }\n\n  static fromProgram(Class, program, canvas, ...remainingArguments) {\n    const offsetsMatrixUniformLocation = canvas.getUniformLocation(program, offsetsMatrixName),\n          normalsMatrixUniformLocation = canvas.getUniformLocation(program, normalsMatrixName),\n          positionMatrixUniformLocation = canvas.getUniformLocation(program, positionMatrixName),\n          rotationsMatrixUniformLocation = canvas.getUniformLocation(program, rotationsMatrixName),\n          projectionMatrixUniformLocation = canvas.getUniformLocation(program, projectionMatrixName),\n          uniformLocations = new Class(offsetsMatrixUniformLocation, normalsMatrixUniformLocation, positionMatrixUniformLocation, rotationsMatrixUniformLocation, projectionMatrixUniformLocation, ...remainingArguments);\n    \n    return uniformLocations;       \n  }\n}\n\nmodule.exports = UniformLocations;\n","'use strict';\n\nconst lightingSource = require('../source/lighting'),\n      positionSource = require('../source/position');\n\nconst { vertexNormalAttributeName } = lightingSource,\n      { vertexPositionAttributeName } = positionSource;\n\nclass AttributeLocations {\n  constructor(vertexPositionAttributeLocation, vertexNormalAttributeLocation) {\n    this.vertexPositionAttributeLocation = vertexPositionAttributeLocation;\n    this.vertexNormalAttributeLocation = vertexNormalAttributeLocation;\n  }\n  \n  getVertexPositionAttributeLocation() {\n    return this.vertexPositionAttributeLocation;\n  }\n  \n  getVertexNormalAttributeLocation() {\n    return this.vertexNormalAttributeLocation;\n  }\n  \n  static fromProgram(Class, program, canvas, ...remainingArguments) {\n    const vertexPositionAttributeLocation = canvas.getAttributeLocation(program, vertexPositionAttributeName),\n          vertexNormalAttributeLocation = canvas.getAttributeLocation(program, vertexNormalAttributeName),\n          attributeLocations = new Class(vertexPositionAttributeLocation, vertexNormalAttributeLocation, ...remainingArguments);\n\n    return attributeLocations;\n  }  \n}\n\nmodule.exports = AttributeLocations;\n","'use strict';\n\nconst arrayUtilities = require('../../utilities/array'),\n      TextureRenderer = require('../../renderer/texture');\n\nconst { push, first } = arrayUtilities;\n\nconst add = push; ///\n\nclass ImagesTextureRenderer extends TextureRenderer {\n\tconstructor(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations, imageNames, facetsMap, offsets) {\n\t\tsuper(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations);\n\n\t\tthis.imageNames = imageNames;\n\n\t\tthis.facetsMap = facetsMap;\n\n\t\tthis.offsets = offsets;\n\t}\n\n\taddFacets(facets) {\n\t  const texturedFacets = facets,  ///\n          texturedFacetsLength = texturedFacets.length;\n\n\t  if (texturedFacetsLength > 0) {\n\t    const firstTexturedFacet = first(texturedFacets),\n            texturedFacet = firstTexturedFacet, ///\n            imageName = texturedFacet.getImageName(),\n            facets = this.facetsMap[imageName];\n\n\t    add(facets, texturedFacets)\n    }\n  }\n\n  createBuffers(canvas) {\n    const vertexIndexes = [],\n          vertexNormals = [],\n          vertexPositions = [],\n          vertexTextureCoordinateTuples = [];\n\n    let index = 0;\n\n    this.imageNames.forEach((imageName) => {\n      const facets = this.facetsMap[imageName];\n\n      facets.forEach((facet) => {\n        const texturedFacet = facet,  ///\n              facetVertexIndexes = facet.getVertexIndexes(index),\n              facetVertexNormals = facet.getVertexNormals(),\n              facetVertexPositions = facet.getVertexPositions(),\n              texturedFacetTextureCoordinateTuples = texturedFacet.getTextureCoordinateTuples(),\n              texturedFacetVertexTextureCoordinateTuples = texturedFacetTextureCoordinateTuples;  ///\n\n        add(vertexIndexes, facetVertexIndexes);\n        add(vertexNormals, facetVertexNormals);\n        add(vertexPositions, facetVertexPositions);\n        add(vertexTextureCoordinateTuples, texturedFacetVertexTextureCoordinateTuples);\n\n        index++;\n      });\n\n      const offset = index * 3;  ///\n\n      this.offsets.push(offset);\n    });\n\n    const rendererData = this.getRendererData();\n\n    rendererData.addVertexIndexes(vertexIndexes);\n    rendererData.addVertexNormals(vertexNormals);\n    rendererData.addVertexPositions(vertexPositions);\n    rendererData.addVertexTextureCoordinateTuples(vertexTextureCoordinateTuples);\n\n    super.createBuffers(canvas);\n  }\n\n  render(canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix) {\n    const program = this.getProgram();\n\n    canvas.useProgram(program);\n\n    this.bindBuffers(canvas);\n\n    const renderer = this;  ///\n\n    canvas.render(renderer, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);\n\n    let start,\n        finish = 0;  ///\n\n    this.offsets.forEach((offset, index) => {\n      start = finish; ///\n\n      finish = offset;  ///\n\n      this.useTexture(index, canvas);\n\n      canvas.drawElements(start, finish);\n    });\n  }\n\n  static fromImagesImageNamesAndImageTiling(images, imageNames, imageTiling, canvas) {\n    const offsets = [],\n          facetsMap = {};\n\n    images.forEach((image, index) => {\n      const facets = [],\n            repeat = imageTiling, ///\n            imageName = imageNames[index];\n\n      facetsMap[imageName] = facets;\n\n      canvas.createTexture(image, index, repeat);\n    });\n\n    const imagesTextureRenderer = TextureRenderer.fromNothing(ImagesTextureRenderer, canvas, imageNames, facetsMap, offsets);\n\n    return imagesTextureRenderer;\n  }\n}\n\nmodule.exports = ImagesTextureRenderer;\n","'use strict';\n\nconst arrayUtilities = require('../../utilities/array'),\n      TextureRenderer = require('../../renderer/texture');\n\nconst { push } = arrayUtilities;\n\nconst add = push; ///\n\nclass ImageMapTextureRenderer extends TextureRenderer {\n\tconstructor(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations, imageMapJSON) {\n\t\tsuper(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations);\n\n\t\tthis.imageMapJSON = imageMapJSON;\n\t}\n\n  createBuffers(canvas) {\n    const facets = this.getFacets(),\n          vertexIndexes = [],\n          vertexNormals = [],\n          vertexPositions = [],\n          vertexTextureCoordinateTuples = [];\n\n    facets.forEach((facet, index) => {\n      const texturedFacet = facet,  ///\n            facetVertexIndexes = facet.getVertexIndexes(index),\n            facetVertexNormals = facet.getVertexNormals(),\n            facetVertexPositions = facet.getVertexPositions(),\n            mappedTextureCoordinateTuples = texturedFacet.getMappedTextureCoordinateTuples(this.imageMapJSON),\n            texturedFacetVertexTextureCoordinateTuples = mappedTextureCoordinateTuples; ///\n\n      add(vertexIndexes, facetVertexIndexes);\n      add(vertexNormals, facetVertexNormals);\n      add(vertexPositions, facetVertexPositions);\n      add(vertexTextureCoordinateTuples, texturedFacetVertexTextureCoordinateTuples);\n    });\n\n    const rendererData = this.getRendererData();\n\n    rendererData.addVertexIndexes(vertexIndexes);\n    rendererData.addVertexNormals(vertexNormals);\n    rendererData.addVertexPositions(vertexPositions);\n    rendererData.addVertexTextureCoordinateTuples(vertexTextureCoordinateTuples);\n\n    super.createBuffers(canvas);\n  }\n\n  bindBuffers(canvas) {\n    const rendererBuffers = this.getRendererBuffers(),\n          vertexNormalAttributeLocation = this.getVertexNormalAttributeLocation(),\n          vertexPositionAttributeLocation = this.getVertexPositionAttributeLocation(),\n          textureCoordinateAttributeLocation = this.getTextureCoordinateAttributeLocation();\n\n    rendererBuffers.bindBuffers(vertexNormalAttributeLocation, vertexPositionAttributeLocation, textureCoordinateAttributeLocation, canvas);\n  }\n\n  useTexture(index, canvas) {\n    const uniformLocations = this.getUniformLocations(),\n          samplerUniformLocation = uniformLocations.getSamplerUniformLocation(),\n          samplerUniformLocationIntegerValue = index; ///\n\n    canvas.setUniformLocationIntegerValue(samplerUniformLocation, samplerUniformLocationIntegerValue);\n  }\n\n  render(canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix) {\n    const program = this.getProgram();\n\n    canvas.useProgram(program);\n\n    this.bindBuffers(canvas);\n\n    const renderer = this;  ///\n\n    canvas.render(renderer, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);\n\n    const rendererData = this.getRendererData(),\n          count = rendererData.getCount(),\n          index = 0,\n          start = 0,\n          finish = count; ///\n\n    this.useTexture(index, canvas);\n\n    canvas.drawElements(start, finish);\n  }\n\n  static fromImageMapAndImageMapJSON(imageMap, imageMapJSON, canvas) {\n    const image = imageMap, ///\n          index = 0,\n          repeat = false;\n\n    canvas.createTexture(image, index, repeat);\n\n    const imageMapTextureRenderer = TextureRenderer.fromNothing(ImageMapTextureRenderer, canvas, imageMapJSON);\n\n    return imageMapTextureRenderer;\n  }\n}\n\nmodule.exports = ImageMapTextureRenderer;\n","'use strict';\n\nconst Element = require('../element'),\n      ColourRenderer = require('../renderer/colour'),\n      ImagesTextureRenderer = require('../renderer/texture/images'),\n      ImageMapTextureRenderer = require('../renderer/texture/imageMap');\n\nclass Part extends Element {\n  constructor(images, imageMap, imageNames, imageTiling, imageMapJSON, colourRenderer, textureRenderer, hidden) {\n    super();\n\n    this.images = images;\n    this.imageMap = imageMap;\n    this.imageNames = imageNames;\n    this.imageTiling = imageTiling;\n    this.imageMapJSON = imageMapJSON;\n    this.colourRenderer = colourRenderer;\n    this.textureRenderer = textureRenderer;\n\n    this.hidden = hidden;\n  }\n  \n  render(canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix) {\n    this.colourRenderer && this.colourRenderer.render(canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);  ///\n\n    this.textureRenderer && this.textureRenderer.render(canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);  ///\n  }\n\n  initialise(canvas) {\n    let textureRenderer = null;\n\n    const colourRenderer = ColourRenderer.fromNothing(canvas);\n\n    if (this.images) {\n      const imagesTextureRenderer = ImagesTextureRenderer.fromImagesImageNamesAndImageTiling(this.images, this.imageNames, this.imageTiling, canvas);\n\n      textureRenderer = imagesTextureRenderer;  ///\n    }\n\n    if (this.imageMap) {\n      const imageMapTextureRenderer = ImageMapTextureRenderer.fromImageMapAndImageMapJSON(this.imageMap, this.imageMapJSON, canvas);\n\n      textureRenderer = imageMapTextureRenderer;  ///\n    }\n\n    const childElements = this.getChildElements();\n\n    childElements.forEach((childElement) => childElement.createFacets(this.hidden));\n\n    childElements.forEach((childElement) => childElement.amendFacets());\n\n    childElements.forEach((childElement) => childElement.addFacets(colourRenderer, textureRenderer));\n\n    colourRenderer && colourRenderer.createBuffers(canvas); ///\n\n    textureRenderer && textureRenderer.createBuffers(canvas); ///\n\n    this.colourRenderer = colourRenderer;\n\n    this.textureRenderer = textureRenderer;\n  }\n\n  static fromProperties(properties) {\n    const { images = null, imageMap = null, imageNames = null, imageTiling = false, imageMapJSON = null, hidden = false } = properties,\n          colourRenderer = null,  ///\n          textureRenderer = null, ///\n          part = Element.fromProperties(Part, properties, images, imageMap, imageNames, imageTiling, imageMapJSON, colourRenderer, textureRenderer, hidden);\n\n    return part;\n  }\n}\n\nmodule.exports = Part;\n","'use strict';\n\nconst Element = require('../element');\n\nclass Camera extends Element {\n  constructor(pan, tilt) {\n    super();\n\n    this.pan = pan;\n\n    this.tilt = tilt;\n  }\n\n  getPan() {\n    return this.pan;\n  }\n\n  getTilt() {\n    return this.tilt;\n  }\n\n  static fromProperties(Class, properties, ...remainingArguments) { return Element.fromProperties(Class, properties, ...remainingArguments); }\n}\n\nmodule.exports = Camera;\n","'use strict';\n\nconst constants = require('../constants');\n\nconst { SHIFT_KEY_CODE } = constants;\n\nclass KeyEvents {\n  constructor(handlers, shiftKeyDown) {\n    this.handlers = handlers;\n    this.shiftKeyDown = shiftKeyDown;\n  }\n\n  isShiftKeyDown() {\n    return this.shiftKeyDown;\n  }\n\n  keyUpEventListener(event) {\n    const { keyCode } = event;\n\n    if (keyCode === SHIFT_KEY_CODE) {\n      this.shiftKeyDown = false;\n\n      this.handlers.forEach((handler) => handler(this.shiftKeyDown));\n    }\n  }\n\n  keyDownEventListener(event) {\n    const { keyCode } = event;\n\n    if (keyCode === SHIFT_KEY_CODE) {\n      this.shiftKeyDown = true;\n\n      this.handlers.forEach((handler) => handler(this.shiftKeyDown));\n    }\n  }\n\n  addShiftKeyHandler(shiftKeyHandler) {\n    const handler = shiftKeyHandler;  ///\n\n    this.handlers.push(handler);\n  }\n\n  initialise(canvas) {\n    const documentDOMElement = document.documentElement,  ///\n          keyUpEventListener = this.keyUpEventListener.bind(this),\n          keyDownEventListener = this.keyDownEventListener.bind(this);\n\n    documentDOMElement.addEventListener('keyup', keyUpEventListener);\n\n    documentDOMElement.addEventListener('keydown', keyDownEventListener);\n  }\n\n  static fromNothing() {\n    const handlers = [],\n          shiftKeyDown = false,  ///\n          keyEvents = new KeyEvents(handlers, shiftKeyDown);\n\n    return keyEvents;\n  }\n}\n\nmodule.exports = KeyEvents;\n","'use strict';\n\nconst constants = require('../constants');\n\nconst { MOUSE_UP, MOUSE_DOWN, MOUSE_MOVE, MOUSE_WHEEL } = constants;\n\nclass MouseEvents {\n  constructor(handlersMap, mouseDown) {\n    this.handlersMap = handlersMap;\n    this.mouseDown = mouseDown;\n  }\n\n  mouseEventListener(event, eventType) {\n    const handlers = this.handlersMap[eventType],\n          mouseCoordinates = mouseCoordinatesFromEvent(event);\n\n    handlers.forEach((handler) => handler(mouseCoordinates, this.mouseDown));\n\n    event.preventDefault();\n  }\n\n  mouseUpEventListener(event) {\n    this.mouseDown = false;\n\n    this.mouseEventListener(event, MOUSE_UP);\n  }\n\n\tmouseDownEventListener(event) {\n    this.mouseDown = true;\n\n    this.mouseEventListener(event, MOUSE_DOWN);\n  }\n\n\tmouseMoveEventListener(event) {\n    this.mouseEventListener(event, MOUSE_MOVE);\n  }\n\n  mouseWheelEventListener(event) {\n    const handlers = this.handlersMap[ MOUSE_WHEEL ],\n          mouseWheelDelta = mouseWheelDeltaFromEvent(event);\n\n    handlers.forEach((handler) => handler(mouseWheelDelta));\n\n\t\tevent.preventDefault();\n  }\n\n  addMouseUpHandler(mouseUpHandler) {\n    const mouseUpHandlers = this.handlersMap[ MOUSE_UP ];\n\n    mouseUpHandlers.push(mouseUpHandler);\n  }\n\n  addMouseDownHandler(mouseDownHandler) {\n    const mouseDownHandlers = this.handlersMap[ MOUSE_DOWN ];\n\n    mouseDownHandlers.push(mouseDownHandler);\n  }\n\n  addMouseMoveHandler(mouseMoveHandler) {\n    const mouseMoveHandlers = this.handlersMap[ MOUSE_MOVE ];\n\n    mouseMoveHandlers.push(mouseMoveHandler);\n  }\n\n  addMouseWheelHandler(mouseWheelHandler) {\n    const mouseWheelHandlers = this.handlersMap[ MOUSE_WHEEL ];\n\n    mouseWheelHandlers.push(mouseWheelHandler);\n  }\n\n  initialise(canvas) {\n      const canvasDOMElement = canvas.getDOMElement(),\n            mouseUpEventListener = this.mouseUpEventListener.bind(this),\n            mouseDownEventListener = this.mouseDownEventListener.bind(this),\n            mouseMoveEventListener = this.mouseMoveEventListener.bind(this),\n            mouseWheelEventListener = this.mouseWheelEventListener.bind(this);\n\n    this.handlersMap[ MOUSE_UP ] = [];\n    this.handlersMap[ MOUSE_DOWN ] = [];\n    this.handlersMap[ MOUSE_MOVE ] = [];\n    this.handlersMap[ MOUSE_WHEEL ] = [];\n\n    canvasDOMElement.addEventListener('mouseup', mouseUpEventListener);\n\n    canvasDOMElement.addEventListener('mousedown', mouseDownEventListener);\n\n    canvasDOMElement.addEventListener('mousemove', mouseMoveEventListener);\n\n    canvasDOMElement.addEventListener('mousewheel', mouseWheelEventListener);\n  }\n\n  static fromNothing() {\n    const handlersMap = {},\n          mouseDown = false,  ///\n\t\t\t\t\tmouseEvents = new MouseEvents(handlersMap, mouseDown);\n\n    return mouseEvents;\n  }\n}\n\nmodule.exports = MouseEvents;\n\nfunction mouseWheelDeltaFromEvent(event) {\n  const mouseWheelDelta = Math.max(-1, Math.min(1, event.wheelDelta)); ///\n\n  return mouseWheelDelta;\n}\n\nfunction mouseCoordinatesFromEvent(event) {\n  const { target, clientX, clientY } = event,\n        canvasDOMElement = target,  ///\n        boundingClientRect = canvasDOMElement.getBoundingClientRect(),\n        top = boundingClientRect.top,\n        left = boundingClientRect.left,\n        mouseCoordinates = [\n\n          clientX - left,\n\n          top - clientY,\n\n        ];\n\n  return mouseCoordinates;\n}\n","'use strict';\n\nconst KeyEvents = require('./keyEvents'),\n      MouseEvents = require('./mouseEvents'),\n      vectorMaths = require('../maths/vector');\n\nconst { zero2, subtract2 } = vectorMaths;\n\nclass UserInput {\n  constructor(handlers, keyEvents, mouseEvents, mouseCoordinates, previousMouseCoordinates) {\n    this.handlers = handlers;\n    this.keyEvents = keyEvents;\n    this.mouseEvents = mouseEvents;\n    this.mouseCoordinates = mouseCoordinates;\n    this.previousMouseCoordinates = previousMouseCoordinates;\n  }\n\n  mouseMoveHandler(mouseCoordinates, mouseDown, canvas) {\n    this.previousMouseCoordinates = this.mouseCoordinates;  ///\n\n    this.mouseCoordinates = mouseCoordinates;\n\n    if (this.previousMouseCoordinates === null) {\n      return;\n    }\n\n    if (mouseDown) {\n      const mouseWheelDelta = 0,  ///\n            shiftKeyDown = this.keyEvents.isShiftKeyDown(),\n            relativeMouseCoordinates = subtract2(this.mouseCoordinates, this.previousMouseCoordinates);\n\n      this.handlers.forEach((handler) => handler(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown));\n    }\n  }\n\n  mouseWheelHandler(mouseWheelDelta, canvas) {\n    const shiftKeyDown = this.keyEvents.isShiftKeyDown(),\n          relativeMouseCoordinates = zero2();\n\n    this.handlers.forEach((handler) => handler(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown));\n  }\n\n  addUserInputHandler(userInputHandler) {\n    const handler = userInputHandler; ///\n\n    this.handlers.push(handler);\n  }\n\n  initialise(canvas) {\n    const mouseMoveHandler = this.mouseMoveHandler.bind(this),\n          mouseWheelHandler = this.mouseWheelHandler.bind(this);\n\n    this.keyEvents.initialise(canvas);\n\n    this.mouseEvents.initialise(canvas);\n\n    this.mouseEvents.addMouseMoveHandler(mouseMoveHandler);\n\n    this.mouseEvents.addMouseWheelHandler(mouseWheelHandler);\n  }\n\n  static fromNothing() {\n    const handlers = [],\n          keyEvents = KeyEvents.fromNothing(),\n          mouseEvents = MouseEvents.fromNothing(),\n          mouseCoordinates = null,  ///\n          previousMouseCoordinates = null,  ///\n          userInput = new UserInput(handlers, keyEvents, mouseEvents, mouseCoordinates, previousMouseCoordinates);\n\n    return userInput;\n  }\n}\n\nmodule.exports = UserInput;\n","'use strict';\n\nconst necessary = require('necessary');\n\nconst Part = require('../element/part'),\n      Camera = require('../element/camera'),\n      Element = require('../element'),\n      UserInput = require('../miscellaneous/userInput'),\n      vectorMaths = require('../maths/vector');\n\nconst { asynchronousUtilities } = necessary,\n      { forEach } = asynchronousUtilities,\n      { zero2 } = vectorMaths;\n\nclass Scene extends Element {\n  constructor(parts, camera, canvas) {\n    super();\n\n    this.parts = parts;\n\n    this.camera = camera;\n\n    this.canvas = canvas;\n  }\n\n  windowResizeHandler() {\n    const clientWidth = this.canvas.getClientWidth(),\n          clientHeight = this.canvas.getClientHeight(),\n          width = clientWidth,  ///\n          height = clientHeight,  ///\n          render = this.render.bind(this),\n          callback = render;  ///\n\n    this.canvas.resize(width, height);\n\n    const relativeMouseCoordinates = zero2(), ///\n          mouseWheelDelta = 0,  ///\n          shiftKeyDown = false; ///\n\n    this.camera.update(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown, width, height, callback);\n  }\n\n  userInputHandler(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown) {\n    const width = this.canvas.getWidth(),\n          height = this.canvas.getHeight(),\n          render = this.render.bind(this),\n          callback = render;  ///\n\n    this.camera.update(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown, width, height, callback);\n  }\n\n  render(offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix) {\n    this.canvas.clear();\n\n    this.parts.forEach((part) => part.render(this.canvas, offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix));\n  }\n\n  initialise(canvas, update, done) {\n    const userInput = UserInput.fromNothing(),\n          userInputHandler = this.userInputHandler.bind(this),\n          windowResizeHandler = this.windowResizeHandler.bind(this);\n\n    userInput.initialise(canvas);\n\n    initialiseParts(this.parts, update, canvas, () => {\n      window.onresize = windowResizeHandler;\n\n      userInput.addUserInputHandler(userInputHandler);\n\n      this.windowResizeHandler(); ///\n\n      done && done(); ///\n    });\n  }\n\n  static fromProperties(properties) {\n    const { canvas, done, update, childElements } = properties,\n          parts = partsFromChildElements(childElements),\n          camera = cameraFromChildElements(childElements),\n          scene = Element.fromProperties(Scene, properties, parts, camera, canvas);\n\n    scene.initialise(canvas, update, done);\n\n    return scene;\n  }\n}\n\nmodule.exports = Scene;\n\nfunction defer(callback) {\n  setTimeout(callback, 0);\n}\n\nfunction initialiseParts(parts, update, canvas, done) {\n  forEach(parts, (part, next, done, context, index) => {\n    const partsLength = parts.length,\n          progress = ( index + 1 ) / partsLength;\n\n    part.initialise(canvas);\n\n    defer(() => {\n      update && update(progress); ///\n\n      next();\n    });\n  }, done);\n}\n\nfunction partsFromChildElements(childElements) {\n  const parts = childElements.reduce((parts, childElement) => {\n    if (childElement instanceof Part) {\n      const part = childElement;  ///\n\n      parts.push(part);\n    }\n    return parts;\n  }, []);\n\n  return parts;\n}\n\nfunction cameraFromChildElements(childElements) {\n  const camera = childElements.reduce((camera, childElement) => {\n    if (camera === null) {\n      if (childElement instanceof Camera) {\n        camera = childElement;  ///\n      }\n    }\n\n    return camera;\n  }, null);\n\n  return camera;\n}\n","'use strict';\n\nconst vectorMaths = require('../maths/vector'),\n      matrixUtilities = require('../utilities/matrix');\n\nconst { reflect3, transform4 } = vectorMaths,\n      { rotationsMatrixFromAngles } = matrixUtilities;\n\nfunction relativeOffsetsFromAnglesAndDirections(angles, directions) {\n  const reverseOrder = true,\n        reflectedAngles = reflect3(angles),\n        rotationsMatrix = rotationsMatrixFromAngles(reflectedAngles, reverseOrder),\n        relativeOffsets = transform4(directions, rotationsMatrix).slice(0, 3); ///\n\n  return relativeOffsets;\n}\n\nmodule.exports = {\n  relativeOffsetsFromAnglesAndDirections\n};\n","'use strict';\n\nconst constants = require('../constants'),\n      vectorMaths = require('../maths/vector'),\n      offsetsUtilities = require('../utilities/offsets');\n\nconst { add3, scale2, reflect2, scale3 } = vectorMaths,\n      { relativeOffsetsFromAnglesAndDirections } = offsetsUtilities,\n      { DELTA_SCALAR, INVERT_SCALAR, OFFSET_SCALAR } = constants;\n\nclass Pan {\n  constructor(offsets) {\n    this.offsets = offsets;\n  }\n\n  getOffsets() {\n    return this.offsets;\n  }\n\n  updateOffsets(relativeMouseCoordinates, mouseWheelDelta, tilt) {\n    const angles = tilt.getAngles(),\n          scaledMouseWheelDelta = mouseWheelDelta * DELTA_SCALAR,\n          scaledReflectedRelativeMouseCoordinates = reflect2(scale2(relativeMouseCoordinates, OFFSET_SCALAR)),\n          directions = [ ...scaledReflectedRelativeMouseCoordinates, scaledMouseWheelDelta, 0 ],\n          relativeOffsets = relativeOffsetsFromAnglesAndDirections(angles, directions);\n\n    this.offsets = add3(this.offsets, relativeOffsets);\n  }\n\n  static fromInitialOffsets(initialOffsets) {\n    const offsets = initialOffsets, ///\n          pan = new Pan(offsets);\n\n    return pan;\n  }\n\n  static fromInitialPosition(initialPosition) {\n    const offsets = scale3(initialPosition, INVERT_SCALAR),\n          pan = new Pan(offsets);\n    \n    return pan;\n  }\n}\n\nmodule.exports = Pan;\n","'use strict';\n\nconst constants = require('../constants'),\n      vectorMaths = require('../maths/vector'),\n      arrayUtilities = require('../utilities/array');\n\nconst { first, second } = arrayUtilities,\n      { add3, transform3 } = vectorMaths,\n      { ANGLES_SCALAR, DEGREES_TO_RADIANS_SCALAR } = constants;\n\nclass Tilt {\n  constructor(angles, flipped) {\n    this.angles = angles;\n    this.flipped = flipped;\n  }\n\n  getXAngle() {\n    const firstAngle = first(this.angles),\n          xAngle = firstAngle;  ///\n\n    return xAngle;\n  }\n  \n  getYAngle() {\n    const secondAngle = second(this.angles),\n          yAngle = secondAngle; ///\n\n    return yAngle;\n  }\n\n  getZAngle() {\n    const zAngle = 0;\n\n    return zAngle;\n  }\n  \n  getAngles() {\n    return this.angles;\n  }\n  \n  updateAngles(relativeMouseCoordinates) {\n    const scalar = this.flipped ?\n                     +ANGLES_SCALAR :\n                       -ANGLES_SCALAR,\n          matrix = [\n\n                  0, scalar, 0,\n            -scalar,      0, 0,\n                  0,      0, 0,\n\n          ],\n          relativeAngles = transform3([ ...relativeMouseCoordinates, 0 ], matrix);  ///\n\n    this.angles = add3(this.angles, relativeAngles);\n  }\n\n  static fromInitialAnglesAndFlipped(initialAngles, flipped) {\n    const scalar = flipped ?\n                     +DEGREES_TO_RADIANS_SCALAR :\n                       -DEGREES_TO_RADIANS_SCALAR,\n          matrix = [\n\n                  0, scalar, 0,\n            -scalar,      0, 0,\n                  0,      0, 0,\n\n          ],\n          angles = transform3([ ...initialAngles, 0 ], matrix), ///\n          tilt = new Tilt(angles, flipped);\n\n    return tilt;\n  }\n}\n\nmodule.exports = Tilt;\n","'use strict';\n\nconst Pan = require('../../miscellaneous/pan'),\n      Tilt = require('../../miscellaneous/tilt'),\n\n      Camera = require('../camera'),\n      vectorMaths = require('../../maths/vector'),\n      matrixUtilities = require('../../utilities/matrix');\n\nconst { zero2 } = vectorMaths,\n      { offsetsMatrixFromOffsets, rotationsMatrixFromAngles, positionMatrixFromNothing, projectionMatrixFromWidthAndHeight, normalsMatrixFromRotationsMatrix } = matrixUtilities;\n\nconst defaultInitialAngles = zero2(),\n      defaultInitialPosition = [ 0, 0, 5 ];\n\n\nclass GamingCamera extends Camera {\n\n\n\n\n\n\n  update(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown, width, height, callback) {\n    const pan = this.getPan(),\n          tilt = this.getTilt();\n\n    if (false) {\n      ///\n    } else if (shiftKeyDown) {\n      pan.updateOffsets(relativeMouseCoordinates, mouseWheelDelta, tilt);\n    } else if (mouseWheelDelta !== 0) {\n      pan.updateOffsets(relativeMouseCoordinates, mouseWheelDelta, tilt);\n    } else {\n      tilt.updateAngles(relativeMouseCoordinates);\n    }\n\n    const angles = tilt.getAngles(),\n          offsets = pan.getOffsets(),\n\n          offsetsMatrix = offsetsMatrixFromOffsets(offsets),\n          positionMatrix = positionMatrixFromNothing(),\n          rotationsMatrix = rotationsMatrixFromAngles(angles),\n          projectionMatrix = projectionMatrixFromWidthAndHeight(width, height),\n          normalsMatrix = normalsMatrixFromRotationsMatrix(rotationsMatrix);\n\n    callback(offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);\n  }\n\n  static fromProperties(properties) {\n    const { initialAngles = defaultInitialAngles, initialPosition = defaultInitialPosition } = properties,\n          flipped = true,\n          pan = Pan.fromInitialPosition(initialPosition),\n          tilt = Tilt.fromInitialAnglesAndFlipped(initialAngles, flipped),\n\n          gamingCamera = Camera.fromProperties(GamingCamera, properties, pan, tilt);\n\n    return gamingCamera;\n  }\n}\n\nmodule.exports = GamingCamera;\n","'use strict';\n\nconst constants = require('../constants');\n\nconst { DELTA_SCALAR, MINIMUM_DISTANCE } = constants;\n\nclass Zoom {\n  constructor(distance) {\n    this.distance = distance;\n  }\n\n  getDistance() {\n    return this.distance;\n  }\n\n  updateDistance(mouseWheelDelta) {\n    this.distance -= mouseWheelDelta * DELTA_SCALAR;\n\n    this.distance = Math.max(MINIMUM_DISTANCE, this.distance);\n  }\n  \n  static fromInitialDistance(initialDistance) {\n    const distance = initialDistance, ///\n          zoom = new Zoom(distance);\n    \n    return zoom;\n  }\n}\n\nmodule.exports = Zoom;\n","'use strict';\n\nconst Pan = require('../../miscellaneous/pan'),\n      Tilt = require('../../miscellaneous/tilt'),\n      Zoom = require('../../miscellaneous/zoom'),\n      Camera = require('../camera'),\n      vectorMaths = require('../../maths/vector'),\n      matrixUtilities = require('../../utilities/matrix');\n\nconst { zero2, zero3 } = vectorMaths,\n      { offsetsMatrixFromOffsets, rotationsMatrixFromAngles, positionMatrixFromDistance, projectionMatrixFromWidthAndHeight, normalsMatrixFromRotationsMatrix } = matrixUtilities;\n\nconst defaultInitialAngles = zero2(),\n      defaultInitialOffsets = zero3(),\n      defaultInitialDistance = 5;\n\nclass DesignCamera extends Camera {\n  constructor(pan, tilt, zoom) {\n    super(pan, tilt);\n\n    this.zoom = zoom;\n  }\n\n  update(relativeMouseCoordinates, mouseWheelDelta, shiftKeyDown, width, height, callback) {\n    const pan = this.getPan(),\n          tilt = this.getTilt();\n\n    if (false) {\n      ///\n    } else if (shiftKeyDown) {\n      pan.updateOffsets(relativeMouseCoordinates, mouseWheelDelta, tilt);\n    } else if (mouseWheelDelta !== 0) {\n      this.zoom.updateDistance(mouseWheelDelta);\n    } else {\n      tilt.updateAngles(relativeMouseCoordinates);\n    }\n\n    const angles = tilt.getAngles(),\n          offsets = pan.getOffsets(),\n          distance = this.zoom.getDistance(),\n          offsetsMatrix = offsetsMatrixFromOffsets(offsets),\n          positionMatrix = positionMatrixFromDistance(distance),\n          rotationsMatrix = rotationsMatrixFromAngles(angles),\n          projectionMatrix = projectionMatrixFromWidthAndHeight(width, height),\n          normalsMatrix = normalsMatrixFromRotationsMatrix(rotationsMatrix);\n\n    callback(offsetsMatrix, normalsMatrix, positionMatrix, rotationsMatrix, projectionMatrix);\n  }\n\n  static fromProperties(properties) {\n    const { initialAngles = defaultInitialAngles, initialOffsets = defaultInitialOffsets, initialDistance = defaultInitialDistance } = properties,\n          flipped = false,\n          pan = Pan.fromInitialOffsets(initialOffsets),\n          tilt = Tilt.fromInitialAnglesAndFlipped(initialAngles, flipped),\n          zoom = Zoom.fromInitialDistance(initialDistance),\n          designCamera = Camera.fromProperties(DesignCamera, properties, pan, tilt, zoom);\n\n    return designCamera;\n  }\n}\n\nmodule.exports = DesignCamera;\n","'use strict';\n\nconst vectorMaths = require('../maths/vector'),\n      arrayUtilities = require('../utilities/array');\n\nconst { first, second, third } = arrayUtilities,\n      { normalise3, subtract3, cross3 } = vectorMaths;\n\nclass Normal {\n  constructor(extent) {\n    this.extent = extent;\n  }\n\n  clone() {\n    const extent = cloneExtent(this.extent),\n          normal = new Normal(extent);\n\n    return normal;\n  }\n\n  getExtent() {\n    return this.extent;\n  }\n  \n  static fromVertices(vertices) {\n    const firstVertex = first(vertices),\n          secondVertex = second(vertices),\n          thirdVertex = third(vertices),\n          firstPosition = firstVertex.getPosition(),\n          secondPosition = secondVertex.getPosition(),\n          thirdPosition = thirdVertex.getPosition(),\n          firstExtent = subtract3(secondPosition, firstPosition),\n          secondExtent = subtract3(thirdPosition, firstPosition),\n          extent = normalise3(cross3(firstExtent, secondExtent)),\n          normal = new Normal(extent);\n\n    return normal;\n  }\n}\n\nmodule.exports = Normal;\n\nfunction cloneExtent(extent) { return extent.slice(); }\n","'use strict';\n\nconst rotationUtilities = require('../utilities/rotation');\n\nconst { rotatePosition } = rotationUtilities;\n\nclass Vertex {\n  constructor(position) {\n    this.position = position;\n  }\n\n  getPosition() {\n    return this.position;\n  }\n\n  clone() {\n    const position = this.position.slice(), ///\n          vertex = new Vertex(position);\n\n    return vertex;\n  }\n\n  rotate(rotationQuaternion) {\n    this.position = rotatePosition(this.position, rotationQuaternion);\n  }\n\n  applyTransform(transform) {\n    this.position = transform(this.position);\n  }\n\n  static fromPosition(position) {\n    const vertex = new Vertex(position);\n    \n    return vertex;\n  }\n  \n  static fromCoordinateTuple(coordinateTuple) {\n    const position = coordinateTuple.slice(), ///\n          vertex = new Vertex(position);\n\n    return vertex;\n  }\n}\n\nmodule.exports = Vertex;\n","'use strict';\n\nconst constants = require('../constants'),\n      vectorMaths = require('../maths/vector'),\n      arrayUtilities = require('../utilities/array');\n\nconst { VERTICES_LENGTH } = constants,\n      { first, second, third } = arrayUtilities,\n      { subtract3, cross3, length3 } = vectorMaths;\n\nfunction cloneEdges(edges) {\n  edges = edges.map((edge) => edge.clone());\n\n  return edges;\n}\n\nfunction cloneNormal(normal) {\n  normal = normal.clone();\n  \n  return normal;\n}\n\nfunction cloneVertices(vertices) {\n  vertices = vertices.map((vertex) => vertex.clone());\n\n  return vertices;\n}\n\nfunction calculateEdges(vertices, Edge) {\n  const edges = vertices.map((vertex, index) => {\n    const startIndex = index, ///\n          endIndex = (startIndex + 1) % VERTICES_LENGTH,\n          startVertex = vertices[startIndex],\n          endVertex = vertices[endIndex],\n          edge = Edge.fromStartVertexAndEndVertex(startVertex, endVertex);\n\n    return edge;\n  });\n\n  return edges;\n}\n\nfunction calculateNormal(vertices, Normal) {\n  const normal = Normal.fromVertices(vertices);\n\n  return normal;\n}\n\nfunction calculateArea(vertices) {\n  const firstVertex = first(vertices),\n        secondVertex = second(vertices),\n        thirdVertex = third(vertices),\n        firstVertexPosition = firstVertex.getPosition(),\n        secondVertexPosition = secondVertex.getPosition(),\n        thirdVertexPosition = thirdVertex.getPosition(),\n        firstExtent = subtract3(secondVertexPosition, firstVertexPosition),\n        secondExtent = subtract3(thirdVertexPosition, firstVertexPosition),\n        area = length3(cross3(firstExtent, secondExtent)) / 2;\n\n  return area;\n}\n\nmodule.exports = {\n  cloneEdges,\n  cloneNormal,\n  cloneVertices,\n  calculateEdges,\n  calculateNormal,\n  calculateArea\n};\n","'use strict';\n\nconst Edge = require('../edge'),\n      Facet = require('../facet'),\n      Normal = require('../normal'),\n      Vertex = require('../vertex'),\n      facetUtilities = require('../../utilities/facet'),\n      verticesUtilities = require('../../utilities/vertices'),\n      approximateUtilities = require('../../utilities/approximate');\n\nconst { isApproximatelyEqualToZero } = approximateUtilities,\n      { verticesFromCoordinateTuplesAndIndexTuple } = verticesUtilities,\n      { cloneEdges, cloneNormal, cloneVertices, calculateArea, calculateEdges, calculateNormal } = facetUtilities;\n\nclass ColouredFacet extends Facet {\n  constructor(vertices, normal, edges, rgba) {\n    super(vertices, normal, edges);\n    \n    this.rgba = rgba;\n  }\n\n  clone() {\n    let vertices = this.getVertices(),\n        normal = this.getNormal(),\n        edges = this.getEdges();\n\n    vertices = cloneVertices(vertices);\n    normal = cloneNormal(normal);\n    edges = cloneEdges(edges);\n\n    const rgba = this.rgba,\n          colouredFacet = new ColouredFacet(vertices, normal, edges, rgba);\n\n    return colouredFacet;\n  }\n\n  getVertexColours() {\n    const vertexColour = this.rgba, ///\n          vertexColours = [\n            vertexColour,\n            vertexColour,\n            vertexColour,\n          ];\n    \n    return vertexColours;\n  }\n\n  fromVertices(vertices) {\n    let colouredFacet = null;\n\n    const area = calculateArea(vertices),\n          areaApproximatelyEqualToZero = isApproximatelyEqualToZero(area),\n          largeEnough = !areaApproximatelyEqualToZero;  ///\n\n    if (largeEnough) {\n      const rgba = this.rgba,\n            normal = calculateNormal(vertices, Normal),\n            edges = calculateEdges(vertices, Edge);\n\n      colouredFacet = new ColouredFacet(vertices, normal, edges, rgba);\n    }\n\n    return colouredFacet;\n  }\n\n  static fromCoordinateTuplesIndexTupleAndColour(coordinateTuples, indexTuple, colour) {\n    let colouredFacet = null;\n\n    const vertices = verticesFromCoordinateTuplesAndIndexTuple(coordinateTuples, indexTuple, Vertex),\n          area = calculateArea(vertices),\n          areaApproximatelyEqualToZero = isApproximatelyEqualToZero(area),\n          largeEnough = !areaApproximatelyEqualToZero;  ///\n\n    if (largeEnough) {\n      const normal = calculateNormal(vertices, Normal),\n            edges = calculateEdges(vertices, Edge),\n            rgba = [ ...colour, 1 ];  ///\n\n      colouredFacet = new ColouredFacet(vertices, normal, edges, rgba);\n    }\n\n    return colouredFacet;\n  }\n}\n\nmodule.exports = ColouredFacet;\n","'use strict';\n\nconst Edge = require('../edge'),\n      Facet = require('../facet'),\n      Normal = require('../normal'),\n      Vertex = require('../vertex'),\n      arrayUtilities = require('../../utilities/array'),\n      facetUtilities = require('../../utilities/facet'),\n      textureUtilities = require('../../utilities/texture'),\n      verticesUtilities = require('../../utilities/vertices'),\n      approximateUtilities = require('../../utilities/approximate');\n\nconst { permute } = arrayUtilities,\n      { isApproximatelyEqualToZero } = approximateUtilities,\n      { verticesFromCoordinateTuplesAndIndexTuple } = verticesUtilities,\n      { cloneEdges, cloneNormal, cloneVertices, calculateArea, calculateEdges, calculateNormal } = facetUtilities,\n      { cloneTextureCoordinateTuples, calculateMappedTextureCoordinateTuples, calculateAdjustedTextureCoordinateTuples } = textureUtilities;\n\nclass TexturedFacet extends Facet {\n  constructor(vertices, normal, edges, imageName, textureCoordinateTuples) {\n    super(vertices, normal, edges);\n\n    this.imageName = imageName;\n\n    this.textureCoordinateTuples = textureCoordinateTuples;\n  }\n\n  clone() {\n    let vertices = this.getVertices(),\n        normal = this.getNormal(),\n        edges = this.getEdges();\n\n    vertices = cloneVertices(vertices);\n    normal = cloneNormal(normal);\n    edges = cloneEdges(edges);\n\n    const imageName = this.imageName, ///\n          textureCoordinateTuples = cloneTextureCoordinateTuples(this.textureCoordinateTuples),\n          texturedFacet = new TexturedFacet(vertices, normal, edges, imageName, textureCoordinateTuples);\n\n    return texturedFacet;\n  }\n\n  getImageName() {\n    return this.imageName;\n  }\n\n  getTextureCoordinateTuples() {\n    return this.textureCoordinateTuples;\n  }\n\n  getMappedTextureCoordinateTuples(imageMapJSON) {\n    const json = imageMapJSON[this.imageName],\n          extent = json,  ///\n          mappedTextureCoordinateTuples = calculateMappedTextureCoordinateTuples(this.textureCoordinateTuples, extent);\n\n    return mappedTextureCoordinateTuples;\n  }\n\n  permute(places) {\n    super.permute(places);\n\n    this.textureCoordinateTuples = permute(this.textureCoordinateTuples, places);\n  }\n\n  fromVertices(vertices) {\n    let texturedFacet = null;\n\n    const area = calculateArea(vertices),\n          areaApproximatelyEqualToZero = isApproximatelyEqualToZero(area),\n          largeEnough = !areaApproximatelyEqualToZero;  ///\n\n    if (largeEnough) {\n      const normal = calculateNormal(vertices, Normal),\n            parentVertices = this.vertices, ///\n            adjustedTextureCoordinateTuple = calculateAdjustedTextureCoordinateTuples(vertices, normal, parentVertices, this.textureCoordinateTuples),\n            edges = calculateEdges(vertices, Edge),\n            imageName = this.imageName,\n            textureCoordinateTuples = adjustedTextureCoordinateTuple;  ///\n\n      texturedFacet = new TexturedFacet(vertices, normal, edges, imageName, textureCoordinateTuples);\n    }\n\n    return texturedFacet;\n  }\n\n  static fromTextureCoordinateTuplesCoordinatesTuplesIndexTupleAndImageName(textureCoordinateTuples, coordinateTuples, indexTuple, imageName) {\n    let texturedFacet = null;\n\n    const vertices = verticesFromCoordinateTuplesAndIndexTuple(coordinateTuples, indexTuple, Vertex),\n          area = calculateArea(vertices),\n          areaApproximatelyEqualToZero = isApproximatelyEqualToZero(area),\n          largeEnough = !areaApproximatelyEqualToZero;  ///\n\n    if (largeEnough) {\n      const normal = calculateNormal(vertices, Normal),\n            edges = calculateEdges(vertices, Edge);\n\n      texturedFacet = new TexturedFacet(vertices, normal, edges, imageName, textureCoordinateTuples);\n    }\n\n    return texturedFacet;\n  }\n}\n\nmodule.exports = TexturedFacet;\n","'use strict';\n\nrequire('./lib/xgl');\n\nmodule.exports = {\n  Canvas: require('./lib/canvas'),\n  Mask: require('./lib/element/mask'),\n  Part: require('./lib/element/part'),\n  Scene: require('./lib/element/scene'),\n  Camera: require('./lib/element/camera'),\n  GamingCamera: require('./lib/element/camera/gaming'),\n  DesignCamera: require('./lib/element/camera/design'),\n  CanvasElement: require('./lib/element/canvas'),\n  ColouredCanvasElement: require('./lib/element/canvas/coloured'),\n  TexturedCanvasElement: require('./lib/element/canvas/textured')\n};\n","\nimport { XGLEngine } from 'xgl';\n\nnamespace Island {\n\n    let xgl: XGLEngine;\n\n    window.onload = () => {\n\n        xgl = new XGLEngine(320, 480);\n        xgl.start(\"viewport\");\n    }\n\n    window.onresize = () => {\n        xgl && xgl.resize();\n    }\n\n}"]}