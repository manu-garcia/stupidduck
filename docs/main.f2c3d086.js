parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"z2iX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=e,exports.toRadian=s,exports.equals=n,exports.RANDOM=exports.ARRAY_TYPE=exports.EPSILON=void 0;var t=1e-6;exports.EPSILON=t;var r="undefined"!=typeof Float32Array?Float32Array:Array;exports.ARRAY_TYPE=r;var a=Math.random;function e(t){exports.ARRAY_TYPE=r=t}exports.RANDOM=a;var o=Math.PI/180;function s(t){return t*o}function n(r,a){return Math.abs(r-a)<=t*Math.max(1,Math.abs(r),Math.abs(a))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});
},{}],"pVW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.copy=a,exports.identity=u,exports.fromValues=s,exports.set=i,exports.transpose=c,exports.invert=p,exports.adjoint=f,exports.determinant=x,exports.multiply=l,exports.rotate=M,exports.scale=h,exports.fromRotation=b,exports.fromScaling=v,exports.str=y,exports.frob=d,exports.LDU=m,exports.add=P,exports.subtract=O,exports.exactEquals=A,exports.equals=j,exports.multiplyScalar=E,exports.multiplyScalarAndAdd=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function i(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function c(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function p(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function f(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function l(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return t[0]=n*s+a*i,t[1]=o*s+u*i,t[2]=n*c+a*p,t[3]=o*c+u*p,t}function M(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=Math.sin(e),i=Math.cos(e);return t[0]=n*i+a*s,t[1]=o*i+u*s,t[2]=n*-s+a*i,t[3]=o*-s+u*i,t}function h(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1];return t[0]=n*s,t[1]=o*s,t[2]=a*i,t[3]=u*i,t}function b(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function v(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function d(t){return Math.hypot(t[0],t[1],t[2],t[3])}function m(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function P(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function O(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function A(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function j(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}function E(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function R(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var Y=l;exports.mul=Y;var _=O;exports.sub=_;
},{"./common.js":"z2iX"}],"untx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=a,exports.copy=o,exports.identity=u,exports.fromValues=s,exports.set=i,exports.invert=c,exports.determinant=p,exports.multiply=f,exports.rotate=x,exports.scale=l,exports.translate=M,exports.fromRotation=h,exports.fromScaling=b,exports.fromTranslation=v,exports.str=m,exports.frob=y,exports.add=d,exports.subtract=P,exports.multiplyScalar=O,exports.multiplyScalarAndAdd=A,exports.exactEquals=E,exports.equals=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=a?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(6);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function a(r){var e=new t.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(r,e,n,a,o,u){var s=new t.ARRAY_TYPE(6);return s[0]=r,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=u,s}function i(t,r,e,n,a,o,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=a,t[4]=o,t[5]=u,t}function c(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],u=r[4],s=r[5],i=e*o-n*a;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=e*i,t[4]=(a*s-o*u)*i,t[5]=(n*u-e*s)*i,t):null}function p(t){return t[0]*t[3]-t[1]*t[2]}function f(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return t[0]=n*c+o*p,t[1]=a*c+u*p,t[2]=n*f+o*x,t[3]=a*f+u*x,t[4]=n*l+o*M+s,t[5]=a*l+u*M+i,t}function x(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=Math.sin(e),p=Math.cos(e);return t[0]=n*p+o*c,t[1]=a*p+u*c,t[2]=n*-c+o*p,t[3]=a*-c+u*p,t[4]=s,t[5]=i,t}function l(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n*c,t[1]=a*c,t[2]=o*p,t[3]=u*p,t[4]=s,t[5]=i,t}function M(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t[4]=n*c+o*p+s,t[5]=a*c+u*p+i,t}function h(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function y(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function d(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function P(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function O(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function A(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function E(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function R(r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-f)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-x)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-M)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}var S=f;exports.mul=S;var j=P;exports.sub=j;
},{"./common.js":"z2iX"}],"r4cn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=a,exports.fromMat4=e,exports.clone=o,exports.copy=u,exports.fromValues=s,exports.set=i,exports.identity=c,exports.transpose=f,exports.invert=p,exports.adjoint=M,exports.determinant=x,exports.multiply=h,exports.translate=b,exports.rotate=l,exports.scale=m,exports.fromTranslation=v,exports.fromRotation=P,exports.fromScaling=O,exports.fromMat2d=d,exports.fromQuat=y,exports.normalFromMat4=E,exports.projection=S,exports.str=A,exports.frob=j,exports.add=I,exports.subtract=L,exports.multiplyScalar=N,exports.multiplyScalarAndAdd=R,exports.exactEquals=Y,exports.equals=_,exports.sub=exports.mul=void 0;var t=n(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r();if(n&&n.has(t))return n.get(t);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=e?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=t[o]}return a.default=t,n&&n.set(t,a),a}function a(){var r=new t.ARRAY_TYPE(9);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function o(r){var n=new t.ARRAY_TYPE(9);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(r,n,a,e,o,u,s,i,c){var f=new t.ARRAY_TYPE(9);return f[0]=r,f[1]=n,f[2]=a,f[3]=e,f[4]=o,f[5]=u,f[6]=s,f[7]=i,f[8]=c,f}function i(t,r,n,a,e,o,u,s,i,c){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=s,t[7]=i,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function p(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=f*u-s*c,M=-f*o+s*i,x=c*o-u*i,h=n*p+a*M+e*x;return h?(h=1/h,t[0]=p*h,t[1]=(-f*a+e*c)*h,t[2]=(s*a-e*u)*h,t[3]=M*h,t[4]=(f*n-e*i)*h,t[5]=(-s*n+e*o)*h,t[6]=x*h,t[7]=(-c*n+a*i)*h,t[8]=(u*n-a*o)*h,t):null}function M(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8];return t[0]=u*f-s*c,t[1]=e*c-a*f,t[2]=a*s-e*u,t[3]=s*i-o*f,t[4]=n*f-e*i,t[5]=e*o-n*s,t[6]=o*c-u*i,t[7]=a*i-n*c,t[8]=n*u-a*o,t}function x(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],s=t[6],i=t[7],c=t[8];return r*(c*o-u*i)+n*(-c*e+u*s)+a*(i*e-o*s)}function h(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1],h=n[2],b=n[3],l=n[4],m=n[5],v=n[6],P=n[7],O=n[8];return t[0]=M*a+x*u+h*c,t[1]=M*e+x*s+h*f,t[2]=M*o+x*i+h*p,t[3]=b*a+l*u+m*c,t[4]=b*e+l*s+m*f,t[5]=b*o+l*i+m*p,t[6]=v*a+P*u+O*c,t[7]=v*e+P*s+O*f,t[8]=v*o+P*i+O*p,t}function b(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=s,t[5]=i,t[6]=M*a+x*u+c,t[7]=M*e+x*s+f,t[8]=M*o+x*i+p,t}function l(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=Math.sin(n),x=Math.cos(n);return t[0]=x*a+M*u,t[1]=x*e+M*s,t[2]=x*o+M*i,t[3]=x*u-M*a,t[4]=x*s-M*e,t[5]=x*i-M*o,t[6]=c,t[7]=f,t[8]=p,t}function m(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function P(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,s=a+a,i=e+e,c=n*u,f=a*u,p=a*s,M=e*u,x=e*s,h=e*i,b=o*u,l=o*s,m=o*i;return t[0]=1-p-h,t[3]=f-m,t[6]=M+l,t[1]=f+m,t[4]=1-c-h,t[7]=x-b,t[2]=M-l,t[5]=x+b,t[8]=1-c-p,t}function E(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=r[9],M=r[10],x=r[11],h=r[12],b=r[13],l=r[14],m=r[15],v=n*s-a*u,P=n*i-e*u,O=n*c-o*u,d=a*i-e*s,y=a*c-o*s,E=e*c-o*i,S=f*b-p*h,A=f*l-M*h,j=f*m-x*h,I=p*l-M*b,L=p*m-x*b,N=M*m-x*l,R=v*N-P*L+O*I+d*j-y*A+E*S;return R?(R=1/R,t[0]=(s*N-i*L+c*I)*R,t[1]=(i*j-u*N-c*A)*R,t[2]=(u*L-s*j+c*S)*R,t[3]=(e*L-a*N-o*I)*R,t[4]=(n*N-e*j+o*A)*R,t[5]=(a*j-n*L-o*S)*R,t[6]=(b*E-l*y+m*d)*R,t[7]=(l*O-h*E-m*P)*R,t[8]=(h*y-b*O+m*v)*R,t):null}function S(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function L(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function N(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function R(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function _(r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1],h=n[2],b=n[3],l=n[4],m=n[5],v=n[6],P=n[7],O=n[8];return Math.abs(a-M)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-x)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-b)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-m)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-v)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-P)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(p-O)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))}var w=h;exports.mul=w;var g=L;exports.sub=g;
},{"./common.js":"z2iX"}],"aEQM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=e,exports.copy=o,exports.fromValues=s,exports.set=u,exports.identity=h,exports.transpose=M,exports.invert=i,exports.adjoint=c,exports.determinant=p,exports.multiply=f,exports.translate=x,exports.scale=b,exports.rotate=l,exports.rotateX=v,exports.rotateY=m,exports.rotateZ=P,exports.fromTranslation=O,exports.fromScaling=E,exports.fromRotation=S,exports.fromXRotation=y,exports.fromYRotation=I,exports.fromZRotation=L,exports.fromRotationTranslation=N,exports.fromQuat2=R,exports.getTranslation=d,exports.getScaling=g,exports.getRotation=A,exports.fromRotationTranslationScale=Y,exports.fromRotationTranslationScaleOrigin=T,exports.fromQuat=w,exports.frustum=_,exports.perspective=j,exports.perspectiveFromFieldOfView=q,exports.ortho=D,exports.lookAt=k,exports.targetTo=F,exports.str=Q,exports.frob=V,exports.add=W,exports.subtract=X,exports.multiplyScalar=Z,exports.multiplyScalarAndAdd=z,exports.exactEquals=B,exports.equals=C,exports.sub=exports.mul=void 0;var t=r(require("./common.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var n={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=e?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function n(){var a=new t.ARRAY_TYPE(16);return t.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function e(a){var r=new t.ARRAY_TYPE(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function s(a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){var v=new t.ARRAY_TYPE(16);return v[0]=a,v[1]=r,v[2]=n,v[3]=e,v[4]=o,v[5]=s,v[6]=u,v[7]=h,v[8]=M,v[9]=i,v[10]=c,v[11]=p,v[12]=f,v[13]=x,v[14]=b,v[15]=l,v}function u(t,a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=s,t[6]=u,t[7]=h,t[8]=M,t[9]=i,t[10]=c,t[11]=p,t[12]=f,t[13]=x,t[14]=b,t[15]=l,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],s=a[7],u=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=s,t[14]=u}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15],m=r*u-n*s,P=r*h-e*s,O=r*M-o*s,E=n*h-e*u,S=n*M-o*u,y=e*M-o*h,I=i*b-c*x,L=i*l-p*x,N=i*v-f*x,R=c*l-p*b,d=c*v-f*b,g=p*v-f*l,A=m*g-P*d+O*R+E*N-S*L+y*I;return A?(A=1/A,t[0]=(u*g-h*d+M*R)*A,t[1]=(e*d-n*g-o*R)*A,t[2]=(b*y-l*S+v*E)*A,t[3]=(p*S-c*y-f*E)*A,t[4]=(h*N-s*g-M*L)*A,t[5]=(r*g-e*N+o*L)*A,t[6]=(l*O-x*y-v*P)*A,t[7]=(i*y-p*O+f*P)*A,t[8]=(s*d-u*N+M*I)*A,t[9]=(n*N-r*d-o*I)*A,t[10]=(x*S-b*O+v*m)*A,t[11]=(c*O-i*S-f*m)*A,t[12]=(u*L-s*R-h*I)*A,t[13]=(r*R-n*L+e*I)*A,t[14]=(b*P-x*E-l*m)*A,t[15]=(i*E-c*P+p*m)*A,t):null}function c(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15];return t[0]=u*(p*v-f*l)-c*(h*v-M*l)+b*(h*f-M*p),t[1]=-(n*(p*v-f*l)-c*(e*v-o*l)+b*(e*f-o*p)),t[2]=n*(h*v-M*l)-u*(e*v-o*l)+b*(e*M-o*h),t[3]=-(n*(h*f-M*p)-u*(e*f-o*p)+c*(e*M-o*h)),t[4]=-(s*(p*v-f*l)-i*(h*v-M*l)+x*(h*f-M*p)),t[5]=r*(p*v-f*l)-i*(e*v-o*l)+x*(e*f-o*p),t[6]=-(r*(h*v-M*l)-s*(e*v-o*l)+x*(e*M-o*h)),t[7]=r*(h*f-M*p)-s*(e*f-o*p)+i*(e*M-o*h),t[8]=s*(c*v-f*b)-i*(u*v-M*b)+x*(u*f-M*c),t[9]=-(r*(c*v-f*b)-i*(n*v-o*b)+x*(n*f-o*c)),t[10]=r*(u*v-M*b)-s*(n*v-o*b)+x*(n*M-o*u),t[11]=-(r*(u*f-M*c)-s*(n*f-o*c)+i*(n*M-o*u)),t[12]=-(s*(c*l-p*b)-i*(u*l-h*b)+x*(u*p-h*c)),t[13]=r*(c*l-p*b)-i*(n*l-e*b)+x*(n*p-e*c),t[14]=-(r*(u*l-h*b)-s*(n*l-e*b)+x*(n*h-e*u)),t[15]=r*(u*p-h*c)-s*(n*p-e*c)+i*(n*h-e*u),t}function p(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],s=t[5],u=t[6],h=t[7],M=t[8],i=t[9],c=t[10],p=t[11],f=t[12],x=t[13],b=t[14],l=t[15];return(a*s-r*o)*(c*l-p*b)-(a*u-n*o)*(i*l-p*x)+(a*h-e*o)*(i*b-c*x)+(r*u-n*s)*(M*l-p*f)-(r*h-e*s)*(M*b-c*f)+(n*h-e*u)*(M*x-i*f)}function f(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3];return t[0]=P*n+O*u+E*c+S*b,t[1]=P*e+O*h+E*p+S*l,t[2]=P*o+O*M+E*f+S*v,t[3]=P*s+O*i+E*x+S*m,P=r[4],O=r[5],E=r[6],S=r[7],t[4]=P*n+O*u+E*c+S*b,t[5]=P*e+O*h+E*p+S*l,t[6]=P*o+O*M+E*f+S*v,t[7]=P*s+O*i+E*x+S*m,P=r[8],O=r[9],E=r[10],S=r[11],t[8]=P*n+O*u+E*c+S*b,t[9]=P*e+O*h+E*p+S*l,t[10]=P*o+O*M+E*f+S*v,t[11]=P*s+O*i+E*x+S*m,P=r[12],O=r[13],E=r[14],S=r[15],t[12]=P*n+O*u+E*c+S*b,t[13]=P*e+O*h+E*p+S*l,t[14]=P*o+O*M+E*f+S*v,t[15]=P*s+O*i+E*x+S*m,t}function x(t,a,r){var n,e,o,s,u,h,M,i,c,p,f,x,b=r[0],l=r[1],v=r[2];return a===t?(t[12]=a[0]*b+a[4]*l+a[8]*v+a[12],t[13]=a[1]*b+a[5]*l+a[9]*v+a[13],t[14]=a[2]*b+a[6]*l+a[10]*v+a[14],t[15]=a[3]*b+a[7]*l+a[11]*v+a[15]):(n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=s,t[4]=u,t[5]=h,t[6]=M,t[7]=i,t[8]=c,t[9]=p,t[10]=f,t[11]=x,t[12]=n*b+u*l+c*v+a[12],t[13]=e*b+h*l+p*v+a[13],t[14]=o*b+M*l+f*v+a[14],t[15]=s*b+i*l+x*v+a[15]),t}function b(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function l(a,r,n,e){var o,s,u,h,M,i,c,p,f,x,b,l,v,m,P,O,E,S,y,I,L,N,R,d,g=e[0],A=e[1],Y=e[2],T=Math.hypot(g,A,Y);return T<t.EPSILON?null:(g*=T=1/T,A*=T,Y*=T,o=Math.sin(n),u=1-(s=Math.cos(n)),h=r[0],M=r[1],i=r[2],c=r[3],p=r[4],f=r[5],x=r[6],b=r[7],l=r[8],v=r[9],m=r[10],P=r[11],O=g*g*u+s,E=A*g*u+Y*o,S=Y*g*u-A*o,y=g*A*u-Y*o,I=A*A*u+s,L=Y*A*u+g*o,N=g*Y*u+A*o,R=A*Y*u-g*o,d=Y*Y*u+s,a[0]=h*O+p*E+l*S,a[1]=M*O+f*E+v*S,a[2]=i*O+x*E+m*S,a[3]=c*O+b*E+P*S,a[4]=h*y+p*I+l*L,a[5]=M*y+f*I+v*L,a[6]=i*y+x*I+m*L,a[7]=c*y+b*I+P*L,a[8]=h*N+p*R+l*d,a[9]=M*N+f*R+v*d,a[10]=i*N+x*R+m*d,a[11]=c*N+b*R+P*d,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a)}function v(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],s=a[5],u=a[6],h=a[7],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+M*n,t[5]=s*e+i*n,t[6]=u*e+c*n,t[7]=h*e+p*n,t[8]=M*e-o*n,t[9]=i*e-s*n,t[10]=c*e-u*n,t[11]=p*e-h*n,t}function m(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-M*n,t[1]=s*e-i*n,t[2]=u*e-c*n,t[3]=h*e-p*n,t[8]=o*n+M*e,t[9]=s*n+i*e,t[10]=u*n+c*e,t[11]=h*n+p*e,t}function P(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[4],i=a[5],c=a[6],p=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+M*n,t[1]=s*e+i*n,t[2]=u*e+c*n,t[3]=h*e+p*n,t[4]=M*e-o*n,t[5]=i*e-s*n,t[6]=c*e-u*n,t[7]=p*e-h*n,t}function O(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function E(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(a,r,n){var e,o,s,u=n[0],h=n[1],M=n[2],i=Math.hypot(u,h,M);return i<t.EPSILON?null:(u*=i=1/i,h*=i,M*=i,e=Math.sin(r),s=1-(o=Math.cos(r)),a[0]=u*u*s+o,a[1]=h*u*s+M*e,a[2]=M*u*s-h*e,a[3]=0,a[4]=u*h*s-M*e,a[5]=h*h*s+o,a[6]=M*h*s+u*e,a[7]=0,a[8]=u*M*s+h*e,a[9]=h*M*s-u*e,a[10]=M*M*s+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function y(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=n+n,h=e+e,M=o+o,i=n*u,c=n*h,p=n*M,f=e*h,x=e*M,b=o*M,l=s*u,v=s*h,m=s*M;return t[0]=1-(f+b),t[1]=c+m,t[2]=p-v,t[3]=0,t[4]=c-m,t[5]=1-(i+b),t[6]=x+l,t[7]=0,t[8]=p+v,t[9]=x-l,t[10]=1-(i+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(a,r){var n=new t.ARRAY_TYPE(3),e=-r[0],o=-r[1],s=-r[2],u=r[3],h=r[4],M=r[5],i=r[6],c=r[7],p=e*e+o*o+s*s+u*u;return p>0?(n[0]=2*(h*u+c*e+M*s-i*o)/p,n[1]=2*(M*u+c*o+i*e-h*s)/p,n[2]=2*(i*u+c*s+h*o-M*e)/p):(n[0]=2*(h*u+c*e+M*s-i*o),n[1]=2*(M*u+c*o+i*e-h*s),n[2]=2*(i*u+c*s+h*o-M*e)),N(a,r,n),a}function d(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function g(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],s=a[5],u=a[6],h=a[8],M=a[9],i=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,s,u),t[2]=Math.hypot(h,M,i),t}function A(a,r){var n=new t.ARRAY_TYPE(3);g(n,r);var e=1/n[0],o=1/n[1],s=1/n[2],u=r[0]*e,h=r[1]*o,M=r[2]*s,i=r[4]*e,c=r[5]*o,p=r[6]*s,f=r[8]*e,x=r[9]*o,b=r[10]*s,l=u+c+b,v=0;return l>0?(v=2*Math.sqrt(l+1),a[3]=.25*v,a[0]=(p-x)/v,a[1]=(f-M)/v,a[2]=(h-i)/v):u>c&&u>b?(v=2*Math.sqrt(1+u-c-b),a[3]=(p-x)/v,a[0]=.25*v,a[1]=(h+i)/v,a[2]=(f+M)/v):c>b?(v=2*Math.sqrt(1+c-u-b),a[3]=(f-M)/v,a[0]=(h+i)/v,a[1]=.25*v,a[2]=(p+x)/v):(v=2*Math.sqrt(1+b-u-c),a[3]=(h-i)/v,a[0]=(f+M)/v,a[1]=(p+x)/v,a[2]=.25*v),a}function Y(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=a[3],h=e+e,M=o+o,i=s+s,c=e*h,p=e*M,f=e*i,x=o*M,b=o*i,l=s*i,v=u*h,m=u*M,P=u*i,O=n[0],E=n[1],S=n[2];return t[0]=(1-(x+l))*O,t[1]=(p+P)*O,t[2]=(f-m)*O,t[3]=0,t[4]=(p-P)*E,t[5]=(1-(c+l))*E,t[6]=(b+v)*E,t[7]=0,t[8]=(f+m)*S,t[9]=(b-v)*S,t[10]=(1-(c+x))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function T(t,a,r,n,e){var o=a[0],s=a[1],u=a[2],h=a[3],M=o+o,i=s+s,c=u+u,p=o*M,f=o*i,x=o*c,b=s*i,l=s*c,v=u*c,m=h*M,P=h*i,O=h*c,E=n[0],S=n[1],y=n[2],I=e[0],L=e[1],N=e[2],R=(1-(b+v))*E,d=(f+O)*E,g=(x-P)*E,A=(f-O)*S,Y=(1-(p+v))*S,T=(l+m)*S,w=(x+P)*y,_=(l-m)*y,j=(1-(p+b))*y;return t[0]=R,t[1]=d,t[2]=g,t[3]=0,t[4]=A,t[5]=Y,t[6]=T,t[7]=0,t[8]=w,t[9]=_,t[10]=j,t[11]=0,t[12]=r[0]+I-(R*I+A*L+w*N),t[13]=r[1]+L-(d*I+Y*L+_*N),t[14]=r[2]+N-(g*I+T*L+j*N),t[15]=1,t}function w(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=r+r,u=n+n,h=e+e,M=r*s,i=n*s,c=n*u,p=e*s,f=e*u,x=e*h,b=o*s,l=o*u,v=o*h;return t[0]=1-c-x,t[1]=i+v,t[2]=p-l,t[3]=0,t[4]=i-v,t[5]=1-M-x,t[6]=f+b,t[7]=0,t[8]=p+l,t[9]=f-b,t[10]=1-M-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,a,r,n,e,o,s){var u=1/(r-a),h=1/(e-n),M=1/(o-s);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(r+a)*u,t[9]=(e+n)*h,t[10]=(s+o)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*M,t[15]=0,t}function j(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t}function q(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),s=Math.tan(a.leftDegrees*Math.PI/180),u=Math.tan(a.rightDegrees*Math.PI/180),h=2/(s+u),M=2/(e+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-(s-u)*h*.5,t[9]=(e-o)*M*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function D(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=(s+o)*M,t[15]=1,t}function k(a,r,n,e){var o,s,u,M,i,c,p,f,x,b,l=r[0],v=r[1],m=r[2],P=e[0],O=e[1],E=e[2],S=n[0],y=n[1],I=n[2];return Math.abs(l-S)<t.EPSILON&&Math.abs(v-y)<t.EPSILON&&Math.abs(m-I)<t.EPSILON?h(a):(p=l-S,f=v-y,x=m-I,o=O*(x*=b=1/Math.hypot(p,f,x))-E*(f*=b),s=E*(p*=b)-P*x,u=P*f-O*p,(b=Math.hypot(o,s,u))?(o*=b=1/b,s*=b,u*=b):(o=0,s=0,u=0),M=f*u-x*s,i=x*o-p*u,c=p*s-f*o,(b=Math.hypot(M,i,c))?(M*=b=1/b,i*=b,c*=b):(M=0,i=0,c=0),a[0]=o,a[1]=M,a[2]=p,a[3]=0,a[4]=s,a[5]=i,a[6]=f,a[7]=0,a[8]=u,a[9]=c,a[10]=x,a[11]=0,a[12]=-(o*l+s*v+u*m),a[13]=-(M*l+i*v+c*m),a[14]=-(p*l+f*v+x*m),a[15]=1,a)}function F(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=n[0],h=n[1],M=n[2],i=e-r[0],c=o-r[1],p=s-r[2],f=i*i+c*c+p*p;f>0&&(i*=f=1/Math.sqrt(f),c*=f,p*=f);var x=h*p-M*c,b=M*i-u*p,l=u*c-h*i;return(f=x*x+b*b+l*l)>0&&(x*=f=1/Math.sqrt(f),b*=f,l*=f),t[0]=x,t[1]=b,t[2]=l,t[3]=0,t[4]=c*l-p*b,t[5]=p*x-i*l,t[6]=i*b-c*x,t[7]=0,t[8]=i,t[9]=c,t[10]=p,t[11]=0,t[12]=e,t[13]=o,t[14]=s,t[15]=1,t}function Q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function W(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t}function X(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}function Z(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t}function z(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t}function B(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function C(a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3],y=r[4],I=r[5],L=r[6],N=r[7],R=r[8],d=r[9],g=r[10],A=r[11],Y=r[12],T=r[13],w=r[14],_=r[15];return Math.abs(n-P)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(e-O)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(o-E)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-S)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-y)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-I)<=t.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(M-L)<=t.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(i-N)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(c-R)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(p-d)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(d))&&Math.abs(f-g)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(x-A)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(b-Y)<=t.EPSILON*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(l-T)<=t.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(v-w)<=t.EPSILON*Math.max(1,Math.abs(v),Math.abs(w))&&Math.abs(m-_)<=t.EPSILON*Math.max(1,Math.abs(m),Math.abs(_))}var G=f;exports.mul=G;var H=X;exports.sub=H;
},{"./common.js":"z2iX"}],"ErHL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.length=a,exports.fromValues=s,exports.copy=u,exports.set=i,exports.add=c,exports.subtract=p,exports.multiply=f,exports.divide=x,exports.ceil=h,exports.floor=M,exports.min=v,exports.max=l,exports.round=d,exports.scale=m,exports.scaleAndAdd=b,exports.distance=y,exports.squaredDistance=P,exports.squaredLength=O,exports.negate=A,exports.inverse=q,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=Y,exports.hermite=j,exports.bezier=_,exports.random=w,exports.transformMat4=D,exports.transformMat3=L,exports.transformQuat=I,exports.rotateX=N,exports.rotateY=T,exports.rotateZ=z,exports.angle=S,exports.zero=k,exports.str=W,exports.exactEquals=F,exports.equals=Q,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(3);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var e=new t.ARRAY_TYPE(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function a(t){var r=t[0],e=t[1],n=t[2];return Math.hypot(r,e,n)}function s(r,e,n){var o=new t.ARRAY_TYPE(3);return o[0]=r,o[1]=e,o[2]=n,o}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function i(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function c(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function p(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function f(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function x(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function h(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function M(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function v(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function m(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function b(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.hypot(e,n,o)}function P(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function O(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function q(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function g(t,r){var e=r[0],n=r[1],o=r[2],a=e*e+n*n+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function R(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return t[0]=o*i-a*u,t[1]=a*s-n*i,t[2]=n*u-o*s,t}function Y(t,r,e,n){var o=r[0],a=r[1],s=r[2];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t}function j(t,r,e,n,o,a){var s=a*a,u=s*(2*a-3)+1,i=s*(a-2)+a,c=s*(a-1),p=s*(3-2*a);return t[0]=r[0]*u+e[0]*i+n[0]*c+o[0]*p,t[1]=r[1]*u+e[1]*i+n[1]*c+o[1]*p,t[2]=r[2]*u+e[2]*i+n[2]*c+o[2]*p,t}function _(t,r,e,n,o,a){var s=1-a,u=s*s,i=a*a,c=u*s,p=3*a*u,f=3*i*s,x=i*a;return t[0]=r[0]*c+e[0]*p+n[0]*f+o[0]*x,t[1]=r[1]*c+e[1]*p+n[1]*f+o[1]*x,t[2]=r[2]*c+e[2]*p+n[2]*f+o[2]*x,t}function w(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI,o=2*t.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return r[0]=Math.cos(n)*a,r[1]=Math.sin(n)*a,r[2]=o*e,r}function D(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[3]*n+e[7]*o+e[11]*a+e[15];return s=s||1,t[0]=(e[0]*n+e[4]*o+e[8]*a+e[12])/s,t[1]=(e[1]*n+e[5]*o+e[9]*a+e[13])/s,t[2]=(e[2]*n+e[6]*o+e[10]*a+e[14])/s,t}function L(t,r,e){var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[3]+a*e[6],t[1]=n*e[1]+o*e[4]+a*e[7],t[2]=n*e[2]+o*e[5]+a*e[8],t}function I(t,r,e){var n=e[0],o=e[1],a=e[2],s=e[3],u=r[0],i=r[1],c=r[2],p=o*c-a*i,f=a*u-n*c,x=n*i-o*u,h=o*x-a*f,M=a*p-n*x,v=n*f-o*p,l=2*s;return p*=l,f*=l,x*=l,h*=2,M*=2,v*=2,t[0]=u+p+h,t[1]=i+f+M,t[2]=c+x+v,t}function N(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function T(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function z(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function S(t,r){var e=s(t[0],t[1],t[2]),n=s(r[0],r[1],r[2]);g(e,e),g(n,n);var o=E(e,n);return o>1?0:o<-1?Math.PI:Math.acos(o)}function k(t){return t[0]=0,t[1]=0,t[2]=0,t}function W(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Q(r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-i)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))}var V=p;exports.sub=V;var X=f;exports.mul=X;var Z=x;exports.div=Z;var B=y;exports.dist=B;var C=P;exports.sqrDist=C;var G=a;exports.len=G;var H=O;exports.sqrLen=H;var J=function(){var t=n();return function(r,e,n,o,a,s){var u,i;for(e||(e=3),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,u=n;u<i;u+=e)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,s),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();exports.forEach=J;
},{"./common.js":"z2iX"}],"IIMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=M,exports.max=l,exports.round=v,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=O,exports.length=y,exports.squaredLength=A,exports.negate=P,exports.inverse=R,exports.normalize=q,exports.dot=E,exports.cross=g,exports.lerp=w,exports.random=D,exports.transformMat4=j,exports.transformQuat=N,exports.zero=Y,exports.str=_,exports.exactEquals=L,exports.equals=I,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.hypot(e,n,o,a)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+o*o+a*a}function y(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.hypot(r,e,n,o)}function A(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function R(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function q(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*e+n*n+o*o+a*a;return u>0&&(u=1/Math.sqrt(u)),t[0]=e*u,t[1]=n*u,t[2]=o*u,t[3]=a*u,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function g(t,r,e,n){var o=e[0]*n[1]-e[1]*n[0],a=e[0]*n[2]-e[2]*n[0],u=e[0]*n[3]-e[3]*n[0],s=e[1]*n[2]-e[2]*n[1],i=e[1]*n[3]-e[3]*n[1],c=e[2]*n[3]-e[3]*n[2],p=r[0],f=r[1],x=r[2],h=r[3];return t[0]=f*c-x*i+h*s,t[1]=-p*c+x*u-h*a,t[2]=p*i-f*u+h*o,t[3]=-p*s+f*a-x*o,t}function w(t,r,e,n){var o=r[0],a=r[1],u=r[2],s=r[3];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=u+n*(e[2]-u),t[3]=s+n*(e[3]-s),t}function D(r,e){var n,o,a,u,s,i;e=e||1;do{s=(n=2*t.RANDOM()-1)*n+(o=2*t.RANDOM()-1)*o}while(s>=1);do{i=(a=2*t.RANDOM()-1)*a+(u=2*t.RANDOM()-1)*u}while(i>=1);var c=Math.sqrt((1-s)/i);return r[0]=e*n,r[1]=e*o,r[2]=e*a*c,r[3]=e*u*c,r}function j(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*n+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*n+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*n+e[7]*o+e[11]*a+e[15]*u,t}function N(t,r,e){var n=r[0],o=r[1],a=r[2],u=e[0],s=e[1],i=e[2],c=e[3],p=c*n+s*a-i*o,f=c*o+i*n-u*a,x=c*a+u*o-s*n,h=-u*n-s*o-i*a;return t[0]=p*c+h*-u+f*-i-x*-s,t[1]=f*c+h*-s+x*-u-p*-i,t[2]=x*c+h*-i+p*-s-f*-u,t[3]=r[3],t}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function _(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function I(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}var S=c;exports.sub=S;var T=p;exports.mul=T;var k=f;exports.div=k;var z=b;exports.dist=z;var W=O;exports.sqrDist=W;var F=y;exports.len=F;var Q=A;exports.sqrLen=Q;var V=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=4),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],t[2]=r[s+2],t[3]=r[s+3],a(t,t,u),r[s]=t[0],r[s+1]=t[1],r[s+2]=t[2],r[s+3]=t[3];return r}}();exports.forEach=V;
},{"./common.js":"z2iX"}],"EgCJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=s,exports.identity=u,exports.setAxisAngle=p,exports.getAxisAngle=c,exports.getAngle=i,exports.multiply=x,exports.rotateX=l,exports.rotateY=f,exports.rotateZ=v,exports.calculateW=h,exports.exp=M,exports.ln=q,exports.pow=d,exports.slerp=m,exports.random=g,exports.invert=y,exports.conjugate=P,exports.fromMat3=A,exports.fromEuler=O,exports.str=j,exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0;var t=n(require("./common.js")),r=n(require("./mat3.js")),e=n(require("./vec3.js")),o=n(require("./vec4.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=o?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(e,n,s):e[n]=t[n]}return e.default=t,r&&r.set(t,e),e}function s(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function p(t,r,e){e*=.5;var o=Math.sin(e);return t[0]=o*r[0],t[1]=o*r[1],t[2]=o*r[2],t[3]=Math.cos(e),t}function c(r,e){var o=2*Math.acos(e[3]),a=Math.sin(o/2);return a>t.EPSILON?(r[0]=e[0]/a,r[1]=e[1]/a,r[2]=e[2]/a):(r[0]=1,r[1]=0,r[2]=0),o}function i(t,r){var e=D(t,r);return Math.acos(2*e*e-1)}function x(t,r,e){var o=r[0],a=r[1],n=r[2],s=r[3],u=e[0],p=e[1],c=e[2],i=e[3];return t[0]=o*i+s*u+a*c-n*p,t[1]=a*i+s*p+n*u-o*c,t[2]=n*i+s*c+o*p-a*u,t[3]=s*i-o*u-a*p-n*c,t}function l(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+s*u,t[1]=a*p+n*u,t[2]=n*p-a*u,t[3]=s*p-o*u,t}function f(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p-n*u,t[1]=a*p+s*u,t[2]=n*p+o*u,t[3]=s*p-a*u,t}function v(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+a*u,t[1]=a*p-o*u,t[2]=n*p+s*u,t[3]=s*p-n*u,t}function h(t,r){var e=r[0],o=r[1],a=r[2];return t[0]=e,t[1]=o,t[2]=a,t[3]=Math.sqrt(Math.abs(1-e*e-o*o-a*a)),t}function M(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=Math.exp(n),p=s>0?u*Math.sin(s)/s:0;return t[0]=e*p,t[1]=o*p,t[2]=a*p,t[3]=u*Math.cos(s),t}function q(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=s>0?Math.atan2(s,n)/s:0;return t[0]=e*u,t[1]=o*u,t[2]=a*u,t[3]=.5*Math.log(e*e+o*o+a*a+n*n),t}function d(t,r,e){return q(t,r),_(t,t,e),M(t,t),t}function m(r,e,o,a){var n,s,u,p,c,i=e[0],x=e[1],l=e[2],f=e[3],v=o[0],h=o[1],M=o[2],q=o[3];return(s=i*v+x*h+l*M+f*q)<0&&(s=-s,v=-v,h=-h,M=-M,q=-q),1-s>t.EPSILON?(n=Math.acos(s),u=Math.sin(n),p=Math.sin((1-a)*n)/u,c=Math.sin(a*n)/u):(p=1-a,c=a),r[0]=p*i+c*v,r[1]=p*x+c*h,r[2]=p*l+c*M,r[3]=p*f+c*q,r}function g(r){var e=t.RANDOM(),o=t.RANDOM(),a=t.RANDOM(),n=Math.sqrt(1-e),s=Math.sqrt(e);return r[0]=n*Math.sin(2*Math.PI*o),r[1]=n*Math.cos(2*Math.PI*o),r[2]=s*Math.sin(2*Math.PI*a),r[3]=s*Math.cos(2*Math.PI*a),r}function y(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=e*e+o*o+a*a+n*n,u=s?1/s:0;return t[0]=-e*u,t[1]=-o*u,t[2]=-a*u,t[3]=n*u,t}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function A(t,r){var e,o=r[0]+r[4]+r[8];if(o>0)e=Math.sqrt(o+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var a=0;r[4]>r[0]&&(a=1),r[8]>r[3*a+a]&&(a=2);var n=(a+1)%3,s=(a+2)%3;e=Math.sqrt(r[3*a+a]-r[3*n+n]-r[3*s+s]+1),t[a]=.5*e,e=.5/e,t[3]=(r[3*n+s]-r[3*s+n])*e,t[n]=(r[3*n+a]+r[3*a+n])*e,t[s]=(r[3*s+a]+r[3*a+s])*e}return t}function O(t,r,e,o){var a=.5*Math.PI/180;r*=a,e*=a,o*=a;var n=Math.sin(r),s=Math.cos(r),u=Math.sin(e),p=Math.cos(e),c=Math.sin(o),i=Math.cos(o);return t[0]=n*p*i-s*u*c,t[1]=s*u*i+n*p*c,t[2]=s*p*c-n*u*i,t[3]=s*p*i+n*u*c,t}function j(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var b=o.clone;exports.clone=b;var E=o.fromValues;exports.fromValues=E;var I=o.copy;exports.copy=I;var L=o.set;exports.set=L;var R=o.add;exports.add=R;var w=x;exports.mul=w;var _=o.scale;exports.scale=_;var D=o.dot;exports.dot=D;var N=o.lerp;exports.lerp=N;var V=o.length;exports.length=V;var Y=V;exports.len=Y;var z=o.squaredLength;exports.squaredLength=z;var T=z;exports.sqrLen=T;var W=o.normalize;exports.normalize=W;var k=o.exactEquals;exports.exactEquals=k;var S=o.equals;exports.equals=S;var F=function(){var t=e.create(),r=e.fromValues(1,0,0),o=e.fromValues(0,1,0);return function(a,n,s){var u=e.dot(n,s);return u<-.999999?(e.cross(t,r,n),e.len(t)<1e-6&&e.cross(t,o,n),e.normalize(t,t),p(a,t,Math.PI),a):u>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(e.cross(t,n,s),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+u,W(a,a))}}();exports.rotationTo=F;var X=function(){var t=s(),r=s();return function(e,o,a,n,s,u){return m(t,o,s,u),m(r,a,n,u),m(e,t,r,2*u*(1-u)),e}}();exports.sqlerp=X;var Z=function(){var t=r.create();return function(r,e,o,a){return t[0]=o[0],t[3]=o[1],t[6]=o[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],W(r,A(r,t))}}();exports.setAxes=Z;
},{"./common.js":"z2iX","./mat3.js":"r4cn","./vec3.js":"ErHL","./vec4.js":"IIMV"}],"pXUy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=o,exports.clone=s,exports.fromValues=u,exports.fromRotationTranslationValues=p,exports.fromRotationTranslation=i,exports.fromTranslation=c,exports.fromRotation=f,exports.fromMat4=x,exports.copy=h,exports.identity=l,exports.set=M,exports.getDual=b,exports.setDual=m,exports.getTranslation=d,exports.translate=R,exports.rotateX=y,exports.rotateY=O,exports.rotateZ=g,exports.rotateByQuatAppend=A,exports.rotateByQuatPrepend=E,exports.rotateAroundAxis=L,exports.add=Y,exports.multiply=q,exports.scale=T,exports.lerp=w,exports.invert=I,exports.conjugate=N,exports.normalize=Q,exports.str=V,exports.exactEquals=W,exports.equals=X,exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.dot=exports.mul=exports.setReal=exports.getReal=void 0;var t=n(require("./common.js")),r=n(require("./quat.js")),e=n(require("./mat4.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(e,o,s):e[o]=t[o]}return e.default=t,r&&r.set(t,e),e}function o(){var r=new t.ARRAY_TYPE(8);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function s(r){var e=new t.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function u(r,e,a,n,o,s,u,p){var i=new t.ARRAY_TYPE(8);return i[0]=r,i[1]=e,i[2]=a,i[3]=n,i[4]=o,i[5]=s,i[6]=u,i[7]=p,i}function p(r,e,a,n,o,s,u){var p=new t.ARRAY_TYPE(8);p[0]=r,p[1]=e,p[2]=a,p[3]=n;var i=.5*o,c=.5*s,f=.5*u;return p[4]=i*n+c*a-f*e,p[5]=c*n+f*r-i*a,p[6]=f*n+i*e-c*r,p[7]=-i*r-c*e-f*a,p}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],s=r[0],u=r[1],p=r[2],i=r[3];return t[0]=s,t[1]=u,t[2]=p,t[3]=i,t[4]=a*i+n*p-o*u,t[5]=n*i+o*s-a*p,t[6]=o*i+a*u-n*s,t[7]=-a*s-n*u-o*p,t}function c(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function f(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function x(a,n){var o=r.create();e.getRotation(o,n);var s=new t.ARRAY_TYPE(3);return e.getTranslation(s,n),i(a,o,s),a}function h(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function l(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function M(t,r,e,a,n,o,s,u,p){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=s,t[6]=u,t[7]=p,t}var v=r.copy;function b(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}exports.getReal=v;var P=r.copy;function m(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function d(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],s=-r[0],u=-r[1],p=-r[2],i=r[3];return t[0]=2*(e*i+o*s+a*p-n*u),t[1]=2*(a*i+o*u+n*s-e*p),t[2]=2*(n*i+o*p+e*u-a*s),t}function R(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=.5*e[0],p=.5*e[1],i=.5*e[2],c=r[4],f=r[5],x=r[6],h=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=s*u+n*i-o*p+c,t[5]=s*p+o*u-a*i+f,t[6]=s*i+a*p-n*u+x,t[7]=-a*u-n*p-o*i+h,t}function y(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateX(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function O(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateY(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function g(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateZ(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function A(t,r,e){var a=e[0],n=e[1],o=e[2],s=e[3],u=r[0],p=r[1],i=r[2],c=r[3];return t[0]=u*s+c*a+p*o-i*n,t[1]=p*s+c*n+i*a-u*o,t[2]=i*s+c*o+u*n-p*a,t[3]=c*s-u*a-p*n-i*o,u=r[4],p=r[5],i=r[6],c=r[7],t[4]=u*s+c*a+p*o-i*n,t[5]=p*s+c*n+i*a-u*o,t[6]=i*s+c*o+u*n-p*a,t[7]=c*s-u*a-p*n-i*o,t}function E(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[0],p=e[1],i=e[2],c=e[3];return t[0]=a*c+s*u+n*i-o*p,t[1]=n*c+s*p+o*u-a*i,t[2]=o*c+s*i+a*p-n*u,t[3]=s*c-a*u-n*p-o*i,u=e[4],p=e[5],i=e[6],c=e[7],t[4]=a*c+s*u+n*i-o*p,t[5]=n*c+s*p+o*u-a*i,t[6]=o*c+s*i+a*p-n*u,t[7]=s*c-a*u-n*p-o*i,t}function L(r,e,a,n){if(Math.abs(n)<t.EPSILON)return h(r,e);var o=Math.hypot(a[0],a[1],a[2]);n*=.5;var s=Math.sin(n),u=s*a[0]/o,p=s*a[1]/o,i=s*a[2]/o,c=Math.cos(n),f=e[0],x=e[1],l=e[2],M=e[3];r[0]=f*c+M*u+x*i-l*p,r[1]=x*c+M*p+l*u-f*i,r[2]=l*c+M*i+f*p-x*u,r[3]=M*c-f*u-x*p-l*i;var v=e[4],b=e[5],P=e[6],m=e[7];return r[4]=v*c+m*u+b*i-P*p,r[5]=b*c+m*p+P*u-v*i,r[6]=P*c+m*i+v*p-b*u,r[7]=m*c-v*u-b*p-P*i,r}function Y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t}function q(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[4],p=e[5],i=e[6],c=e[7],f=r[4],x=r[5],h=r[6],l=r[7],M=e[0],v=e[1],b=e[2],P=e[3];return t[0]=a*P+s*M+n*b-o*v,t[1]=n*P+s*v+o*M-a*b,t[2]=o*P+s*b+a*v-n*M,t[3]=s*P-a*M-n*v-o*b,t[4]=a*c+s*u+n*i-o*p+f*P+l*M+x*b-h*v,t[5]=n*c+s*p+o*u-a*i+x*P+l*v+h*M-f*b,t[6]=o*c+s*i+a*p-n*u+h*P+l*b+f*v-x*M,t[7]=s*c-a*u-n*p-o*i+l*P-f*M-x*v-h*b,t}exports.setReal=P;var j=q;function T(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t}exports.mul=j;var _=r.dot;function w(t,r,e,a){var n=1-a;return _(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t}function I(t,r){var e=k(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}exports.dot=_;var S=r.length;exports.length=S;var D=S;exports.len=D;var k=r.squaredLength;exports.squaredLength=k;var B=k;function Q(t,r){var e=k(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,s=r[3]/e,u=r[4],p=r[5],i=r[6],c=r[7],f=a*u+n*p+o*i+s*c;t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=(u-a*f)/e,t[5]=(p-n*f)/e,t[6]=(i-o*f)/e,t[7]=(c-s*f)/e}return t}function V(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function W(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function X(r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=r[4],p=r[5],i=r[6],c=r[7],f=e[0],x=e[1],h=e[2],l=e[3],M=e[4],v=e[5],b=e[6],P=e[7];return Math.abs(a-f)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(n-x)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(u-M)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(p-v)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(i-b)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(c-P)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))}exports.sqrLen=B;
},{"./common.js":"z2iX","./quat.js":"EgCJ","./mat4.js":"aEQM"}],"WTpU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=v,exports.min=h,exports.max=M,exports.round=l,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=y,exports.length=P,exports.squaredLength=q,exports.negate=A,exports.inverse=O,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=j,exports.random=Y,exports.transformMat2=_,exports.transformMat2d=w,exports.transformMat3=D,exports.transformMat4=L,exports.rotate=I,exports.angle=T,exports.zero=N,exports.str=k,exports.exactEquals=z,exports.equals=S,exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0;var r=e(require("./common.js"));function t(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return t=function(){return r},r}function e(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=t();if(e&&e.has(r))return e.get(r);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var u=o?Object.getOwnPropertyDescriptor(r,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=r[a]}return n.default=r,e&&e.set(r,n),n}function n(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function u(r,t){return r[0]=t[0],r[1]=t[1],r}function s(r,t,e){return r[0]=t,r[1]=e,r}function i(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function c(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function p(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function f(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function x(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r}function v(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r}function h(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function M(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}function l(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r}function d(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function m(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function b(r,t){var e=t[0]-r[0],n=t[1]-r[1];return Math.hypot(e,n)}function y(r,t){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function P(r){var t=r[0],e=r[1];return Math.hypot(t,e)}function q(r){var t=r[0],e=r[1];return t*t+e*e}function A(r,t){return r[0]=-t[0],r[1]=-t[1],r}function O(r,t){return r[0]=1/t[0],r[1]=1/t[1],r}function g(r,t){var e=t[0],n=t[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),r[0]=t[0]*o,r[1]=t[1]*o,r}function E(r,t){return r[0]*t[0]+r[1]*t[1]}function R(r,t,e){var n=t[0]*e[1]-t[1]*e[0];return r[0]=r[1]=0,r[2]=n,r}function j(r,t,e,n){var o=t[0],a=t[1];return r[0]=o+n*(e[0]-o),r[1]=a+n*(e[1]-a),r}function Y(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function _(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[2]*o,r[1]=e[1]*n+e[3]*o,r}function w(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[2]*o+e[4],r[1]=e[1]*n+e[3]*o+e[5],r}function D(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[3]*o+e[6],r[1]=e[1]*n+e[4]*o+e[7],r}function L(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[4]*o+e[12],r[1]=e[1]*n+e[5]*o+e[13],r}function I(r,t,e,n){var o=t[0]-e[0],a=t[1]-e[1],u=Math.sin(n),s=Math.cos(n);return r[0]=o*s-a*u+e[0],r[1]=o*u+a*s+e[1],r}function T(r,t){var e=r[0],n=r[1],o=t[0],a=t[1],u=e*e+n*n;u>0&&(u=1/Math.sqrt(u));var s=o*o+a*a;s>0&&(s=1/Math.sqrt(s));var i=(e*o+n*a)*u*s;return i>1?0:i<-1?Math.PI:Math.acos(i)}function N(r){return r[0]=0,r[1]=0,r}function k(r){return"vec2("+r[0]+", "+r[1]+")"}function z(r,t){return r[0]===t[0]&&r[1]===t[1]}function S(t,e){var n=t[0],o=t[1],a=e[0],u=e[1];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var W=P;exports.len=W;var F=c;exports.sub=F;var V=p;exports.mul=V;var B=f;exports.div=B;var C=b;exports.dist=C;var G=y;exports.sqrDist=G;var H=q;exports.sqrLen=H;var J=function(){var r=n();return function(t,e,n,o,a,u){var s,i;for(e||(e=2),n||(n=0),i=o?Math.min(o*e+n,t.length):t.length,s=n;s<i;s+=e)r[0]=t[s],r[1]=t[s+1],a(r,r,u),t[s]=r[0],t[s+1]=r[1];return t}}();exports.forEach=J;
},{"./common.js":"z2iX"}],"oQ5k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var e=v(require("./common.js"));exports.glMatrix=e;var r=v(require("./mat2.js"));exports.mat2=r;var t=v(require("./mat2d.js"));exports.mat2d=t;var o=v(require("./mat3.js"));exports.mat3=o;var a=v(require("./mat4.js"));exports.mat4=a;var s=v(require("./quat.js"));exports.quat=s;var u=v(require("./quat2.js"));exports.quat2=u;var p=v(require("./vec2.js"));exports.vec2=p;var i=v(require("./vec3.js"));exports.vec3=i;var n=v(require("./vec4.js"));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(t,a,s):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}exports.vec4=n;
},{"./common.js":"z2iX","./mat2.js":"pVW9","./mat2d.js":"untx","./mat3.js":"r4cn","./mat4.js":"aEQM","./quat.js":"EgCJ","./quat2.js":"pXUy","./vec2.js":"WTpU","./vec3.js":"ErHL","./vec4.js":"IIMV"}],"tDsI":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GLUtilities=exports.gl=void 0,exports.gl=e;var t=function(){function t(){}return t.init=function(t){var n;if(void 0!==t){if(void 0===(n=document.getElementById(t)))throw new Error("Unable to find DOM element with ID: "+t)}else n=document.createElement("canvas"),document.body.appendChild(n);if(exports.gl=e=n.getContext("webgl"),null==e&&(exports.gl=e=n.getContext("experimental-webgl"),null==e))throw new Error("Unable to get the rendering context.");return e.clearColor(146/255,206/255,247/255,1),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),n},t.clearFrame=function(){e.clear(e.COLOR_BUFFER_BIT)},t}();exports.GLUtilities=t;
},{}],"Ccjf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Shader=void 0;var r=require("./gl"),t=function(){function t(r){this._attributes={},this._uniforms={},this._name=r}return t.prototype.use=function(){r.gl.useProgram(this._program)},t.prototype.getAttributeLocation=function(r){if(void 0===this._attributes[r])throw new Error("Unable to find attribute "+r+" in shader "+this._name);return this._attributes[r]},t.prototype.getUniformLocation=function(r){if(void 0===this._uniforms[r])throw new Error("Unable to find uniform "+r+" in shader "+this._name);return this._uniforms[r]},t.prototype.load=function(t,o){var e=this.loadShader(t,r.gl.VERTEX_SHADER),i=this.loadShader(o,r.gl.FRAGMENT_SHADER);this.createProgram(e,i),this.detectAttributes(),this.detectUniforms()},t.prototype.loadShader=function(t,o){var e,i=r.gl.createShader(o);r.gl.shaderSource(i,t),r.gl.compileShader(i);var a=null===(e=r.gl.getShaderInfoLog(i))||void 0===e?void 0:e.trim();if(""!==a)throw new Error("Error compiling shader: "+this._name+" with error: "+a);return i},t.prototype.createProgram=function(t,o){var e;this._program=r.gl.createProgram(),r.gl.attachShader(this._program,t),r.gl.attachShader(this._program,o),r.gl.linkProgram(this._program);var i=null===(e=r.gl.getProgramInfoLog(this._program))||void 0===e?void 0:e.trim();if(""!==i)throw new Error("Error creating the WebGL program: "+this._program+" with error: "+i)},t.prototype.detectAttributes=function(){for(var t=r.gl.getProgramParameter(this._program,r.gl.ACTIVE_ATTRIBUTES),o=0;o<t;o++){var e=r.gl.getActiveAttrib(this._program,o);if(!e)break;this._attributes[e.name]=r.gl.getAttribLocation(this._program,e.name)}},t.prototype.detectUniforms=function(){for(var t=r.gl.getProgramParameter(this._program,r.gl.ACTIVE_UNIFORMS),o=0;o<t;o++){var e=r.gl.getActiveUniform(this._program,o);if(!e)break;this._uniforms[e.name]=r.gl.getUniformLocation(this._program,e.name)}},t}();exports.Shader=t;
},{"./gl":"tDsI"}],"d3ZM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicShader=void 0;var t=require("../shader"),e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),n=function(t){function n(){var e=t.call(this,"basic")||this;return e.load(e.getVertexSource(),e.getFragmentSource()),e}return e(n,t),n.prototype.getVertexSource=function(){return"\n            attribute vec3 a_position;\n            attribute vec2 a_texCoord;\n            \n            uniform mat4 u_projection;\n            uniform mat4 u_model;\n\n            varying vec2 v_textCoord;\n\n            void main() {\n                gl_Position = u_projection * u_model * vec4(a_position, 1.0);\n                v_textCoord = a_texCoord;\n            }\n        "},n.prototype.getFragmentSource=function(){return"\n            precision mediump float;\n\n            uniform vec4 u_tint;\n            uniform sampler2D u_diffuse;\n\n            varying vec2 v_textCoord;\n\n            void main () {\n                gl_FragColor = u_tint * texture2D(u_diffuse, v_textCoord);\n            }\n        "},n}(t.Shader);exports.BasicShader=n;
},{"../shader":"Ccjf"}],"ecJP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GLBuffer=exports.AttributeInfo=void 0;var t=require("./gl"),e=function(){return function(){}}();exports.AttributeInfo=e;var a=function(){function e(e,a,r){switch(void 0===e&&(e=t.gl.FLOAT),void 0===a&&(a=t.gl.ARRAY_BUFFER),void 0===r&&(r=t.gl.TRIANGLES),this._hasAttributeLocation=!1,this._data=[],this._attributes=[],this._elementSize=0,this._dataType=e,this._targetBufferType=a,this._mode=r,this._dataType){case t.gl.FLOAT:case t.gl.INT:case t.gl.UNSIGNED_INT:this._typeSize=4;break;case t.gl.SHORT:case t.gl.UNSIGNED_SHORT:this._typeSize=2;break;case t.gl.BYTE:case t.gl.UNSIGNED_BYTE:this._typeSize=1;break;default:throw new Error("Unrecognised datatype "+this._dataType.toString())}this._buffer=t.gl.createBuffer()}return e.prototype.destroy=function(){t.gl.deleteBuffer(this._buffer)},e.prototype.bind=function(e){if(void 0===e&&(e=!1),t.gl.bindBuffer(this._targetBufferType,this._buffer),this._hasAttributeLocation)for(var a=0,r=this._attributes;a<r.length;a++){var i=r[a];t.gl.vertexAttribPointer(i.location,i.size,this._dataType,e,this._stride,i.offset*this._typeSize),t.gl.enableVertexAttribArray(i.location)}},e.prototype.unbind=function(){for(var e=0,a=this._attributes;e<a.length;e++){var r=a[e];t.gl.disableVertexAttribArray(r.location)}t.gl.bindBuffer(this._targetBufferType,void 0)},e.prototype.addAttributeLocation=function(t){this._hasAttributeLocation=!0,t.offset=this._elementSize,this._attributes.push(t),this._elementSize+=t.size,this._stride=this._elementSize*this._typeSize},e.prototype.setData=function(t){this.clearData(),this.pushBackData(t)},e.prototype.pushBackData=function(t){for(var e=0,a=t;e<a.length;e++){var r=a[e];this._data.push(r)}},e.prototype.clearData=function(){this._data.length=0},e.prototype.upload=function(){var e;switch(t.gl.bindBuffer(this._targetBufferType,this._buffer),this._dataType){case t.gl.FLOAT:e=new Float32Array(this._data);break;case t.gl.INT:e=new Int32Array(this._data);break;case t.gl.UNSIGNED_INT:e=new Uint32Array(this._data);break;case t.gl.SHORT:e=new Int16Array(this._data);break;case t.gl.UNSIGNED_SHORT:e=new Uint16Array(this._data);break;case t.gl.BYTE:e=new Int8Array(this._data);break;case t.gl.UNSIGNED_BYTE:e=new Uint8Array(this._data);break;default:throw new Error("Unrecognised datatype "+this._dataType.toString()+" when uploading")}t.gl.bufferData(this._targetBufferType,e,t.gl.STATIC_DRAW)},e.prototype.draw=function(){this._targetBufferType===t.gl.ARRAY_BUFFER?t.gl.drawArrays(this._mode,0,this._data.length/this._elementSize):this._targetBufferType===t.gl.ELEMENT_ARRAY_BUFFER&&t.gl.drawElements(this._mode,this._data.length,this._dataType,0)},e}();exports.GLBuffer=a;
},{"./gl":"tDsI"}],"Mh4m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MaterialManager=void 0;var e=function(){return function(e){this.referenceCount=1,this.material=e}}(),a=function(){function a(){}return a.registerMaterial=function(r){void 0===a._materials[r.name]&&(a._materials[r.name]=new e(r))},a.getMaterial=function(e){if(void 0!==a._materials[e])return a._materials[e].referenceCount++,a._materials[e].material},a.releaseMaterial=function(e){void 0!==a._materials[e]?(a._materials[e].referenceCount--,a._materials[e].referenceCount<1&&(a._materials[e].material.destroy(),a._materials[e].material=void 0,delete a._materials[e])):console.warn("Cannot release material: "+e+" which has not been registered.")},a._materials={},a}();exports.MaterialManager=a;
},{}],"ezgt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vector2=void 0;var t=require("./vector3"),e=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._x=t,this._y=e}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"zero",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e(1,1)},enumerable:!0,configurable:!0}),e.distance=function(t,e){var r=t.clone().subtract(e);return Math.sqrt(r.x*r.x+r.y*r.y)},e.prototype.set=function(t,e){void 0!==t&&(this._x=t),void 0!==e&&(this._y=e)},e.prototype.copyFrom=function(t){this._x=t._x,this._y=t._y},e.prototype.toArray=function(){return[this._x,this._y]},e.prototype.toFlat32Array=function(){return new Float32Array(this.toArray())},e.prototype.toVector3=function(){return new t.Vector3(this._x,this._y,0)},e.prototype.setFromJson=function(t){void 0!==t.x&&(this._x=Number(t.x)),void 0!==t.y&&(this._y=Number(t.y))},e.prototype.add=function(t){return this._x+=t._x,this._y+=t._y,this},e.prototype.subtract=function(t){return this._x-=t._x,this._y-=t._y,this},e.prototype.multiply=function(t){return this._x*=t._x,this._y*=t._y,this},e.prototype.divide=function(t){return this._x/=t._x,this._y/=t._y,this},e.prototype.scale=function(t){return this._x*=t,this._y*=t,this},e.prototype.clone=function(){return new e(this._x,this._y)},e}();exports.Vector2=e;
},{"./vector3":"Gb9Z"}],"Gb9Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vector3=void 0;var t=require("./vector2"),e=function(){function e(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this._x=t,this._y=e,this._z=r}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"zero",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e(1,1,1)},enumerable:!0,configurable:!0}),e.distance=function(t,e){var r=t.clone().subtract(e);return Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z)},e.prototype.set=function(t,e,r){void 0!==t&&(this._x=t),void 0!==e&&(this._y=e),void 0!==r&&(this._z=r)},e.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},e.prototype.copyFrom=function(t){this._x=t._x,this._y=t._y,this._z=t._z},e.prototype.toArray=function(){return[this._x,this._y,this._z]},e.prototype.toFlat32Array=function(){return new Float32Array(this.toArray())},e.prototype.setFromJson=function(t){void 0!==t.x&&(this._x=Number(t.x)),void 0!==t.y&&(this._y=Number(t.y)),void 0!==t.z&&(this._z=Number(t.z))},e.prototype.add=function(t){return this._x+=t._x,this._y+=t._y,this._z+=t._z,this},e.prototype.subtract=function(t){return this._x-=t._x,this._y-=t._y,this._z-=t._z,this},e.prototype.multiply=function(t){return this._x*=t._x,this._y*=t._y,this._z*=t._z,this},e.prototype.divide=function(t){return this._x/=t._x,this._y/=t._y,this._z/=t._z,this},e.prototype.clone=function(){return new e(this._x,this._y,this._z)},e.prototype.toVector2=function(){return new t.Vector2(this._x,this._y)},e}();exports.Vector3=e;
},{"./vector2":"ezgt"}],"B7SC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vertex=void 0;var t=require("../math/vector3"),o=require("../math/vector2"),r=function(){function r(r,e,i,s,n){void 0===r&&(r=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),this.position=t.Vector3.zero,this.textCoords=o.Vector2.zero,this.position.x=r,this.position.y=e,this.position.z=i,this.textCoords.x=s,this.textCoords.y=n}return r.prototype.toArray=function(){var t=[];return t=(t=t.concat(this.position.toArray())).concat(this.textCoords.toArray())},r.prototype.toFloat32Array=function(){return new Float32Array(this.toArray())},r}();exports.Vertex=r;
},{"../math/vector3":"Gb9Z","../math/vector2":"ezgt"}],"jZ8q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sprite=void 0;var t=require("../gl/gl"),e=require("../gl/glBuffer"),i=require("./materialManager"),r=require("./vertex"),o=require("../math/vector3"),a=function(){function a(t,e,r,a){void 0===r&&(r=100),void 0===a&&(a=100),this._origin=o.Vector3.zero,this._vertices=[],this._name=t,this._width=r,this._height=a,this._materialName=e,this._material=i.MaterialManager.getMaterial(this._materialName)}return Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"origin",{get:function(){return this._origin},set:function(t){this._origin=t,this.recalculateVertices()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){this._buffer.destroy(),i.MaterialManager.releaseMaterial(this._materialName),this._material=void 0,this._materialName=void 0},a.prototype.load=function(){this._buffer=new e.GLBuffer;var t=new e.AttributeInfo;t.location=0,t.size=3,this._buffer.addAttributeLocation(t);var i=new e.AttributeInfo;i.location=1,i.size=2,this._buffer.addAttributeLocation(i),this.calculateVertices()},a.prototype.update=function(t){},a.prototype.draw=function(e,i){var r=e.getUniformLocation("u_model");t.gl.uniformMatrix4fv(r,!1,i.toFloat32Array());var o=e.getUniformLocation("u_tint");if(t.gl.uniform4fv(o,this._material.tint.toFloat32Array()),void 0!==this._material.diffuseTexture){this._material.diffuseTexture.activateAndBind(0);var a=e.getUniformLocation("u_diffuse");t.gl.uniform1i(a,0)}this._buffer.bind(),this._buffer.draw()},a.prototype.calculateVertices=function(){var t=-this._width*this._origin.x,e=this._width*(1-this._origin.x),i=-this._height*this._origin.y,o=this._height*(1-this._origin.y);this._vertices=[new r.Vertex(t,i,0,0,0),new r.Vertex(t,o,0,0,1),new r.Vertex(e,o,0,1,1),new r.Vertex(e,o,0,1,1),new r.Vertex(e,i,0,1,0),new r.Vertex(t,i,0,0,0)];for(var a=0,n=this._vertices;a<n.length;a++){var s=n[a];this._buffer.pushBackData(s.toArray())}this._buffer.upload(),this._buffer.unbind()},a.prototype.recalculateVertices=function(){var t=-this._width*this._origin.x,e=this._width*(1-this._origin.x),i=-this._height*this._origin.y,r=this._height*(1-this._origin.y);this._vertices[0].position.set(t,i),this._vertices[1].position.set(t,r),this._vertices[2].position.set(e,r),this._vertices[3].position.set(e,r),this._vertices[4].position.set(e,i),this._vertices[5].position.set(t,i),this._buffer.clearData();for(var o=0,a=this._vertices;o<a.length;o++){var n=a[o];this._buffer.pushBackData(n.toArray())}this._buffer.upload(),this._buffer.unbind()},a}();exports.Sprite=a;
},{"../gl/gl":"tDsI","../gl/glBuffer":"ecJP","./materialManager":"Mh4m","./vertex":"B7SC","../math/vector3":"Gb9Z"}],"gSld":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseComponent=void 0;var e=function(){function e(e){this._data=e,this.name=e.name}return e.prototype.buildFromJson=function(e){throw new Error("Method not implemented.")},Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),e.prototype.setOwner=function(e){this._owner=e},e.prototype.load=function(){},e.prototype.updateReady=function(){},e.prototype.update=function(e){},e.prototype.render=function(e){},e}();exports.BaseComponent=e;
},{}],"o12l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpriteComponent=exports.SpriteComponentBuilder=exports.SpriteComponentData=void 0;var t=require("../graphics/sprite"),e=require("./baseComponent"),r=require("../math/vector3"),o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=function(){function t(){this.origin=r.Vector3.zero}return t.prototype.setFromJson=function(t){void 0!==t.name&&(this.name=String(t.name)),void 0!==t.width&&(this.width=Number(t.width)),void 0!==t.height&&(this.height=Number(t.height)),void 0!==t.materialName&&(this.materialName=String(t.materialName)),void 0!==t.origin&&this.origin.setFromJson(t.origin)},t}();exports.SpriteComponentData=i;var n=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"sprite"},enumerable:!0,configurable:!0}),t.prototype.buildFromJson=function(t){var e=new i;return e.setFromJson(t),new p(e)},t}();exports.SpriteComponentBuilder=n;var p=function(e){function i(o){var i=e.call(this,o)||this;return i.width=o.width,i.height=o.height,i._sprite=new t.Sprite(o.name,o.materialName,i.width,i.height),o.origin.equals(r.Vector3.zero)||i._sprite.origin.copyFrom(o.origin),i}return o(i,e),i.prototype.load=function(){this._sprite.load()},i.prototype.render=function(t){this._sprite.draw(t,this.owner.worldMatrix),e.prototype.render.call(this,t)},i}(e.BaseComponent);exports.SpriteComponent=p;
},{"../graphics/sprite":"jZ8q","./baseComponent":"gSld","../math/vector3":"Gb9Z"}],"gaq0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageSubscritionNode=void 0;var e=function(){return function(e,s){this.message=e,this.handler=s}}();exports.MessageSubscritionNode=e;
},{}],"P8Cc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageBus=void 0;var e=require("./message"),s=require("./messageSubscriptionNode"),o=function(){function o(){}return o.addSubscription=function(e,s){void 0===o._subscriptions[e]&&(o._subscriptions[e]=[]),-1!==o._subscriptions[e].indexOf(s)?console.warn("Attemping to add  a duplicate handler to code "+e+". Subscription not added."):o._subscriptions[e].push(s)},o.removeSubscription=function(e,s){if(void 0!==o._subscriptions[e]){var i=o._subscriptions[e].indexOf(s);-1!==i&&o._subscriptions[e].splice(i,1)}else console.warn("Cannot unsubscribe handler from the code: "+e+", because that code is not subscribed to.")},o.post=function(i){console.log("Message posted",i);var n=o._subscriptions[i.code];if(void 0!==n)for(var r=0,t=n;r<t.length;r++){var u=t[r];i.priority===e.MessagePriotity.HIGH?u.onMessage(i):o._normalMessageQueue.push(new s.MessageSubscritionNode(i,u))}},o.update=function(e){if(0!==o._normalMessageQueue.length)for(var s=Math.min(o._normalQueueMessagePerUpdate,o._normalMessageQueue.length),i=0;i<s;i++){var n=o._normalMessageQueue.pop();n&&n.handler.onMessage(n.message)}},o._subscriptions={},o._normalQueueMessagePerUpdate=10,o._normalMessageQueue=[],o}();exports.MessageBus=o;
},{"./message":"lt9y","./messageSubscriptionNode":"gaq0"}],"lt9y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Message=exports.MessagePriotity=void 0;var e,s=require("./messageBus");exports.MessagePriotity=e,function(e){e[e.NORMAL=0]="NORMAL",e[e.HIGH=1]="HIGH"}(e||(exports.MessagePriotity=e={}));var t=function(){function t(s,t,i,o){void 0===o&&(o=e.NORMAL),this.code=s,this.sender=t,this.context=i,this.priority=o}return t.send=function(e,i,o){s.MessageBus.post(new t(e,i,o))},t.sendPriority=function(i,o,r){s.MessageBus.post(new t(i,o,r,e.HIGH))},t.subscribe=function(e,t){s.MessageBus.addSubscription(e,t)},t.unsubscribe=function(e,t){s.MessageBus.removeSubscription(e,t)},t}();exports.Message=t;
},{"./messageBus":"P8Cc"}],"rOVN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImageAssetLoader=exports.ImageAsset=void 0;var e=require("./assetManager"),t=function(){function e(e,t){this.name=e,this.data=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this.data.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.data.height},enumerable:!0,configurable:!0}),e}();exports.ImageAsset=t;var o=function(){function o(){}return Object.defineProperty(o.prototype,"supportedExtensions",{get:function(){return["png","gif","jpg"]},enumerable:!0,configurable:!0}),o.prototype.loadAsset=function(e){var t=new Image;t.onload=this.onImageLoaded.bind(this,e,t),t.src=e},o.prototype.onImageLoaded=function(o,n){console.log("OnImageLoaded: assetName/Image",o,n);var r=new t(o,n);e.AssetManager.onAssetLoaded(r)},o}();exports.ImageAssetLoader=o;
},{"./assetManager":"fAg5"}],"Dgoa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonAssetLoader=exports.JsonAsset=void 0;var e=require("./assetManager"),t=function(){return function(e,t){this.name=e,this.data=t}}();exports.JsonAsset=t;var o=function(){function o(){}return Object.defineProperty(o.prototype,"supportedExtensions",{get:function(){return["json"]},enumerable:!0,configurable:!0}),o.prototype.loadAsset=function(e){var t=new XMLHttpRequest;t.open("GET",e),t.addEventListener("load",this.onJsonLoaded.bind(this,e,t)),t.send()},o.prototype.onJsonLoaded=function(o,s){if(console.log("OnImageLoaded: assetName/Image",o,s),s.readyState===s.DONE){var n=JSON.parse(s.responseText),r=new t(o,n);e.AssetManager.onAssetLoaded(r)}},o}();exports.JsonAssetLoader=o;
},{"./assetManager":"fAg5"}],"rOo6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextAssetLoader=exports.TextAsset=void 0;var e=require("./assetManager"),t=function(){return function(e,t){this.name=e,this.data=t}}();exports.TextAsset=t;var o=function(){function o(){}return Object.defineProperty(o.prototype,"supportedExtensions",{get:function(){return["txt"]},enumerable:!0,configurable:!0}),o.prototype.loadAsset=function(e){var t=new XMLHttpRequest;t.open("GET",e),t.addEventListener("load",this.onTextLoaded.bind(this,e,t)),t.send()},o.prototype.onTextLoaded=function(o,s){if(console.debug("onTextLoaded: assetName/request",o,s),s.readyState===s.DONE){var n=new t(o,s.responseText);e.AssetManager.onAssetLoaded(n)}},o}();exports.TextAssetLoader=o;
},{"./assetManager":"fAg5"}],"fAg5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssetManager=exports.MESSAGE_ASSET_LOADER_ASSET_LOADED=void 0;var e=require("../message/message"),s=require("./imageAssetLoader"),t=require("./jsonAssetLoader"),o=require("./TextAssetLoader"),r="MESSAGE_ASSET_LOADER_ASSET_LOADED::";exports.MESSAGE_ASSET_LOADER_ASSET_LOADED=r;var a=function(){function a(){}return a.initialize=function(){a._loaders.push(new s.ImageAssetLoader),a._loaders.push(new t.JsonAssetLoader),a._loaders.push(new o.TextAssetLoader)},a.prototype.registerLoader=function(e){a._loaders.push(e)},a.onAssetLoaded=function(s){a._loadedAssets[s.name]=s,e.Message.send(r+s.name,this,s)},a.loadAsset=function(e){var s=e.split(".").pop();s=s?s.toLowerCase():s;for(var t=0,o=a._loaders;t<o.length;t++){var r=o[t];if(-1!==r.supportedExtensions.indexOf(s))return void r.loadAsset(e)}console.warn("Unable to load asset with extension "+s+", because there is no loader associated with it.")},a.isAssetLoaded=function(e){return void 0!==a._loadedAssets[e]},a.getAsset=function(e){if(a.isAssetLoaded(e))return a._loadedAssets[e];a.loadAsset(e)},a._loaders=[],a._loadedAssets={},a}();exports.AssetManager=a;
},{"../message/message":"lt9y","./imageAssetLoader":"rOVN","./jsonAssetLoader":"Dgoa","./TextAssetLoader":"rOo6"}],"RBfy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedSprite=exports.AnimatedSpriteInfo=void 0;var t=require("../math/vector2"),e=require("./sprite"),i=require("../message/message"),r=require("../assets/assetManager"),s=require("./materialManager"),a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),o=function(){return function(t,e){this.min=t,this.max=e}}(),h=function(){return function(){this.width=100,this.height=100,this.frameWidth=10,this.frameHeight=10,this.frameCount=1,this.frameSequence=[],this.frameTime=60}}();exports.AnimatedSpriteInfo=h;var n=function(e){function h(t){var s=e.call(this,t.name,t.materialName,t.width,t.height)||this;return s._frameTime=33,s._frameUVs=[],s._currentFrame=0,s._currentTime=0,s._assetLoaded=!1,s._assetWidth=2,s._assetHeight=2,s._isPlaying=!0,s._frameWidth=t.frameWidth,s._frameHeight=t.frameHeight,s._frameCount=t.frameCount,s._frameSequence=t.frameSequence,s._frameTime=t.frameTime,i.Message.subscribe(r.MESSAGE_ASSET_LOADER_ASSET_LOADED+s._material.diffuseTextureName,s),s}return a(h,e),Object.defineProperty(h.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),h.prototype.destroy=function(){e.prototype.destroy.call(this)},h.prototype.play=function(){this._isPlaying=!0},h.prototype.stop=function(){this._isPlaying=!1},h.prototype.setFrame=function(t){if(t>=this._frameCount)throw new Error("Frame is out of range: "+t+", frame count "+this._frameCount);this._currentFrame=t},h.prototype.onMessage=function(t){if(t.code===r.MESSAGE_ASSET_LOADER_ASSET_LOADED+this._material.diffuseTextureName){this._assetLoaded=!0;var e=t.context;this._assetWidth=e.width,this._assetHeight=e.height,this._calculateUVs()}},h.prototype.load=function(){e.prototype.load.call(this),this._assetLoaded||this.setupFromMaterial()},h.prototype.update=function(i){if(this._assetLoaded){if(this._isPlaying){if(this._currentTime+=i,this._currentTime>this._frameTime){this._currentFrame++,this._currentTime=0,this._currentFrame>=this._frameSequence.length&&(this._currentFrame=0);var r=this._frameSequence[this._currentFrame];this._vertices[0].textCoords.copyFrom(this._frameUVs[r].min),this._vertices[1].textCoords=new t.Vector2(this._frameUVs[r].min.x,this._frameUVs[r].max.y),this._vertices[2].textCoords.copyFrom(this._frameUVs[r].max),this._vertices[3].textCoords.copyFrom(this._frameUVs[r].max),this._vertices[4].textCoords=new t.Vector2(this._frameUVs[r].max.x,this._frameUVs[r].min.y),this._vertices[5].textCoords.copyFrom(this._frameUVs[r].min),this._buffer.clearData();for(var s=0,a=this._vertices;s<a.length;s++){var o=a[s];this._buffer.pushBackData(o.toArray())}this._buffer.upload(),this._buffer.bind()}e.prototype.update.call(this,i)}}else this.setupFromMaterial()},h.prototype._calculateUVs=function(){for(var e=0,i=0;i<this._frameCount;++i){i*this._frameWidth>this._assetWidth&&(e++,0);var r=i*this._frameWidth/this._assetWidth,s=e*this._frameHeight/this._assetHeight,a=new t.Vector2(r,s),h=(i*this._frameWidth+this._frameWidth)/this._assetWidth,n=(e*this._frameHeight+this._frameHeight)/this._assetHeight,f=new t.Vector2(h,n);this._frameUVs.push(new o(a,f))}},h.prototype.setupFromMaterial=function(){if(!this._assetLoaded){var t=s.MaterialManager.getMaterial(this._materialName);t.diffuseTexture.isLoaded&&r.AssetManager.isAssetLoaded(t.diffuseTextureName)&&(this._assetWidth=t.diffuseTexture.width,this._assetHeight=t.diffuseTexture.height,this._assetLoaded=!0,this._calculateUVs())}},h}(e.Sprite);exports.AnimatedSprite=n;
},{"../math/vector2":"ezgt","./sprite":"jZ8q","../message/message":"lt9y","../assets/assetManager":"fAg5","./materialManager":"Mh4m"}],"ZGTg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedSpriteComponent=exports.AnimatedSpriteComponentBuilder=exports.AnimatedSpriteComponentData=void 0;var e=require("../graphics/animatedSprite"),t=require("./baseComponent"),r=require("./spriteComponent"),o=require("../math/vector3"),n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameSequence=[],t.autoPlay=!0,t.frameTime=33,t}return n(t,e),t.prototype.setFromJson=function(t){if(e.prototype.setFromJson.call(this,t),void 0!==t.autoPlay&&(this.autoPlay=Boolean(t.autoPlay)),void 0===t.frameWidth)throw new Error("AnimatedComponentData requires 'frameWidth' to be defined");if(this.frameWidth=Number(t.frameWidth),void 0===t.frameHeight)throw new Error("AnimatedComponentData requires 'frameHeight' to be defined");if(this.frameHeight=Number(t.frameHeight),void 0===t.frameCount)throw new Error("AnimatedComponentData requires 'frameCount' to be defined");if(this.frameCount=Number(t.frameCount),void 0===t.frameSequence)throw new Error("AnimatedComponentData requires 'frameSequence' to be defined");this.frameSequence=t.frameSequence,void 0!==t.frameTime&&(this.frameTime=Number(t.frameTime))},t}(r.SpriteComponentData);exports.AnimatedSpriteComponentData=i;var a=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"animatedSprite"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var t=new i;return t.setFromJson(e),new p(t)},e}();exports.AnimatedSpriteComponentBuilder=a;var p=function(t){function r(r){var n=t.call(this,r)||this;n._autoPlay=r.autoPlay;var i=new e.AnimatedSpriteInfo;return i.name=name,i.materialName=r.materialName,i.frameWidth=r.frameWidth,i.frameHeight=r.frameHeight,i.width=r.frameWidth,i.height=r.frameHeight,i.frameCount=r.frameCount,i.frameSequence=r.frameSequence,i.frameTime=r.frameTime,n._sprite=new e.AnimatedSprite(i),r.origin.equals(o.Vector3.zero)||n._sprite.origin.copyFrom(r.origin),n}return n(r,t),Object.defineProperty(r.prototype,"isPlaying",{get:function(){return this._sprite.isPlaying},enumerable:!0,configurable:!0}),r.prototype.load=function(){this._sprite.load()},r.prototype.updateReady=function(){this._autoPlay||this._sprite.stop()},r.prototype.update=function(e){this._sprite.update(e),t.prototype.update.call(this,e)},r.prototype.render=function(e){this._sprite.draw(e,this.owner.worldMatrix),t.prototype.render.call(this,e)},r.prototype.play=function(){this._sprite.play()},r.prototype.stop=function(){this._sprite.stop()},r.prototype.setFrame=function(e){this._sprite.setFrame(e)},r}(t.BaseComponent);exports.AnimatedSpriteComponent=p;
},{"../graphics/animatedSprite":"RBfy","./baseComponent":"gSld","./spriteComponent":"o12l","../math/vector3":"Gb9Z"}],"su21":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Texture=void 0;var e=require("../gl/gl"),t=require("../message/message"),i=require("../assets/assetManager"),r=0,o=0,n=new Uint8Array([255,255,255,255]),s=function(){function s(s,g,a){void 0===g&&(g=1),void 0===a&&(a=1),this._isLoaded=!1,this._name=s,this._width=g,this._height=a,this._handle=e.gl.createTexture(),this.bind(),e.gl.texImage2D(e.gl.TEXTURE_2D,r,e.gl.RGBA,1,1,o,e.gl.RGBA,e.gl.UNSIGNED_BYTE,n);var l=i.AssetManager.getAsset(this.name);void 0!==l?this.loadTextureFromAsset(l):t.Message.subscribe(i.MESSAGE_ASSET_LOADER_ASSET_LOADED+this.name,this)}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),s.prototype.destroy=function(){e.gl.deleteTexture(this._handle)},s.prototype.activateAndBind=function(t){void 0===t&&(t=0),e.gl.activeTexture(e.gl.TEXTURE0+t),this.bind()},s.prototype.bind=function(){e.gl.bindTexture(e.gl.TEXTURE_2D,this._handle)},s.prototype.unbind=function(){e.gl.bindTexture(e.gl.TEXTURE_2D,void 0)},s.prototype.onMessage=function(e){e.code===i.MESSAGE_ASSET_LOADER_ASSET_LOADED+this.name&&this.loadTextureFromAsset(e.context)},s.prototype.loadTextureFromAsset=function(t){this._width=t.width,this._height=t.height,this.bind(),e.gl.texImage2D(e.gl.TEXTURE_2D,r,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,t.data),this.isPowerOf2()?e.gl.generateMipmap(e.gl.TEXTURE_2D):(e.gl.texParameteri(e.gl.TEXTURE_2D,e.gl.TEXTURE_WRAP_S,e.gl.CLAMP_TO_EDGE),e.gl.texParameteri(e.gl.TEXTURE_2D,e.gl.TEXTURE_WRAP_T,e.gl.CLAMP_TO_EDGE)),e.gl.texParameteri(e.gl.TEXTURE_2D,e.gl.TEXTURE_MIN_FILTER,e.gl.NEAREST),e.gl.texParameteri(e.gl.TEXTURE_2D,e.gl.TEXTURE_MAG_FILTER,e.gl.NEAREST),this._isLoaded=!0},s.prototype.isPowerOf2=function(){return this.isValuePowerOf2(this._width)&&this.isValuePowerOf2(this._height)},s.prototype.isValuePowerOf2=function(e){return 0==(e&e-1)},s}();exports.Texture=s;
},{"../gl/gl":"tDsI","../message/message":"lt9y","../assets/assetManager":"fAg5"}],"PyV7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextureManager=void 0;var e=require("./texture"),t=function(){return function(e){this.referenceCount=1,this.texture=e}}(),r=function(){function r(){}return r.getTexture=function(u){if(void 0===r._textures[name]){var n=new e.Texture(u);r._textures[u]=new t(n)}else r._textures[u].referenceCount++;return r._textures[u].texture},r.releaseTexture=function(e){void 0===r._textures[name]?console.warn("A texture named "+e+" does not exist and cannot be released"):(r._textures[e].referenceCount--,r._textures[e].referenceCount<1&&(r._textures[e].texture.destroy(),r._textures[e]=void 0,delete r._textures[e]))},r._textures={},r}();exports.TextureManager=r;
},{"./texture":"su21"}],"hgRK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Material=void 0;var e=require("./textureManager"),t=function(){function t(t,r,u){this._name=t,this._diffuseTextureName=r,this._tint=u,void 0!==this._diffuseTextureName&&(this._diffuseTexture=e.TextureManager.getTexture(this._diffuseTextureName))}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuseTextureName",{get:function(){return this._diffuseTextureName},set:function(t){void 0!==this._diffuseTextureName&&e.TextureManager.releaseTexture(this._diffuseTextureName),this._diffuseTextureName=t,void 0!==this._diffuseTextureName&&(this._diffuseTexture=e.TextureManager.getTexture(this._diffuseTextureName))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuseTexture",{get:function(){return this._diffuseTexture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){e.TextureManager.releaseTexture(this._diffuseTextureName),this._diffuseTexture=void 0},t}();exports.Material=t;
},{"./textureManager":"PyV7"}],"FfiS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Color=void 0;var t=function(){function t(t,e,r,n){void 0===t&&(t=255),void 0===e&&(e=255),void 0===r&&(r=255),void 0===n&&(n=255),this._r=t,this._g=e,this._b=r,this._a=n}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rFloat",{get:function(){return this._r/255},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gFloat",{get:function(){return this._g/255},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bFloat",{get:function(){return this._b/255},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aFloat",{get:function(){return this._a/255},enumerable:!0,configurable:!0}),t.prototype.toArray=function(){return[this._r,this._g,this._b,this._a]},t.prototype.toFloatArray=function(){return[this._r/255,this._g/255,this._b/255,this._a/255]},t.prototype.toFloat32Array=function(){return new Float32Array(this.toFloatArray())},t.white=function(){return new t(255,255,255,255)},t.black=function(){return new t(0,0,0,255)},t.red=function(){return new t(255,0,0,255)},t.green=function(){return new t(0,255,0,255)},t.blue=function(){return new t(0,0,255,255)},t}();exports.Color=t;
},{}],"R2nn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Matrix4x4=void 0;var a=function(){function a(){this._data=[],this._data=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return Object.defineProperty(a.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),a.identity=function(){return new a},a.orthographic=function(t,d,_,n,r,o){var e=new a,i=1/(t-d),u=1/(_-n),c=1/(r-o);return e._data[0]=-2*i,e._data[5]=-2*u,e._data[10]=-2*c,e._data[12]=(t+d)*i,e._data[13]=(n+_)*u,e._data[14]=(o+r)*c,e},a.translation=function(t){var d=new a;return d._data[12]=t.x,d._data[13]=t.y,d._data[14]=t.z,d},a.rotationX=function(t){var d=new a,_=Math.cos(t),n=Math.sin(t);return d._data[5]=_,d._data[6]=n,d._data[9]=-n,d._data[10]=_,d},a.rotationY=function(t){var d=new a,_=Math.cos(t),n=Math.sin(t);return d._data[0]=_,d._data[2]=-n,d._data[8]=n,d._data[10]=_,d},a.rotationZ=function(t){var d=new a,_=Math.cos(t),n=Math.sin(t);return d._data[0]=_,d._data[1]=n,d._data[4]=-n,d._data[5]=_,d},a.rotationXYZ=function(t,d,_){var n=a.rotationX(t),r=a.rotationY(d),o=a.rotationZ(_);return a.multiply(a.multiply(o,r),n)},a.scale=function(t){var d=new a;return d._data[0]=t.x,d._data[5]=t.y,d._data[10]=t.z,d},a.multiply=function(t,d){var _=new a,n=d._data[0],r=d._data[1],o=d._data[2],e=d._data[3],i=d._data[4],u=d._data[5],c=d._data[6],s=d._data[7],f=d._data[8],p=d._data[9],l=d._data[10],y=d._data[11],h=d._data[12],v=d._data[13],w=d._data[14],x=d._data[15],M=t._data[0],m=t._data[1],b=t._data[2],g=t._data[3],F=t._data[4],X=t._data[5],Y=t._data[6],Z=t._data[7],j=t._data[8],z=t._data[9],A=t._data[10],O=t._data[11],P=t._data[12],k=t._data[13],q=t._data[14],B=t._data[15];return _._data[0]=n*M+r*F+o*j+e*P,_._data[1]=n*m+r*X+o*z+e*k,_._data[2]=n*b+r*Y+o*A+e*q,_._data[3]=n*g+r*Z+o*O+e*B,_._data[4]=i*M+u*F+c*j+s*P,_._data[5]=i*m+u*X+c*z+s*k,_._data[6]=i*b+u*Y+c*A+s*q,_._data[7]=i*g+u*Z+c*O+s*B,_._data[8]=f*M+p*F+l*j+y*P,_._data[9]=f*m+p*X+l*z+y*k,_._data[10]=f*b+p*Y+l*A+y*q,_._data[11]=f*g+p*Z+l*O+y*B,_._data[12]=h*M+v*F+w*j+x*P,_._data[13]=h*m+v*X+w*z+x*k,_._data[14]=h*b+v*Y+w*A+x*q,_._data[15]=h*g+v*Z+w*O+x*B,_},a.prototype.toFloat32Array=function(){return new Float32Array(this._data)},a.prototype.copyFrom=function(a){for(var t=0;t<16;++t)this._data[t]=a._data[t]},a}();exports.Matrix4x4=a;
},{}],"gAlB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transform=void 0;var o=require("./vector3"),t=require("./matrix4x4"),i=function(){function i(){this.position=o.Vector3.zero,this.rotation=o.Vector3.zero,this.scale=o.Vector3.one}return i.prototype.copyFrom=function(o){this.position.copyFrom(o.position),this.rotation.copyFrom(o.rotation),this.scale.copyFrom(o.scale)},i.prototype.getTransformationMatrix=function(){var o=t.Matrix4x4.translation(this.position),i=t.Matrix4x4.rotationXYZ(this.rotation.x,this.rotation.y,this.rotation.z),r=t.Matrix4x4.scale(this.scale);return t.Matrix4x4.multiply(t.Matrix4x4.multiply(o,i),r)},i.prototype.setFromJson=function(o){void 0!==o.position&&this.position.setFromJson(o.position),void 0!==o.rotation&&this.rotation.setFromJson(o.rotation),void 0!==o.scale&&this.scale.setFromJson(o.scale)},i}();exports.Transform=i;
},{"./vector3":"Gb9Z","./matrix4x4":"R2nn"}],"tvly":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimObject=void 0;var t=require("../math/transform"),e=require("../math/matrix4x4"),r=require("../math/vector3"),i=function(){function i(r,i,o){this._children=[],this._isLoaded=!1,this._components=[],this._behaviors=[],this._isVisible=!0,this._localMatrix=e.Matrix4x4.identity(),this._worldMatrix=e.Matrix4x4.identity(),this.transform=new t.Transform,this._id=r,this.name=i,this._scene=o}return Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"worldMatrix",{get:function(){return this._worldMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t},enumerable:!0,configurable:!0}),i.prototype.addChild=function(t){t._parent=this,this._children.push(t),t.onAdded(this._scene)},i.prototype.removeChaild=function(t){var e=this._children.indexOf(t);-1!==e&&(t._parent=void 0,this._children.splice(e,1))},i.prototype.getComponentByName=function(t){for(var e=0,r=this._components;e<r.length;e++){if((n=r[e]).name===t)return n}for(var i=0,o=this._children;i<o.length;i++){var n;o[i];if(void 0!==(n=this.getComponentByName(t)))return n}},i.prototype.getBehaviorByName=function(t){for(var e=0,r=this._behaviors;e<r.length;e++){if((n=r[e]).name===t)return n}for(var i=0,o=this._children;i<o.length;i++){var n;o[i];if(void 0!==(n=this.getBehaviorByName(t)))return n}},i.prototype.getObjectByName=function(t){if(this.name===t)return this;for(var e=0,r=this._children;e<r.length;e++){var i=r[e].getObjectByName(t);if(void 0!==i)return i}},i.prototype.addComponent=function(t){this._components.push(t),t.setOwner(this)},i.prototype.addBehavior=function(t){this._behaviors.push(t),t.setOwner(this)},i.prototype.load=function(){this._isLoaded=!0;for(var t=0,e=this._components;t<e.length;t++){e[t].load()}for(var r=0,i=this._children;r<i.length;r++){i[r].load()}},i.prototype.updateReady=function(){for(var t=0,e=this._components;t<e.length;t++){e[t].updateReady()}for(var r=0,i=this._behaviors;r<i.length;r++){i[r].updateReady()}for(var o=0,n=this._children;o<n.length;o++){n[o].updateReady()}},i.prototype.update=function(t){this._localMatrix=this.transform.getTransformationMatrix(),this.updateWorldMatrix(void 0!==this.parent?this.parent.worldMatrix:void 0);for(var e=0,r=this._components;e<r.length;e++){r[e].update(t)}for(var i=0,o=this._behaviors;i<o.length;i++){o[i].update(t)}for(var n=0,a=this._children;n<a.length;n++){a[n].update(t)}},i.prototype.render=function(t){if(this.isVisible){for(var e=0,r=this._components;e<r.length;e++){r[e].render(t)}for(var i=0,o=this._children;i<o.length;i++){o[i].render(t)}}},i.prototype.getWorldPosition=function(){return new r.Vector3(this._worldMatrix.data[12],this._worldMatrix.data[13],this._worldMatrix.data[14])},i.prototype.onAdded=function(t){this._scene=t},i.prototype.updateWorldMatrix=function(t){void 0!==t?this._worldMatrix=e.Matrix4x4.multiply(t,this._localMatrix):this.worldMatrix.copyFrom(this._localMatrix)},i}();exports.SimObject=i;
},{"../math/transform":"gAlB","../math/matrix4x4":"R2nn","../math/vector3":"Gb9Z"}],"EkXW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scene=void 0;var t=require("./simObject"),e=function(){function e(){this._root=new t.SimObject(0,"__ROOT__",this)}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._root.isLoaded},enumerable:!0,configurable:!0}),e.prototype.addObject=function(t){this._root.addChild(t)},e.prototype.getObjectByName=function(t){return this._root.getObjectByName(t)},e.prototype.load=function(){this._root.load()},e.prototype.update=function(t){this._root.update(t)},e.prototype.render=function(t){this._root.render(t)},e}();exports.Scene=e;
},{"./simObject":"tvly"}],"vqEM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentManager=void 0;var e=function(){function e(){}return e.registerBuilder=function(r){e._registeredBuilders[r.type]=r},e.extractComponent=function(r){var t=void 0;if(void 0!==r.type&&void 0!==e._registeredBuilders[String(r.type)]&&(t=e._registeredBuilders[String(r.type)].buildFromJson(r)),void 0===t)throw new Error("Component manager error - type is missing or builder is not registered for this type.");return t},e._registeredBuilders={},e}();exports.ComponentManager=e;
},{}],"b3SU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BehaviorManager=void 0;var e=function(){function e(){}return e.registerBuilder=function(r){e._registeredBuilders[r.type]=r},e.extractBehavior=function(r){var i=void 0;if(void 0!==r.type&&void 0!==e._registeredBuilders[String(r.type)]&&(i=e._registeredBuilders[String(r.type)].buildFromJson(r)),void 0===i)throw new Error("Behavior manager error - type is missing or builder is not registered for this type.");return i},e._registeredBuilders={},e}();exports.BehaviorManager=e;
},{}],"tcYh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Zone=exports.ZoneState=void 0;var e,t=require("./scene"),o=require("./simObject"),n=require("../components/componentManager"),r=require("../behaviors/behaviorManager");exports.ZoneState=e,function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.UPDATING=2]="UPDATING"}(e||(exports.ZoneState=e={}));var i=function(){function i(o,n,r){this._state=e.UNINITIALIZED,this._globalID=-1,this._id=o,this._name=n,this._description=r,this._scene=new t.Scene}return Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"description",{get:function(){return this._description},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),i.prototype.initialize=function(e){if(void 0===e.objects)throw new Error("Zone initialization error objects not present.");for(var t in e.objects){var o=e.objects[t];this.loadSimObject(o,this._scene.root)}},i.prototype.load=function(){this._state=e.LOADING,this._scene.load(),this._scene.root.updateReady(),this._state=e.UPDATING},i.prototype.unload=function(){},i.prototype.update=function(t){this._state===e.UPDATING&&this._scene.update(t)},i.prototype.render=function(t){this._state===e.UPDATING&&this._scene.render(t)},i.prototype.onActivated=function(){},i.prototype.onDeactivated=function(){},i.prototype.loadSimObject=function(e,t){var i="";void 0!==e.name&&(i=String(e.name)),this._globalID++;var a=new o.SimObject(this._globalID,i,this._scene);if(void 0!==e.transform&&a.transform.setFromJson(e.transform),void 0!==e.components)for(var s in e.components){var c=e.components[s],p=n.ComponentManager.extractComponent(c);a.addComponent(p)}if(void 0!==e.behaviors)for(var d in e.behaviors){c=e.behaviors[d];var u=r.BehaviorManager.extractBehavior(c);a.addBehavior(u)}if(void 0!==e.children)for(var h in e.children){var f=e.children[h];this.loadSimObject(f,a)}void 0!==t&&t.addChild(a)},i}();exports.Zone=i;
},{"./scene":"EkXW","./simObject":"tvly","../components/componentManager":"vqEM","../behaviors/behaviorManager":"b3SU"}],"qZMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZoneManager=void 0;var e=require("./zone"),n=require("../assets/assetManager"),o=require("../message/message"),t=function(){function t(){}return t.initialize=function(){t._inst=new t,t._registeredZones[0]="assets/zones/testZone.json"},t.changeZone=function(e){if(void 0!==this._activeZone&&(t._activeZone.onDeactivated(),t._activeZone.unload(),t._activeZone=void 0),void 0===t._registeredZones[e])throw new Error("Zone id: "+e+" does not exist");if(n.AssetManager.isAssetLoaded(t._registeredZones[e])){var i=n.AssetManager.getAsset(t._registeredZones[e]);t.loadZone(i)}else o.Message.subscribe(n.MESSAGE_ASSET_LOADER_ASSET_LOADED+t._registeredZones[e],t._inst),n.AssetManager.loadAsset(t._registeredZones[e])},t.update=function(e){void 0!==t._activeZone&&t._activeZone.update(e)},t.render=function(e){void 0!==t._activeZone&&t._activeZone.render(e)},t.prototype.onMessage=function(e){if(-1!==e.code.indexOf(n.MESSAGE_ASSET_LOADER_ASSET_LOADED)){var o=e.context;t.loadZone(o)}},t.loadZone=function(n){var i,s,r=n.data;if(void 0===r.id)throw new Error("Zone file format exception. Zone ID not present");if(i=Number(r.id),void 0===r.name)throw new Error("Zone file format exception. Zone name not present");s=String(r.name);var a="";void 0!==r.description&&(a=String(r.description)),t._activeZone=new e.Zone(i,s,a),t._activeZone.initialize(r),t._activeZone.onActivated(),t._activeZone.load(),o.Message.send("GAME_READY",this)},t._globalZoneID=-1,t._registeredZones={},t}();exports.ZoneManager=t;
},{"./zone":"tcYh","../assets/assetManager":"fAg5","../message/message":"lt9y"}],"Nuqd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseBehavior=void 0;var t=function(){function t(t){this._data=t,this.name=this._data.name}return t.prototype.setOwner=function(t){this._owner=t},t.prototype.updateReady=function(){},t.prototype.update=function(t){},t.prototype.apply=function(t){},t}();exports.BaseBehavior=t;
},{}],"NhiZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RotationBehavior=exports.RotationBehaviorBuilder=exports.RotationBehaviorData=void 0;var t=require("./baseBehavior"),o=require("../math/vector3"),r=function(){var t=function(o,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])})(o,r)};return function(o,r){function e(){this.constructor=o}t(o,r),o.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),e=function(){function t(){this.rotation=o.Vector3.zero}return t.prototype.setFromJson=function(t){if(void 0===t.name)throw new Error("Name must be defined in behavior data");this.name=String(t.name),void 0!==t.rotation&&this.rotation.setFromJson(t.rotation)},t}();exports.RotationBehaviorData=e;var n=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"rotation"},enumerable:!0,configurable:!0}),t.prototype.buildFromJson=function(t){var o=new e;return o.setFromJson(t),new i(o)},t}();exports.RotationBehaviorBuilder=n;var i=function(t){function o(o){var r=t.call(this,o)||this;return r.rotation=o.rotation,r}return r(o,t),o.prototype.update=function(o){this._owner.transform.rotation.add(this.rotation),t.prototype.update.call(this,o)},o}(t.BaseBehavior);exports.RotationBehavior=i;
},{"./baseBehavior":"Nuqd","../math/vector3":"Gb9Z"}],"YLMM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputManager=exports.MouseContext=exports.Keys=void 0;var e,o=require("../math/vector2"),n=require("../message/message");exports.Keys=e,function(e){e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(e||(exports.Keys=e={}));var t=function(){return function(e,o,n){this.leftDown=e,this.rightDown=o,this.position=n}}();exports.MouseContext=t;var s=function(){function e(){}return e.initialize=function(o){for(var n=0;n<255;n++)e._keys[n]=!1;window.addEventListener("keydown",e.onKeyDown),window.addEventListener("keyup",e.onKeyUp),o.addEventListener("mousemove",e.onMouseMove),o.addEventListener("mousedown",e.onMouseDown),o.addEventListener("mouseup",e.onMouseUp)},e.isKeyDown=function(o){return e._keys[o]},e.getMousePosition=function(){return new o.Vector2(this._mouseX,this._mouseY)},e.setResolutionScale=function(o){e._resolutionScale.copyFrom(o)},e.onKeyDown=function(o){return e._keys[o.keyCode]=!0,!0},e.onKeyUp=function(o){return e._keys[o.keyCode]=!1,!0},e.onMouseMove=function(o){e._previousMouseX=e._mouseX,e._previousMouseY=e._mouseY;var n=o.target.getBoundingClientRect();e._mouseX=(o.clientX-Math.round(n.left))*(1/e._resolutionScale.x),e._mouseY=(o.clientY-Math.round(n.top))*(1/e._resolutionScale.y)},e.onMouseDown=function(o){0===o.button?this._letfDown=!0:2==o.button&&(this._rightDown=!0),n.Message.send("MOUSE_DOWN",this,new t(e._letfDown,e._rightDown,e.getMousePosition()))},e.onMouseUp=function(o){0===o.button?this._letfDown=!1:2==o.button&&(this._rightDown=!1),n.Message.send("MOUSE_UP",this,new t(e._letfDown,e._rightDown,e.getMousePosition()))},e._keys=[],e._letfDown=!1,e._rightDown=!1,e._resolutionScale=o.Vector2.one,e}();exports.InputManager=s;
},{"../math/vector2":"ezgt","../message/message":"lt9y"}],"IbJz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyboardMovementBehavior=exports.KeyboardMovementBehaviorBuilder=exports.KeyboardMovementBehaviorData=void 0;var e=require("./baseBehavior"),t=require("../input/inputManager"),o=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),r=function(){function e(){this.speed=.1}return e.prototype.setFromJson=function(e){if(void 0===e.name)throw new Error("Name must be defined in behavior data");this.name=String(e.name),void 0!==e.speed&&(this.speed=Number(e.speed))},e}();exports.KeyboardMovementBehaviorData=r;var n=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"keyboardMovement"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var t=new r;return t.setFromJson(e),new i(t)},e}();exports.KeyboardMovementBehaviorBuilder=n;var i=function(e){function r(t){var o=e.call(this,t)||this;return o.speed=.1,o.speed=t.speed,o}return o(r,e),r.prototype.update=function(o){t.InputManager.isKeyDown(t.Keys.LEFT)&&(this._owner.transform.position.x-=this.speed),t.InputManager.isKeyDown(t.Keys.RIGHT)&&(this._owner.transform.position.x+=this.speed),t.InputManager.isKeyDown(t.Keys.UP)&&(this._owner.transform.position.y-=this.speed),t.InputManager.isKeyDown(t.Keys.DOWN)&&(this._owner.transform.position.y+=this.speed),e.prototype.update.call(this,o)},r}(e.BaseBehavior);exports.KeyboardMovementBehavior=i;
},{"./baseBehavior":"Nuqd","../input/inputManager":"YLMM"}],"akRW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioManager=exports.SoundEffect=void 0;var t=function(){function t(t,o){this._player=new Audio(t),this.loop=o}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._player.loop},set:function(t){this._player.loop=t},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._player=void 0},t.prototype.play=function(){this._player.paused||this.stop(),this._player.play()},t.prototype.pause=function(){this._player.pause()},t.prototype.stop=function(){this._player.pause(),this._player.currentTime=0},t}();exports.SoundEffect=t;var o=function(){function o(){}return o.loadSoundFile=function(e,s,n){o._soundEffects[e]=new t(s,n)},o.playSound=function(t){void 0!==this._soundEffects[t]&&this._soundEffects[t].play()},o.stopSound=function(t){void 0!==this._soundEffects[t]&&this._soundEffects[t].stop()},o.stopAll=function(t){for(var e in o._soundEffects)this._soundEffects[e].stop()},o.pauseSound=function(t){void 0!==this._soundEffects[t]&&this._soundEffects[t].pause()},o.pauseAll=function(t){for(var e in o._soundEffects)this._soundEffects[e].pause()},o._soundEffects={},o}();exports.AudioManager=o;
},{}],"Qtif":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Circle2D=void 0;var i=require("../../math/vector2"),t=require("./rectangle2D"),o=function(){function o(){this.position=i.Vector2.zero,this.origin=i.Vector2.zero}return Object.defineProperty(o.prototype,"offset",{get:function(){return new i.Vector2(this.radius+this.radius*this.origin.x,this.radius+this.radius*this.origin.y)},enumerable:!0,configurable:!0}),o.prototype.setFromJson=function(i){if(void 0!==i.position&&this.position.setFromJson(i.position),void 0!==i.offset&&this.offset.setFromJson(i.offset),void 0===i.radius)throw new Error("Rectangle2D requires radius to be present.");this.radius=Number(i.radius)},o.prototype.intersects=function(s){if(s instanceof o&&Math.abs(i.Vector2.distance(s.position,this.position))<=this.radius+s.radius)return!0;if(s instanceof t.Rectangle2D){var e=this.position.x-Math.max(s.position.x,Math.min(this.position.x,s.position.x+s.width)),r=this.position.y-Math.max(s.position.y,Math.min(this.position.y,s.position.y+s.height));if(e*e+r*r<this.radius*this.radius)return!0}return!1},o.prototype.pointInShape=function(t){return Math.abs(i.Vector2.distance(this.position,t))<=this.radius},o}();exports.Circle2D=o;
},{"../../math/vector2":"ezgt","./rectangle2D":"L9Kl"}],"L9Kl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rectangle2D=void 0;var i=require("../../math/vector2"),t=require("./circle2D"),o=function(){function o(t,o,e,s){void 0===t&&(t=0),void 0===o&&(o=0),void 0===e&&(e=0),void 0===s&&(s=0),this.position=i.Vector2.zero,this.origin=i.Vector2.zero,this.position.x=t,this.position.y=o,this.width=e,this.height=s}return Object.defineProperty(o.prototype,"offset",{get:function(){return new i.Vector2(this.width*this.origin.x,this.height*this.origin.y)},enumerable:!0,configurable:!0}),o.prototype.setFromJson=function(i){if(void 0!==i.position&&this.position.setFromJson(i.position),void 0!==i.offset&&this.offset.setFromJson(i.offset),void 0===i.width)throw new Error("Rectangle2D requires width to be present.");if(this.width=Number(i.width),void 0===i.height)throw new Error("Rectangle2D requires height to be present.");this.height=Number(i.height)},o.prototype.intersects=function(i){if(i instanceof o){var e=this.getExtents(this),s=this.getExtents(i);return e.position.x<=s.width&&e.width>=s.position.x&&e.position.y<=s.height&&e.height>=s.position.y}if(i instanceof t.Circle2D){var h=i.position.x-Math.max(this.position.x,Math.min(i.position.x,this.position.x+this.width)),n=i.position.y-Math.max(this.position.y,Math.min(i.position.y,this.position.y+this.height));if(h*h+n*n<i.radius*i.radius)return!0}return!1},o.prototype.pointInShape=function(i){var t=this.width<0?this.position.x-this.width:this.position.x,o=this.height<0?this.position.y-this.height:this.position.y,e=this.width<0?this.position.x:this.position.x+this.width,s=this.height<0?this.position.y:this.position.y+this.height;return i.x>=t&&i.x<=e&&i.y>=o&&i.y<=s},o.prototype.getExtents=function(i){return new o(i.width<0?i.position.x-i.width:i.position.x,i.height<0?i.position.y-i.height:i.position.y,i.width<0?i.position.x:i.position.x+i.width,i.height<0?i.position.y:i.position.y+i.height)},o}();exports.Rectangle2D=o;
},{"../../math/vector2":"ezgt","./circle2D":"Qtif"}],"FOCg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CollisionManager=exports.CollisionData=void 0;var o=require("../message/message"),i=function(){return function(o,i,n){this.time=o,this.a=i,this.b=n}}();exports.CollisionData=i;var n=function(){function n(){}return n.registerCollisionComponent=function(o){n._components.push(o)},n.unRegisterCollisionComponent=function(o){var i=n._components.indexOf(o);-1!==i&&n._components.slice(i,1)},n.clear=function(){n._components.length=0},n.update=function(t){n._totalTime+=t;for(var e=0;e<n._components.length;++e)for(var s=n._components[e],a=0;a<n._components.length;++a){var l=n._components[a];if(s!==l&&((!s.isStatic||!l.isStatic)&&s.shape.intersects(l.shape))){for(var r=!1,c=0;c<n._collisionData.length;++c){if((m=n._collisionData[c]).a===s&&m.b===l||m.a===l&&m.b===s){s.onCollisionUpdate(l),l.onCollisionUpdate(s),m.time=n._totalTime,r=!0;break}}if(!r){var p=new i(n._totalTime,s,l);s.onCollisionEntry(l),l.onCollisionEntry(s),o.Message.sendPriority("COLLISION_ENTRY",void 0,p),this._collisionData.push(p)}}}var _=[];for(c=0;c<n._collisionData.length;++c){(m=n._collisionData[c]).time!==n._totalTime&&_.push(m)}for(;0!==_.length;){var m=_.shift(),f=n._collisionData.indexOf(m);n._collisionData.splice(f,1),m.a.onCollisionExit(m.b),m.b.onCollisionExit(m.a),o.Message.sendPriority("COLLISION_EXIT",void 0,m)}},n._totalTime=0,n._components=[],n._collisionData=[],n}();exports.CollisionManager=n;
},{"../message/message":"lt9y"}],"WaiO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CollisionComponent=exports.CollisionComponentBuilder=exports.CollisionComponentData=void 0;var o=require("./baseComponent"),t=require("../graphics/shapes2D/rectangle2D"),e=require("../graphics/shapes2D/circle2D"),n=require("../collision/CollisionManager"),r=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),i=function(){function o(){this.static=!0}return o.prototype.setFromJson=function(o){if(void 0!==o.name&&(this.name=String(o.name)),void 0!==o.static&&(this.static=Boolean(o.static)),void 0===o.shape)throw new Error("CollisionComponentData requires shape to be present.");if(void 0===o.shape.type)throw new Error("CollisionComponentData requires shape.type to be present.");var n=String(o.shape.type).toLowerCase();switch(n){case"rectangle":this.shape=new t.Rectangle2D;break;case"circle":this.shape=new e.Circle2D;break;default:throw new Error("Unssuported shape type "+n)}this.shape.setFromJson(o.shape)},o}();exports.CollisionComponentData=i;var s=function(){function o(){}return Object.defineProperty(o.prototype,"type",{get:function(){return"collision"},enumerable:!0,configurable:!0}),o.prototype.buildFromJson=function(o){var t=new i;return t.setFromJson(o),new p(t)},o}();exports.CollisionComponentBuilder=s;var p=function(o){function t(t){var e=o.call(this,t)||this;return e._shape=t.shape,e._static=t.static,e}return r(t,o),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStatic",{get:function(){return this._static},enumerable:!0,configurable:!0}),t.prototype.load=function(){o.prototype.load.call(this),this._shape.position.copyFrom(this._owner.getWorldPosition().toVector2().subtract(this._shape.offset)),n.CollisionManager.registerCollisionComponent(this)},t.prototype.update=function(t){this._shape.position.copyFrom(this._owner.getWorldPosition().toVector2().subtract(this._shape.offset)),o.prototype.update.call(this,t)},t.prototype.render=function(t){o.prototype.render.call(this,t)},t.prototype.onCollisionEntry=function(o){console.log("onCollisionEntry ",this,o)},t.prototype.onCollisionUpdate=function(o){},t.prototype.onCollisionExit=function(o){console.log("onCollisionExit ",this,o)},t}(o.BaseComponent);exports.CollisionComponent=p;
},{"./baseComponent":"gSld","../graphics/shapes2D/rectangle2D":"L9Kl","../graphics/shapes2D/circle2D":"Qtif","../collision/CollisionManager":"FOCg"}],"CYOe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MathExt=void 0;var t=function(){function t(){}return t.clamp=function(t,e,r){return t<e?e:t>r?r:t},t.degToRad=function(t){return t*Math.PI/180},t.radToDeg=function(t){return 180*t/Math.PI},t}();exports.MathExt=t;
},{}],"RcRq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayerBehavior=exports.PlayerBehaviorBuilder=exports.PlayerBehaviorData=void 0;var e=require("./baseBehavior"),t=require("../math/vector2"),i=require("../message/message"),o=require("../audio/audioManager"),s=require("../math/mathExtensions"),n=require("../math/vector3"),r=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),a=function(){function e(){this.acceleration=new t.Vector2(0,920)}return e.prototype.setFromJson=function(e){if(void 0===e.name)throw new Error("Name must be defined in behavior data");if(this.name=String(e.name),void 0!==e.acceleration&&this.acceleration.setFromJson(e.acceleration),void 0===e.animatedSpriteName)throw new Error("animatedSpriteName must be defined in behavior data");if(this.animatedSpriteName=String(e.animatedSpriteName),void 0===e.playerCollisionComponent)throw new Error("playerCollisionComponent must be defined in behavior data");if(this.playerCollisionComponent=String(e.playerCollisionComponent),void 0===e.groundCollisionComponent)throw new Error("groundCollisionComponent must be defined in behavior data");if(this.groundCollisionComponent=String(e.groundCollisionComponent),void 0===e.scoreCollisionComponent)throw new Error("scoreCollisionComponent must be defined in behavior data");this.scoreCollisionComponent=String(e.scoreCollisionComponent)},e}();exports.PlayerBehaviorData=a;var h=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"player"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var t=new a;return t.setFromJson(e),new l(t)},e}();exports.PlayerBehaviorBuilder=h;var l=function(e){function a(o){var s=e.call(this,o)||this;return s._velocity=t.Vector2.zero,s._isAlive=!0,s._isPlaying=!1,s._initialPosition=n.Vector3.zero,s._score=0,s._highScore=0,s._pipeNames=["pipe1Collision_end","pipe1Collision_middle_top","pipe1Collision_endneg","pipe1Collision_middle_bottom"],s._acceleration=o.acceleration,s._playerCollisionComponent=o.playerCollisionComponent,s._groundCollisionComponent=o.groundCollisionComponent,s._scoreCollisionComponent=o.scoreCollisionComponent,s._animatedSpriteName=o.animatedSpriteName,i.Message.subscribe("MOUSE_DOWN",s),i.Message.subscribe("COLLISION_ENTRY",s),i.Message.subscribe("GAME_READY",s),i.Message.subscribe("GAME_RESET",s),i.Message.subscribe("GAME_START",s),i.Message.subscribe("PLAYER_DIED",s),s}return r(a,e),a.prototype.updateReady=function(){if(e.prototype.updateReady.call(this),this._sprite=this._owner.getComponentByName(this._animatedSpriteName),void 0===this._sprite)throw new Error("AnimatedSpriteComponent named "+this._animatedSpriteName+" is not attaached to the owner of this component");this._sprite.setFrame(0),this._initialPosition.copyFrom(this._owner.transform.position)},a.prototype.update=function(t){var i=t/1e3;this._isPlaying&&this._velocity.add(this._acceleration.clone().scale(i)),this._velocity.y>400&&(this._velocity.y=400),this._owner.transform.position.y<-13&&(this._owner.transform.position.y=-13,this._velocity.y=0),this._owner.transform.position.add(this._velocity.clone().scale(i).toVector3()),this._velocity.y<0&&(this._owner.transform.rotation.z-=s.MathExt.degToRad(600)*i,this._owner.transform.rotation.z<s.MathExt.degToRad(-20)&&(this._owner.transform.rotation.z=s.MathExt.degToRad(-20))),!this.isFalling()&&this._isAlive||(this._owner.transform.rotation.z+=s.MathExt.degToRad(480)*i,this._owner.transform.rotation.z>s.MathExt.degToRad(90)&&(this._owner.transform.rotation.z=s.MathExt.degToRad(90))),this.shouldNotFlap()?this._sprite.stop():this._sprite.isPlaying||this._sprite.play(),e.prototype.update.call(this,t)},a.prototype.onMessage=function(e){switch(e.code){case"MOUSE_DOWN":this.onFlap();break;case"COLLISION_ENTRY":var t=e.context;if(t.a.name!==this._playerCollisionComponent&&t.b.name!==this._playerCollisionComponent)return;t.a.name===this._groundCollisionComponent||t.b.name===this._groundCollisionComponent?(this.die(),this.decelerate()):-1!==this._pipeNames.indexOf(t.a.name)||-1!==this._pipeNames.indexOf(t.b.name)?this.die():t.a.name!==this._scoreCollisionComponent&&t.b.name!==this._scoreCollisionComponent||this._isAlive&&this._isPlaying&&(this.setScore(this._score+1),o.AudioManager.playSound("ting"));break;case"GAME_RESET":i.Message.send("GAME_HIDE",this),i.Message.send("RESET_HIDE",this),i.Message.send("SPLASH_HIDE",this),i.Message.send("TUTORIAL_SHOW",this),this.reset();break;case"GAME_START":i.Message.send("GAME_SHOW",this),i.Message.send("RESET_HIDE",this),i.Message.send("SPLASH_HIDE",this),i.Message.send("TUTORIAL_HIDE",this),this._isPlaying=!0,this._isAlive=!0,this.start();break;case"GAME_READY":i.Message.send("RESET_HIDE",this),i.Message.send("TUTORIAL_HIDE",this),i.Message.send("GAME_HIDE",this),i.Message.send("SPLASH_SHOW",this);break;case"PLAYER_DIED":i.Message.send("RESET_SHOW",this)}},a.prototype.isFalling=function(){return this._velocity.y>220},a.prototype.shouldNotFlap=function(){return!this._isPlaying||this._velocity.y>220||!this._isAlive},a.prototype.die=function(){this._isPlaying&&this._isAlive&&(this._isAlive=!1,o.AudioManager.playSound("dead"),i.Message.send("PLAYER_DIED",this))},a.prototype.reset=function(){this._isAlive=!0,this._isPlaying=!1,this._sprite.owner.transform.position.copyFrom(this._initialPosition),this._sprite.owner.transform.rotation.z=0,this.setScore(0),this._velocity.set(0,0),this._acceleration.set(0,920),this._sprite.play()},a.prototype.start=function(){this._isPlaying=!0,i.Message.send("PLAYER_RESET",this)},a.prototype.decelerate=function(){this._acceleration.y=0,this._velocity.y=0},a.prototype.onFlap=function(){this._isAlive&&this._isPlaying&&(this._velocity.y=-280,o.AudioManager.playSound("flap"))},a.prototype.setScore=function(e){this._score=e,i.Message.send("counterText:SetText",this,this._score),i.Message.send("scoreText:SetText",this,this._score),this._score>this._highScore&&(this._highScore=this._score,i.Message.send("bestText:SetText",this,this._highScore))},a}(e.BaseBehavior);exports.PlayerBehavior=l;
},{"./baseBehavior":"Nuqd","../math/vector2":"ezgt","../message/message":"lt9y","../audio/audioManager":"akRW","../math/mathExtensions":"CYOe","../math/vector3":"Gb9Z"}],"sXp9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScrollBehavior=exports.ScrollBehaviorBuilder=exports.ScrollBehaviorData=void 0;var e=require("../math/vector2"),t=require("./baseBehavior"),o=require("../message/message"),i=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),s=function(){function t(){this.velocity=e.Vector2.zero,this.minPosition=e.Vector2.zero,this.resetPosition=e.Vector2.zero}return t.prototype.setFromJson=function(e){if(void 0===e.name)throw new Error("Name must be defined in behavior data.");if(this.name=String(e.name),void 0!==e.startMessage&&(this.startMessage=String(e.startMessage)),void 0!==e.stopMessage&&(this.stopMessage=String(e.stopMessage)),void 0!==e.resetMessage&&(this.resetMessage=String(e.resetMessage)),void 0===e.velocity)throw new Error("ScrollBehaviorData requires property 'velocity' to be defined!");if(this.velocity.setFromJson(e.velocity),void 0===e.minPosition)throw new Error("ScrollBehaviorData requires property 'minPosition' to be defined!");if(this.minPosition.setFromJson(e.minPosition),void 0===e.resetPosition)throw new Error("ScrollBehaviorData requires property 'resetPosition' to be defined!");this.resetPosition.setFromJson(e.resetPosition),void 0!==e.minResetY&&(this.minResetY=Number(e.minResetY)),void 0!==e.maxResetY&&(this.maxResetY=Number(e.maxResetY))},t}();exports.ScrollBehaviorData=s;var r=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"scroll"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var t=new s;return t.setFromJson(e),new n(t)},e}();exports.ScrollBehaviorBuilder=r;var n=function(t){function s(o){var i=t.call(this,o)||this;return i._velocity=e.Vector2.zero,i._minPosition=e.Vector2.zero,i._resetPosition=e.Vector2.zero,i._isScrolling=!1,i._initialPosition=e.Vector2.zero,i._velocity.copyFrom(o.velocity),i._minPosition.copyFrom(o.minPosition),i._resetPosition.copyFrom(o.resetPosition),i._startMessage=o.startMessage,i._stopMessage=o.stopMessage,i._resetMessage=o.resetMessage,void 0!==o.minResetY&&(i._minResetY=o.minResetY),void 0!==o.maxResetY&&(i._maxResetY=o.maxResetY),i}return i(s,t),s.prototype.updateReady=function(){t.prototype.updateReady.call(this),void 0!==this._startMessage&&o.Message.subscribe(this._startMessage,this),void 0!==this._stopMessage&&o.Message.subscribe(this._stopMessage,this),void 0!==this._resetMessage&&o.Message.subscribe(this._resetMessage,this),this._initialPosition.copyFrom(this._owner.transform.position.toVector2())},s.prototype.update=function(e){if(this._isScrolling){this._owner.transform.position.add(this._velocity.clone().scale(e/1e3).toVector3());var t=void 0!==this._minResetY&&void 0!==this._maxResetY;this._owner.transform.position.x<=this._minPosition.x&&(t||!t&&this._owner.transform.position.y<=this._minPosition.y)&&this.reset()}},s.prototype.onMessage=function(e){e.code===this._startMessage?this._isScrolling=!0:e.code===this._stopMessage?this._isScrolling=!1:e.code===this._resetMessage&&this.initial()},s.prototype.reset=function(){void 0!==this._minResetY&&void 0!==this._maxResetY?this._owner.transform.position.set(this._resetPosition.x,this.getRandomY()):this._owner.transform.position.copyFrom(this._resetPosition.toVector3())},s.prototype.getRandomY=function(){return Math.floor(Math.random()*(this._maxResetY-this._minResetY+1))+this._minResetY},s.prototype.initial=function(){this._owner.transform.position.copyFrom(this._initialPosition.toVector3())},s}(t.BaseBehavior);exports.ScrollBehavior=n;
},{"../math/vector2":"ezgt","./baseBehavior":"Nuqd","../message/message":"lt9y"}],"OWYW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapFont=exports.FontGlyph=void 0;var e=require("../assets/assetManager"),t=require("../message/message"),r=require("../math/vector2"),i=function(){function e(){}return e.extractFieldValue=function(e){return e.split("=")[1]},e}(),a=function(){function e(){}return e.fromFields=function(t){var r=new e;return r.id=Number(i.extractFieldValue(t[1])),r.x=Number(i.extractFieldValue(t[2])),r.y=Number(i.extractFieldValue(t[3])),r.width=Number(i.extractFieldValue(t[4])),r.height=Number(i.extractFieldValue(t[5])),r.xOffset=Number(i.extractFieldValue(t[6])),r.yOffset=Number(i.extractFieldValue(t[7])),r.xAdvance=Number(i.extractFieldValue(t[8])),r.page=Number(i.extractFieldValue(t[9])),r.channel=Number(i.extractFieldValue(t[10])),r},e}();exports.FontGlyph=a;var s=function(){function s(e,t){this._assetLoaded=!1,this._glyphs={},this._name=e,this._fontFileName=t}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageWidth",{get:function(){return this._imageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageHeight",{get:function(){return this._imageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureName",{get:function(){return this._imageFile},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isLoaded",{get:function(){return this._assetLoaded},enumerable:!0,configurable:!0}),s.prototype.load=function(){var r=e.AssetManager.getAsset(this._fontFileName);void 0!==r?this.processFontFile(r.data):t.Message.subscribe(e.MESSAGE_ASSET_LOADER_ASSET_LOADED+this._fontFileName,this)},s.prototype.onMessage=function(t){t.code===e.MESSAGE_ASSET_LOADER_ASSET_LOADED+this._fontFileName&&this.processFontFile(t.context.data)},s.prototype.getGlyph=function(e){var t=e.charCodeAt(0);return t=void 0===this._glyphs[t]?63:t,this._glyphs[t]},s.prototype.measureText=function(e){for(var t=r.Vector2.zero,i=0,a=0,s=0,n=0,o=e;n<o.length;n++){var u=o[n];switch(u){case"\n":a>i&&(i=a),a=0,s+=this._size;break;default:a+=this.getGlyph(u).xAdvance}}return t.set(i,s),t},s.prototype.processFontFile=function(e){for(var t=0,r=0,s=e.split("\n");r<s.length;r++){var n=s[r].replace(/\s\s+/g," ").split(" ");switch(n[0]){case"info":this._size=Number(i.extractFieldValue(n[2]));break;case"common":this._imageWidth=Number(i.extractFieldValue(n[3])),this._imageHeight=Number(i.extractFieldValue(n[4]));break;case"page":Number(i.extractFieldValue(n[1]));this._imageFile=i.extractFieldValue(n[2]),this._imageFile=this._imageFile.replace(/"/g,""),this._imageFile=("assets/fonts/"+this._imageFile).trim();break;case"chars":t=Number(i.extractFieldValue(n[1])),t++;break;case"char":var o=a.fromFields(n);this._glyphs[o.id]=o}}for(var u=0,l=0,c=Object.keys(this._glyphs);l<c.length;l++){var h=c[l];this._glyphs.hasOwnProperty(h)&&u++}if(u!==t)throw new Error("Font file reported existence of "+t+" glyphs, but only "+u+" were found.");this._assetLoaded=!0},s}();exports.BitmapFont=s;
},{"../assets/assetManager":"fAg5","../message/message":"lt9y","../math/vector2":"ezgt"}],"Khrk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapFontManager=void 0;var n=require("./BitmapFont"),o=function(){function n(){}return n.fromJson=function(o){var t=new n;if(void 0!==o.name&&(t.name=String(o.name)),void 0===o.fontFile)throw new Error("Cannot create a bitmap font without a font file.");return t.fontFile=String(o.fontFile),t},n}(),t=function(){function t(){}return t.addFont=function(o,e){t._fonts[o]=new n.BitmapFont(o,e)},Object.defineProperty(t,"isLoaded",{get:function(){if(t._configLoaded){for(var n=0,o=Object.keys(t._fonts);n<o.length;n++){var e=o[n];if(!t._fonts[e].isLoaded)return console.debug("Font "+e+" is still loading..."),!1}return console.debug("All fonts are loaded"),!0}return!1},enumerable:!0,configurable:!0}),t.getFont=function(n){if(void 0===t._fonts[n])throw new Error("A font named "+n+" does not exist.");return t._fonts[n]},t.load=function(){for(var n=0,o=Object.keys(t._fonts);n<o.length;n++){var e=o[n];t._fonts[e].load()}},t.updateReady=function(){for(var n=0,o=Object.keys(t._fonts);n<o.length;n++){var e=o[n];if(!t._fonts[e].isLoaded)return console.debug("Font "+e+" is still loading..."),!1}return console.debug("All fonts are loaded..."),!0},t.processFontAsset=function(e){var r=e.data.bitmapFonts;if(r)for(var a=0,i=r;a<i.length;a++){var f=i[a];o.fromJson(f);t._fonts[f.name]=new n.BitmapFont(f.name,f.fontFile),t._fonts[f.name].load()}t._configLoaded=!0},t._configLoaded=!1,t._fonts={},t}();exports.BitmapFontManager=t;
},{"./BitmapFont":"OWYW"}],"rHs1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapText=void 0;var t=require("../math/vector3"),e=require("../gl/glBuffer"),i=require("./material"),r=require("./vertex"),o=require("./BitmapFontManager"),n=require("./color"),a=require("../gl/gl"),s=function(){function s(e,i){this._isDirty=!1,this._origin=t.Vector3.zero,this._vertices=[],this._name=e,this._fontName=i}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){this._text!==t&&(this._text=t,this._isDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},set:function(t){this._origin=t,this.calculateVertices()},enumerable:!0,configurable:!0}),s.prototype.destroy=function(){this._buffer.destroy(),this._material.destroy(),this._material=void 0},s.prototype.load=function(){this._bitmapFont=o.BitmapFontManager.getFont(this._fontName),this._material=new i.Material("BITMAP_FONT_"+this.name+"_"+this._bitmapFont.size,this._bitmapFont.textureName,n.Color.white()),this._buffer=new e.GLBuffer;var t=new e.AttributeInfo;t.location=0,t.size=3,this._buffer.addAttributeLocation(t);var r=new e.AttributeInfo;r.location=1,r.size=2,this._buffer.addAttributeLocation(r)},s.prototype.update=function(t){this._isDirty&&this._bitmapFont.isLoaded&&(this.calculateVertices(),this._isDirty=!1)},s.prototype.draw=function(t,e){var i=t.getUniformLocation("u_model");a.gl.uniformMatrix4fv(i,!1,e.toFloat32Array());var r=t.getUniformLocation("u_tint");if(a.gl.uniform4fv(r,this._material.tint.toFloat32Array()),null!=this._material.diffuseTexture){this._material.diffuseTexture.activateAndBind(0);var o=t.getUniformLocation("u_diffuse");a.gl.uniform1i(o,0)}this._buffer.bind(),this._buffer.draw()},s.prototype.calculateVertices=function(){this._vertices.length=0,this._buffer.clearData();for(var t=0,e=0,i=0,o=this._text;i<o.length;i++){var n=o[i];if("\n"!==n){var a=this._bitmapFont.getGlyph(n),s=t+a.xOffset,h=e+a.yOffset,u=s+a.width,f=h+a.height,_=a.x/this._bitmapFont.imageWidth,c=a.y/this._bitmapFont.imageHeight,p=(a.x+a.width)/this._bitmapFont.imageWidth,l=(a.y+a.height)/this._bitmapFont.imageHeight;this._vertices.push(new r.Vertex(s,h,0,_,c)),this._vertices.push(new r.Vertex(s,f,0,_,l)),this._vertices.push(new r.Vertex(u,f,0,p,l)),this._vertices.push(new r.Vertex(u,f,0,p,l)),this._vertices.push(new r.Vertex(u,h,0,p,c)),this._vertices.push(new r.Vertex(s,h,0,_,c)),t+=a.xAdvance}else t=0,e+=this._bitmapFont.size}for(var m=0,b=this._vertices;m<b.length;m++){var g=b[m];this._buffer.pushBackData(g.toArray())}this._buffer.upload(),this._buffer.unbind()},s}();exports.BitmapText=s;
},{"../math/vector3":"Gb9Z","../gl/glBuffer":"ecJP","./material":"hgRK","./vertex":"B7SC","./BitmapFontManager":"Khrk","./color":"FfiS","../gl/gl":"tDsI"}],"HfUQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapTextComponent=exports.BitmapTextComponentBuilder=exports.BitmapTextComponentData=void 0;var t=require("../math/vector3"),e=require("./baseComponent"),o=require("../graphics/BitmapText"),n=require("../message/message"),r=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(){function e(){this.origin=t.Vector3.zero}return e.prototype.setFromJson=function(t){void 0!==t.name&&(this.name=String(t.name)),void 0!==t.fontName&&(this.fontName=String(t.fontName)),void 0!==t.text&&(this.text=String(t.text)),void 0!==t.origin&&this.origin.setFromJson(t.origin)},e}();exports.BitmapTextComponentData=i;var p=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"bitmapText"},enumerable:!0,configurable:!0}),t.prototype.buildFromJson=function(t){var e=new i;return e.setFromJson(t),new a(e)},t}();exports.BitmapTextComponentBuilder=p;var a=function(e){function i(r){var i=e.call(this,r)||this;return i._fontName=r.fontName,i._bitmapText=new o.BitmapText(i.name,i._fontName),r.origin.equals(t.Vector3.zero)||i._bitmapText.origin.copyFrom(r.origin),i._bitmapText.text=r.text,n.Message.subscribe(i.name+":SetText",i),i}return r(i,e),i.prototype.load=function(){this._bitmapText.load()},i.prototype.update=function(t){this._bitmapText.update(t)},i.prototype.render=function(t){this._bitmapText.draw(t,this._owner.worldMatrix),e.prototype.render.call(this,t)},i.prototype.onMessage=function(t){t.code===this.name+":SetText"&&(this._bitmapText.text=String(t.context))},i}(e.BaseComponent);exports.BitmapTextComponent=a;
},{"../math/vector3":"Gb9Z","./baseComponent":"gSld","../graphics/BitmapText":"rHs1","../message/message":"lt9y"}],"iqQi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MouseClickBehavior=exports.MouseClickBehaviorBuilder=exports.MouseClickBehaviorData=void 0;var e=require("./baseBehavior"),t=require("../message/message"),o=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),i=function(){function e(){}return e.prototype.setFromJson=function(e){if(void 0===e.name)throw new Error("Name must be defined in behavior data.");if(this.name=String(e.name),void 0===e.width)throw new Error("width must be defined in behavior data.");if(this.width=Number(e.width),void 0===e.height)throw new Error("height must be defined in behavior data.");if(this.height=Number(e.height),void 0===e.messageCode)throw new Error("messageCode must be defined in behavior data.");this.messageCode=String(e.messageCode)},e}();exports.MouseClickBehaviorData=i;var r=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"mouseClick"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var t=new i;return t.setFromJson(e),new n(t)},e}();exports.MouseClickBehaviorBuilder=r;var n=function(e){function i(o){var i=e.call(this,o)||this;return i._width=o.width,i._height=o.height,i._messageCode=o.messageCode,t.Message.subscribe("MOUSE_UP",i),i}return o(i,e),i.prototype.onMessage=function(e){if("MOUSE_UP"===e.code){if(!this._owner.isVisible)return;var o=e.context,i=this._owner.getWorldPosition(),r=i.x+this._width,n=i.y+this._height;o.position.x>=i.x&&o.position.x<=r&&o.position.y>=i.y&&o.position.y<=n&&t.Message.send(this._messageCode,this)}},i}(e.BaseBehavior);exports.MouseClickBehavior=n;
},{"./baseBehavior":"Nuqd","../message/message":"lt9y"}],"ceq6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisibilityOnMessageBehavior=exports.VisibilityOnMessageBehaviorBuilder=exports.VisibilityOnMessageBehaviorData=void 0;var e=require("./baseBehavior"),i=require("../message/message"),s=function(){var e=function(i,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])})(i,s)};return function(i,s){function t(){this.constructor=i}e(i,s),i.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}(),t=function(){function e(){}return e.prototype.setFromJson=function(e){if(void 0===e.messageCode)throw new Error("VisibilityOnMessageBehaviorData requires 'messageCode' to be defined.");if(this.messageCode=String(e.messageCode),void 0===e.visible)throw new Error("VisibilityOnMessageBehaviorData requires 'visible' to be defined.");this.visible=Boolean(e.visible)},e}();exports.VisibilityOnMessageBehaviorData=t;var o=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"visibilityOnMessage"},enumerable:!0,configurable:!0}),e.prototype.buildFromJson=function(e){var i=new t;return i.setFromJson(e),new r(i)},e}();exports.VisibilityOnMessageBehaviorBuilder=o;var r=function(e){function t(s){var t=e.call(this,s)||this;return t._messageCode=s.messageCode,t._visible=s.visible,i.Message.subscribe(t._messageCode,t),t}return s(t,e),t.prototype.onMessage=function(e){e.code===this._messageCode&&(this._owner.isVisible=this._visible)},t}(e.BaseBehavior);exports.VisibilityOnMessageBehavior=r;
},{"./baseBehavior":"Nuqd","../message/message":"lt9y"}],"yIMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XGLEngine=void 0;var e=require("gl-matrix"),i=require("./gl/gl"),r=require("./gl/shaders/basicShader"),t=require("./components/spriteComponent"),a=require("./components/animatedSpriteComponent"),n=require("./assets/assetManager"),o=require("./message/messageBus"),s=require("./graphics/materialManager"),g=require("./graphics/material"),l=require("./graphics/color"),h=require("./world/zoneManager"),d=require("./components/componentManager"),u=require("./behaviors/behaviorManager"),p=require("./behaviors/rotationBehavior"),M=require("./behaviors/keyboardMovementBehavior"),c=require("./input/inputManager"),m=require("./audio/audioManager"),v=require("./components/collisionComponent"),w=require("./collision/CollisionManager"),B=require("./behaviors/PlayerBehavior"),_=require("./behaviors/ScrollBehavior"),x=require("./graphics/BitmapFontManager"),q=require("./components/BitmapTextComponent"),C=require("./behaviors/MouseClickBehavior"),b=require("./behaviors/VisibilityOnMessageBehavior"),y=require("./math/matrix4x4"),f=require("./math/vector2"),S=function(){function S(e,i){this._previousTime=0,this._isFirstUpdate=!0,e&&(this._gameWidth=e),i&&(this._gameHeight=i)}return S.prototype.start=function(e){this._canvas=i.GLUtilities.init(e),void 0!==this._gameWidth&&void 0!==this._gameHeight&&(this._aspect=this._gameWidth/this._gameHeight),d.ComponentManager.registerBuilder(new t.SpriteComponentBuilder),d.ComponentManager.registerBuilder(new a.AnimatedSpriteComponentBuilder),d.ComponentManager.registerBuilder(new v.CollisionComponentBuilder),d.ComponentManager.registerBuilder(new q.BitmapTextComponentBuilder),u.BehaviorManager.registerBuilder(new p.RotationBehaviorBuilder),u.BehaviorManager.registerBuilder(new M.KeyboardMovementBehaviorBuilder),u.BehaviorManager.registerBuilder(new B.PlayerBehaviorBuilder),u.BehaviorManager.registerBuilder(new _.ScrollBehaviorBuilder),u.BehaviorManager.registerBuilder(new C.MouseClickBehaviorBuilder),u.BehaviorManager.registerBuilder(new b.VisibilityOnMessageBehaviorBuilder),n.AssetManager.initialize(),c.InputManager.initialize(this._canvas),h.ZoneManager.initialize(),this._basicShader=new r.BasicShader,this._basicShader.use(),x.BitmapFontManager.addFont("default","assets/fonts/text.txt"),x.BitmapFontManager.load(),s.MaterialManager.registerMaterial(new g.Material("bg","assets/textures/bg.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("end","assets/textures/end.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("middle","assets/textures/middle.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("grass","assets/textures/grass.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("duck","assets/textures/duck.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("playbtn","assets/textures/playbtn.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("restartbtn","assets/textures/restartbtn.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("score","assets/textures/score.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("title","assets/textures/title.png",new l.Color(255,255,255,255))),s.MaterialManager.registerMaterial(new g.Material("tutorial","assets/textures/tutorial.png",new l.Color(255,255,255,255))),m.AudioManager.loadSoundFile("flap","assets/sounds/flap.mp3",!1),m.AudioManager.loadSoundFile("ting","assets/sounds/ting.mp3",!1),m.AudioManager.loadSoundFile("dead","assets/sounds/dead.mp3",!1),this._projection=y.Matrix4x4.orthographic(0,this._canvas.width,this._canvas.height,0,-100,100),this.resize(),this.preloading()},S.prototype.resize=function(){if(void 0!==this._canvas)if(void 0===this._gameWidth||void 0===this._gameHeight)this._canvas.width=window.innerWidth,this._canvas.height=window.innerHeight,i.gl.viewport(0,0,window.innerWidth,window.innerHeight),this._projection=y.Matrix4x4.orthographic(0,window.innerWidth,window.innerHeight,0,-100,100);else{var e=window.innerWidth,r=window.innerHeight,t=e/r,a=document.getElementById("gameArea");t>this._aspect?e=r*this._aspect:r=e*this._aspect,a.style.width=e+"px",a.style.height=r+"px",a.style.marginTop=-r/2+"px",a.style.marginLeft=-e/2+"px",this._canvas.width=e,this._canvas.height=r,i.gl.viewport(0,0,e,r),this._projection=y.Matrix4x4.orthographic(0,this._gameWidth,this._gameHeight,0,-100,100);var n=new f.Vector2(e/this._gameWidth,r/this._gameHeight);c.InputManager.setResolutionScale(n)}},S.prototype.onMessage=function(e){if("MOUSE_UP"===e.code){var i=e.context;document.title="Pos: ["+i.position.x+"], ["+i.position.y+"]"}},S.prototype.loop=function(){this._isFirstUpdate,this.update(),this.render(),requestAnimationFrame(this.loop.bind(this))},S.prototype.preloading=function(){o.MessageBus.update(0),x.BitmapFontManager.updateReady()?(h.ZoneManager.changeZone(0),this.loop()):requestAnimationFrame(this.preloading.bind(this))},S.prototype.update=function(){var e=performance.now()-this._previousTime;o.MessageBus.update(e),h.ZoneManager.update(e),w.CollisionManager.update(e),this._previousTime=performance.now()},S.prototype.render=function(){i.GLUtilities.clearFrame(),h.ZoneManager.render(this._basicShader);var e=this._basicShader.getUniformLocation("u_projection");i.gl.uniformMatrix4fv(e,!1,this._projection.toFloat32Array())},S.prototype.createProjection=function(){var i=e.mat4.create();return e.mat4.ortho(i,0,this._canvas.width,this._canvas.height,0,-100,100)},S}();exports.XGLEngine=S;
},{"gl-matrix":"oQ5k","./gl/gl":"tDsI","./gl/shaders/basicShader":"d3ZM","./components/spriteComponent":"o12l","./components/animatedSpriteComponent":"ZGTg","./assets/assetManager":"fAg5","./message/messageBus":"P8Cc","./graphics/materialManager":"Mh4m","./graphics/material":"hgRK","./graphics/color":"FfiS","./world/zoneManager":"qZMs","./components/componentManager":"vqEM","./behaviors/behaviorManager":"b3SU","./behaviors/rotationBehavior":"NhiZ","./behaviors/keyboardMovementBehavior":"IbJz","./input/inputManager":"YLMM","./audio/audioManager":"akRW","./components/collisionComponent":"WaiO","./collision/CollisionManager":"FOCg","./behaviors/PlayerBehavior":"RcRq","./behaviors/ScrollBehavior":"sXp9","./graphics/BitmapFontManager":"Khrk","./components/BitmapTextComponent":"HfUQ","./behaviors/MouseClickBehavior":"iqQi","./behaviors/VisibilityOnMessageBehavior":"ceq6","./math/matrix4x4":"R2nn","./math/vector2":"ezgt"}],"jP6t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("xgl");!function(e){var i;window.onload=function(){(i=new n.XGLEngine(320,480)).start("viewport")},window.onresize=function(){i&&i.resize()}}(e||(e={}));
},{"xgl":"yIMs"}]},{},["jP6t"], null)
//# sourceMappingURL=/stupidduck/main.f2c3d086.js.map